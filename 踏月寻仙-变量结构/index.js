import{registerMvuSchema as r}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';const e=z,t=[100,100,100,100,200,200,200,200,400,400,400,400,800,800,800,800,1600,1600,1600,1600,3200,3200,3200,3200,6400,6400,6400,6400,12800,12800,12800,12800,25600,25600,25600,25600],n=[100,100,100,100,200,200,200,200,500,500,500,500,1e3,1e3,1e3,1e3,2e3,2e3,2e3,2e3,5e3,5e3,5e3,5e3,1e4,1e4,1e4,1e4,5e4,5e4,5e4,5e4,1e5,1e5,1e5,1e5],a=['练气','筑基','金丹','元婴','化神','炼虚','合体','大乘','渡劫'],o=['初期','中期','后期','大圆满'],s=e.z.object({名称:e.z.string(),描述:e.z.string(),品阶:e.z.string(),数量:e.z.coerce.number()}),c={等级:e.z.coerce.number().transform(r=>_.clamp(r,1,36)),修为:e.z.coerce.number().transform(r=>Math.max(0,r)),灵根:e.z.string().prefault('五行杂灵根'),体质:e.z.string().prefault('凡体'),功法:e.z.string().prefault('无'),本命兵器:e.z.string().prefault('无'),神通列表:e.z.record(e.z.string().describe('神通名'),e.z.string().describe('神通描述')).prefault({}),灵石:e.z.coerce.number().transform(r=>Math.max(0,r)),已活岁月:e.z.coerce.number().transform(r=>Math.max(0,r)),尝试突破:e.z.boolean().prefault(!1)};function i(r){const e=r.等级,s=t[e-1]||100,c=n[e-1]||100,i=Math.floor((e-1)/4),f=`${a[i]||'练气'}${o[(e-1)%4]}`,u=`${r.已活岁月}/${c}`,l=r.尝试突破?'突破中':r.修为>=s?'瓶颈期':'修炼中',p=`${(r.修为/s*100).toFixed(1)}%`;return{...r,突破阈值:s,寿元上限:c,境界描述:f,寿元状态:u,状态:l,进度:p}}const f=e.z.object({世界时钟:e.z.object({纪元:e.z.string().prefault('末法时代'),年份:e.z.coerce.number().prefault(1)}).prefault({}),世界地图:e.z.record(e.z.string().describe('区域名'),e.z.object({layer:e.z.enum(['天层','地层','下层']).prefault('地层'),danger:e.z.coerce.number().transform(r=>_.clamp(r,0,100)),desc:e.z.string().prefault(''),connections:e.z.array(e.z.string()).prefault([])})).prefault({}),世界图志:e.z.record(e.z.string().describe('事件名'),e.z.object({状态:e.z.string().prefault(''),事件:e.z.string().prefault('')})).prefault({}),本尊:e.z.object({...c,行踪:e.z.object({当前区域:e.z.string().prefault('未知之地'),所属层级:e.z.string().optional(),环境描述:e.z.string().optional(),危险度:e.z.coerce.number().optional(),可用通道:e.z.array(e.z.string()).optional(),导航信息:e.z.string().optional()}).prefault({}),身份:e.z.object({姓名:e.z.string().prefault('无名氏'),宗门:e.z.string().prefault('散修'),出身:e.z.string().prefault('凡人')}).prefault({}),背包:e.z.record(e.z.string().describe('物品名'),s).transform(r=>_.pickBy(r,({数量:r})=>r>0)).prefault({}),法宝:e.z.record(e.z.string().describe('法宝名'),s).transform(r=>_.pickBy(r,({数量:r})=>r>0)).prefault({}),杂物袋:e.z.record(e.z.string().describe('杂物名'),s).transform(r=>_.pickBy(r,({数量:r})=>r>0)).prefault({})}).transform(i).prefault({等级:1,修为:0,灵根:'五行杂灵根',体质:'凡体',功法:'无',本命兵器:'无',灵石:0,已活岁月:16,尝试突破:!1}),红颜:e.z.record(e.z.string().describe('红颜名'),e.z.object({...c,好感度:e.z.coerce.number().transform(r=>_.clamp(r,-100,100)),关系:e.z.string().prefault('陌生人'),重要性:e.z.string().prefault('路人')}).transform(i)).prefault({}),NPC图鉴:e.z.record(e.z.string().describe('NPC名'),e.z.object({...c,所在宗门:e.z.string().prefault('散修')}).transform(i)).prefault({})});$(()=>{r(f),console.info('[踏月寻仙] MVU 变量结构已注册')});
//# sourceMappingURL=index.js.map