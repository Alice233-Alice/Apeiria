<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var a={502(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=Vue;function l(e){return!!(0,r.getCurrentScope)()&&((0,r.onScopeDispose)(e),!0)}const c='undefined'!=typeof window&&'undefined'!=typeof document;'undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;function s(e){const t=Object.create(null);return a=>t[a]||(t[a]=e(a))}const i=/\B([A-Z])/g,d=(s(e=>e.replace(i,'-$1').toLowerCase()),/-(\w)/g);s(e=>e.replace(d,(_,e)=>e?e.toUpperCase():''));function p(e,t=1e3,a={}){const{immediate:n=!0,immediateCallback:o=!1}=a;let s=null;const i=(0,r.shallowRef)(!1);function d(){s&&(clearInterval(s),s=null)}function p(){i.value=!1,d()}function b(){const a=(0,r.toValue)(t);a<=0||(i.value=!0,o&&e(),d(),i.value&&(s=setInterval(e,a)))}if(n&&c&&b(),(0,r.isRef)(t)||'function'==typeof t){l((0,r.watch)(t,()=>{i.value&&c&&b()}))}return l(p),{isActive:(0,r.shallowReadonly)(i),pause:p,resume:b}}const b=_;var u=o.n(b);const m={孟十七:{normal:{front:'https://files.catbox.moe/c1su29.jpg',back:'https://files.catbox.moe/c1su29.jpg'},shy:'https://files.catbox.moe/8doe0f.jpg',smile:'https://files.catbox.moe/8doe0f.jpg',angry:'https://files.catbox.moe/c1su29.jpg',cry:'https://files.catbox.moe/c1su29.jpg',surprise:'https://files.catbox.moe/8doe0f.jpg'},白清弦:{normal:{front:'random_front',back:'random_back'}},虞汐颜:{normal:{front:'random_dual_front',back:'random_dual_back'}},许听雨:{normal:{front:'random_front',back:'random_back'}},南宫云裳:{normal:{front:'random_front',back:'random_back'}},晚棠:{normal:{front:'random_front',back:'random_back'}},梦杳泠:{normal:{front:'random_front',back:'random_back'}}},f={虞汐:'虞汐颜',虞颜:'虞汐颜'};function g(e){return f[e]??e}const v={白清弦:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦1.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦2.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦3.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦4.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦5.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦18.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦19.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦20.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦21.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦22.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦38.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦36.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦31.png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦6.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦7.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦8.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦9.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦10.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦11.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦15.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦16.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦17.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦25.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦24.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦23.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦15.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦26.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦27.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦28.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦29.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦30.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦37.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦 (13).png']},许听雨:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (22).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (24).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (25).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (26).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (27).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (28).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (29).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (31).png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (21).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (22).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (33).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (23).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (30).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (32).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (34).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (35).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/许听雨 (36).png']},虞汐颜:{虞汐_front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (24).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (23).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (26).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (25).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (37).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (36).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (43).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (41).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (45).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (46).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (44).png'],虞汐_back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (33).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (29).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (30).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (31).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (28).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (27).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (34).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (35).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (39).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (38).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (42).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (40).png'],虞颜_front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (21).png'],虞颜_back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (22).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (23).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (24).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (28).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (25).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (39).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (29).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (32).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (31).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (30).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (33).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (34).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (35).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (36).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (37).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (38).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (44).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (45).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (46).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (47).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (52).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (43).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (42).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (50).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (51).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (49).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (48).png']},南宫云裳:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (21).png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (25).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (22).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (23).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/南宫云裳 (24).png']},晚棠:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (9).png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (21).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (22).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/晚棠 (23).png']},梦杳泠:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (18).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (19).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (21).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (20).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (22).png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (26).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (27).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (24).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (23).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/梦杳泠 (25).png']}},V='normal',N='https://files.catbox.moe/placeholder.jpg';let E=null,h=!1;function y(e,t){const a=v[e];if(!a)return console.warn(`[图鉴] 未找到角色 "${e}" 的图片池`),N;const n=a[t];if(!n||0===n.length)return console.warn(`[图鉴] 角色 "${e}" 的 ${t} 图片池为空`),N;return n[Math.floor(Math.random()*n.length)]}function k(e,t){const a=v['虞汐颜'];if(!a)return console.warn('[图鉴] 未找到虞汐颜的图片池'),{url:N,soulName:'虞汐颜'};if('front'===e){if(h)return console.info('[图鉴] 虞汐颜卡片已生成，跳过重复生成'),null;h=!0;const e=t??(Math.random()<.5?'虞汐':'虞颜');E=e;const n=a[`${e}_front`];if(!n||0===n.length)return console.warn(`[图鉴] 虞汐颜的 ${e} 正面图片池为空`),{url:N,soulName:e};const o=Math.floor(Math.random()*n.length);return console.info(`[图鉴] 虞汐颜正面选择: ${e}`),{url:n[o],soulName:e}}{if(!E)return console.error('[图鉴] 错误：虞汐颜背面图片获取时，正面魂体未缓存'),{url:N,soulName:'虞汐颜'};const e='虞汐'===E?'虞颜':'虞汐',t=a[`${e}_back`];if(!t||0===t.length)return console.warn(`[图鉴] 虞汐颜的 ${e} 背面图片池为空`),{url:N,soulName:e};const n=Math.floor(Math.random()*t.length);return console.info(`[图鉴] 虞汐颜背面选择: ${e}`),{url:t[n],soulName:e}}}function B(e,t,a){if('string'==typeof e)return{front:e,back:e};if('虞汐颜'===t&&'random_dual_front'===e.front){const e=function(e){return'虞汐'===e?'虞汐':'虞颜'===e?'虞颜':void 0}(a??t),n=k('front',e);if(null===n)return null;const o=k('back');return null===o?null:{front:n.url,back:o.url,frontName:n.soulName,backName:o.soulName}}let n=e.front,o=e.back??e.front;return'random_front'===n&&(n=y(t,'front')),'random_back'===o&&(o=y(t,'back')),{front:n,back:o}}function S(e,t,a){const n=g(e),o=m[n];if(!o)return console.warn(`[图鉴] 未找到角色 "${e}" 的图片配置，使用占位图`),{front:N,back:N};const r=o[t]??o[V];if(!r)return console.warn(`[图鉴] 角色 "${e}" 没有表情 "${t}" 的图片，使用占位图`),{front:N,back:N};const l=B(r,n,e);if(null===l)return null;let c=l.back;if(a&&a!==t){const t=o[a]??o[V];if(t){const a=B(t,n,e);a&&a.back&&(c=a.back)}else console.warn(`[图鉴] 角色 "${e}" 没有背面表情 "${a}"，使用正面背面`)}return c||(console.warn(`[图鉴] 角色 "${e}" 背面图片缺失，使用正面图片`),c=l.front),{front:l.front,back:c,frontName:l.frontName,backName:l.backName}}const C=z,w=['练气','筑基','金丹','元婴','化神','炼虚','合体','大乘','渡劫'],x=['初期','中期','后期','大圆满'],D=[100,200,300,400,500,600,700,800,900,1e3,1100,1200,2400,2400,2400,2400,4800,4800,4800,4800,9600,9600,9600,9600,19200,19200,19200,19200,38400,38400,38400,38400,76800,76800,76800,76800],M=[100,100,100,100,200,200,200,200,500,500,500,500,1e3,1e3,1e3,1e3,2e3,2e3,2e3,2e3,5e3,5e3,5e3,5e3,1e4,1e4,1e4,1e4,5e4,5e4,5e4,5e4,1e5,1e5,1e5,1e5],T={火:{effect:'灼烧',visual:'烈焰',nature:'爆裂',color:'#ff4444'},水:{effect:'缠绕',visual:'激流',nature:'柔韧',color:'#4488ff'},冰:{effect:'冻结',visual:'寒霜',nature:'极寒',color:'#88ddff'},雷:{effect:'麻痹',visual:'紫电',nature:'狂暴',color:'#aa44ff'},风:{effect:'切割',visual:'罡风',nature:'无形',color:'#88ff88'},土:{effect:'镇压',visual:'岩铠',nature:'厚重',color:'#aa8844'},木:{effect:'寄生',visual:'藤蔓',nature:'生生不息',color:'#44aa44'},金:{effect:'穿透',visual:'锐金',nature:'锋利',color:'#ffdd44'},暗:{effect:'腐蚀',visual:'黑雾',nature:'诡谲',color:'#442244'},光:{effect:'净化',visual:'圣辉',nature:'神圣',color:'#ffffaa'},混沌:{effect:'湮灭',visual:'灰光',nature:'虚无',color:'#888888'}};function j(e){return['#888888','#44aa44','#4488ff','#aa44ff','#ff4444','#ffaa00','#ffdd44','#ffffff','#ff88ff'][Math.floor((e-1)/4)]||'#888888'}function A(e){return e>=90?'#ff0000':e>=70?'#ff4400':e>=50?'#ff8800':e>=30?'#ffcc00':'#44aa44'}function U(e){let t=-1;for(let a=0;a<w.length;a++)if(e.includes(w[a])){t=a;break}if(-1===t)return 1;let a=0;for(let t=0;t<x.length;t++)if(e.includes(x[t])){a=t;break}return 4*t+a+1}function I(e){const t=Math.floor((e-1)/4),a=(e-1)%4,n=Math.pow(10,t+1),o=.2*n*a;return Math.round(n+o)}const O={凡:'凡',凡阶:'凡',凡级:'凡',凡品:'凡',黄:'黄',黄阶:'黄',黄级:'黄',黄品:'黄',玄:'玄',玄阶:'玄',玄级:'玄',玄品:'玄',地:'地',地阶:'地',地级:'地',地品:'地',天:'天',天阶:'天',天级:'天',天品:'天',仙:'仙',仙阶:'仙',仙级:'仙',仙品:'仙',圣:'圣',圣阶:'圣',圣级:'圣',圣品:'圣',先天:'先天',先天阶:'先天',先天级:'先天'},P={入门:'入门',初级:'入门',初学:'入门',新手:'入门',熟练:'熟练',中级:'熟练',娴熟:'熟练',精通:'精通',高级:'精通',精湛:'精通',大成:'大成',大师:'大成',宗师:'大成',圆满:'圆满',完美:'圆满',极致:'圆满',化境:'化境',化神:'化境',返璞归真:'化境',出神入化:'化境'},F=C.z.object({名称:C.z.string().prefault(''),描述:C.z.string().prefault(''),品阶:C.z.string().prefault(''),数量:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(1)}),R=C.z.object({名称:C.z.string().prefault(''),描述:C.z.string().prefault(''),类型:C.z.enum(['功法','神通','秘术']).prefault('神通'),品阶:C.z.string().transform(e=>O[e]||'凡').catch('凡'),熟练度:C.z.string().transform(e=>P[e]||'入门').catch('入门'),领悟时间:C.z.coerce.number().catch(()=>Date.now()),威力等级:C.z.coerce.number().optional()}).transform(e=>{if(!e.威力等级||0===e.威力等级){const t={入门:1,熟练:2,精通:3,大成:4,圆满:5,化境:6},a={凡:1,黄:2,玄:3,地:4,天:5,仙:6,圣:7,先天:8}[e.品阶]||1,n=t[e.熟练度]||1;return{...e,威力等级:10*a+n}}return e}),L=C.z.record(C.z.string().describe('物品名'),F).prefault({}).transform(e=>_.pickBy(e,({数量:e})=>e>0));function G(e,t=!1){const a=e.等级,n=D[a-1]??100,o=M[a-1]??100,r=Math.floor((a-1)/4),l={突破阈值:n,寿元上限:o,境界描述:`${w[r]??'练气'}${x[(a-1)%4]??'初期'}`,寿元状态:`${e.已活岁月}/${o}`,状态:e.尝试突破?'突破中':e.修为>=n?'瓶颈期':'修炼中',进度:`${(e.修为/n*100).toFixed(1)}%`};if(!t)return l;const c=I(a),s=Object.values(e.神通列表||{}),i=c+(s.length>0?Math.max(...s.map(e=>e.威力等级||0)):0)+(()=>{const t=e.体质||'';return t.includes('神')?500:t.includes('圣')?200:t.includes('道')?100:t.includes('灵')?50:0})();return{...l,战力值:i}}const H=C.z.object({级:C.z.coerce.number().transform(e=>_.clamp(e,1,36)),根:C.z.string().describe('灵根'),质:C.z.string().describe('体质'),龄:C.z.string().describe('年龄'),属:C.z.string().describe('所属'),法:C.z.string().describe('功法'),器:C.z.string().describe('本命兵器'),通:C.z.array(C.z.string()).prefault([])}),W=C.z.object({等级:C.z.coerce.number().transform(e=>_.clamp(e,1,36)).prefault(1),修为:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),灵根:C.z.string().prefault('五行杂灵根'),体质:C.z.string().prefault('凡体'),功法:C.z.string().prefault('无'),本命兵器:C.z.string().prefault('无'),神通列表:C.z.record(C.z.string().describe('神通名'),R).prefault({}),灵石:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),已活岁月:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),尝试突破:C.z.boolean().prefault(!1),好感度:C.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),关系:C.z.string().prefault('陌生人'),重要性:C.z.string().prefault('路人')}).prefault({等级:1,修为:0,灵根:'五行杂灵根',体质:'凡体',功法:'无',本命兵器:'无',神通列表:{},灵石:0,已活岁月:0,尝试突破:!1,好感度:0,关系:'陌生人',重要性:'路人'}).transform(e=>{const t=G(e,!1);return{...e,...t}}),q=C.z.object({等级:C.z.coerce.number().transform(e=>_.clamp(e,1,36)).prefault(1),所在宗门:C.z.string().prefault('散修'),备注:C.z.string().prefault('')}),J={非战斗:'非战斗',和平:'非战斗',安全:'非战斗',脱战:'非战斗',对峙:'对峙',警戒:'对峙',僵持:'对峙',对视:'对峙',激战:'激战',战斗:'激战',交战:'激战',厮杀:'激战',重伤:'重伤',负伤:'重伤',伤重:'重伤',濒死:'濒死',将死:'濒死',垂危:'濒死',危急:'濒死'},Z={无伤:'无伤',无:'无伤',完好:'无伤',健康:'无伤',轻伤:'轻伤',小伤:'轻伤',微伤:'轻伤',重伤:'重伤',伤重:'重伤',大伤:'重伤',濒死:'濒死',将死:'濒死',垂危:'濒死'},K={碾压:'碾压',压倒:'碾压',秒杀:'碾压',吊打:'碾压',优势:'优势',占优:'优势',上风:'优势',有利:'优势',势均力敌:'势均力敌',均势:'势均力敌',平手:'势均力敌',相当:'势均力敌',旗鼓相当:'势均力敌',劣势:'劣势',下风:'劣势',不利:'劣势',落后:'劣势',绝望:'绝望',必死:'绝望',碾压劣势:'绝望',无望:'绝望'},Q={完好:'完好',无伤:'完好',健康:'完好',全盛:'完好',轻伤:'轻伤',小伤:'轻伤',微伤:'轻伤',重伤:'重伤',伤重:'重伤',大伤:'重伤',濒死:'濒死',将死:'濒死',垂危:'濒死',已死:'已死',死亡:'已死',击杀:'已死',阵亡:'已死'},X={无:'无','':'无',无劫:'无',雷劫:'雷劫',天雷:'雷劫',雷:'雷劫',心劫:'心劫',心魔:'心劫',魔劫:'心劫',天劫:'天劫',大劫:'天劫',情劫:'情劫',情关:'情劫',因果劫:'因果劫',因果:'因果劫',红尘劫:'红尘劫',红尘:'红尘劫',轮回劫:'轮回劫',轮回:'轮回劫'},Y={小劫:'小劫',小:'小劫',初级:'小劫',中劫:'中劫',中:'中劫',中级:'中劫',大劫:'大劫',大:'大劫',高级:'大劫',天罚:'天罚',天:'天罚',极:'天罚',天道:'天罚'},ee={无:'无','':'无',未渡劫:'无',成功:'成功',通过:'成功',渡过:'成功',失败:'失败',未过:'失败',失:'失败'},te=C.z.object({正在战斗:C.z.boolean().prefault(!1),当前状态:C.z.string().transform(e=>J[e]||'非战斗').prefault('非战斗'),灵力值:C.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(100),伤势等级:C.z.string().transform(e=>Z[e]||'无伤').prefault('无伤'),已用底牌:C.z.array(C.z.string()).prefault([]),战斗回合:C.z.coerce.number().prefault(0)}).prefault({正在战斗:!1,当前状态:'非战斗',灵力值:100,伤势等级:'无伤',已用底牌:[],战斗回合:0}),ae=C.z.object({名称:C.z.string().prefault('未知敌人'),境界:C.z.string().prefault('未知'),战力评估:C.z.string().transform(e=>K[e]||'势均力敌').prefault('势均力敌'),状态:C.z.string().transform(e=>Q[e]||'完好').prefault('完好'),特点:C.z.string().prefault('')}),ne=C.z.object({正在渡劫:C.z.boolean().prefault(!1),劫种:C.z.string().transform(e=>X[e]||'无').prefault('无'),劫难等级:C.z.string().transform(e=>Y[e]||'小劫').prefault('小劫'),当前阶段:C.z.coerce.number().transform(e=>_.clamp(e,0,9)).prefault(0),总阶段数:C.z.coerce.number().transform(e=>Math.max(1,e)).prefault(3),劫力承受:C.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(100),已用护道:C.z.array(C.z.string()).prefault([]),劫难描述:C.z.string().prefault(''),触发原因:C.z.string().prefault(''),上次渡劫结果:C.z.string().transform(e=>ee[e]||'无').prefault('无'),渡劫冷却:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),失败惩罚记录:C.z.string().prefault('')}).prefault({正在渡劫:!1,劫种:'无',劫难等级:'小劫',当前阶段:0,总阶段数:3,劫力承受:100,已用护道:[],劫难描述:'',触发原因:'',上次渡劫结果:'无',渡劫冷却:0,失败惩罚记录:''}),oe=C.z.object({当前区域:C.z.string().prefault('未知之地'),所属层级:C.z.string().prefault('地层'),环境描述:C.z.string().prefault(''),危险度:C.z.coerce.number().prefault(10),可用通道:C.z.array(C.z.string()).prefault([]),导航信息:C.z.string().prefault('')}).prefault({当前区域:'未知之地',所属层级:'地层',环境描述:'',危险度:10,可用通道:[],导航信息:''}),re=C.z.object({姓名:C.z.string().prefault('无名氏'),宗门:C.z.string().prefault('散修'),出身:C.z.string().prefault('凡人')}).prefault({姓名:'无名氏',宗门:'散修',出身:'凡人'}),le=C.z.object({等级:C.z.coerce.number().transform(e=>_.clamp(e,1,36)).prefault(1),修为:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),灵根:C.z.string().prefault('五行杂灵根'),体质:C.z.string().prefault('凡体'),功法:C.z.string().prefault('无'),本命兵器:C.z.string().prefault('无'),神通列表:C.z.record(C.z.string().describe('神通名'),R).prefault({}),灵石:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),已活岁月:C.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),尝试突破:C.z.boolean().prefault(!1),行踪:oe,身份:re,背包:L,法宝:L,杂物袋:L,战斗状态:te,当前敌人:C.z.array(ae).prefault([]),渡劫状态:ne}).prefault({等级:1,修为:0,灵根:'五行杂灵根',体质:'凡体',功法:'无',本命兵器:'无',神通列表:{},灵石:0,已活岁月:0,尝试突破:!1,行踪:{当前区域:'未知之地',所属层级:'地层',环境描述:'',危险度:10,可用通道:[],导航信息:''},身份:{姓名:'无名氏',宗门:'散修',出身:'凡人'},背包:{},法宝:{},杂物袋:{},战斗状态:{正在战斗:!1,当前状态:'非战斗',灵力值:100,伤势等级:'无伤',已用底牌:[],战斗回合:0},当前敌人:[],渡劫状态:{正在渡劫:!1,劫种:'无',劫难等级:'小劫',当前阶段:0,总阶段数:3,劫力承受:100,已用护道:[],劫难描述:'',触发原因:'',上次渡劫结果:'无',渡劫冷却:0,失败惩罚记录:''}}).transform(e=>{const t=G(e,!0);return{...e,...t}}),ce={进行中:'进行中',进行:'进行中',处理中:'进行中',未完成:'进行中',待完成:'进行中',未开始:'进行中',已接取:'进行中',接取:'进行中',active:'进行中',已完成:'已完成',完成:'已完成',完成了:'已完成',已达成:'已完成',达成:'已完成',已结束:'已完成',结束:'已完成',done:'已完成',complete:'已完成',completed:'已完成',已失败:'已失败',失败:'已失败',失敗:'已失败',失败了:'已失败',中止:'已失败',终止:'已失败',放弃:'已失败',超时失败:'已失败',failed:'已失败',fail:'已失败'},se=C.z.object({名称:C.z.string().prefault(''),类型:C.z.enum(['主线','支线','每日','临危受命','秘境探索']).prefault('主线'),目标:C.z.string().prefault(''),状态:C.z.string().transform(e=>ce[String(e).trim()]||'进行中').prefault('进行中'),秘境信息:C.z.object({域:C.z.enum(['天层','神州','东苍','南炎','西庚','北冥','下层','四海']).optional(),危:C.z.coerce.number().transform(e=>_.clamp(e,0,100)).optional(),特:C.z.string().optional(),奖:C.z.union([C.z.array(C.z.string()),C.z.string().transform(e=>e?[e]:[])]).prefault([]),限:C.z.string().optional()}).optional(),创建时间:C.z.union([C.z.coerce.number(),C.z.string().transform(()=>Date.now())]).prefault(()=>Date.now())}),ie=C.z.object({值:C.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),关系:C.z.string().prefault('陌生'),更新时间:C.z.coerce.number().prefault(()=>Date.now())}),de=C.z.record(C.z.string().describe('势力名'),ie).prefault({}).transform(e=>_(e).mapValues(e=>{const t=e.值;let a;a=t>=80?'盟友':t>=60?'友善':t>=30?'友好':t>=10?'中立偏好':t>=-10?'中立':t>=-30?'中立偏恶':t>=-60?'敌对':t>=-80?'仇恨':'不死不休';const n=e.关系&&'陌生'!==e.关系?e.关系:a;return{...e,关系:n}}).value()),pe={探索:'探索',任务:'任务',交易:'交易',结交:'结交',争夺:'争夺',修炼:'修炼',红颜:'红颜',随机:'随机',行动:'探索',冒险:'探索',战斗:'争夺',挑战:'争夺',社交:'结交',互动:'结交',双修:'红颜',亲密:'红颜',调情:'红颜',random:'随机'},be=C.z.object({名称:C.z.coerce.string().transform(e=>String(e).trim()).prefault(''),来源:C.z.coerce.string().transform(e=>String(e).trim()).prefault(''),类型:C.z.string().transform(e=>pe[String(e).trim()]||'探索').prefault('探索'),描述:C.z.coerce.string().transform(e=>String(e).trim()).prefault(''),回报预期:C.z.coerce.string().transform(e=>String(e).trim()).prefault(''),风险评估:C.z.coerce.string().transform(e=>String(e).trim()).prefault(''),时限:C.z.coerce.string().transform(e=>String(e).trim()).optional(),关联事件:C.z.coerce.string().transform(e=>String(e).trim()).optional(),优先级:C.z.coerce.number().transform(e=>_.clamp(e,1,5)).prefault(3)}),ue=C.z.object({地:C.z.string().describe('所在地'),特:C.z.string().describe('核心特点'),力:C.z.string().describe('最高战力'),营:C.z.enum(['正','魔','中']),模:C.z.enum(['超大','大','小','微','特'])}),me=C.z.object({阶:C.z.string().transform(e=>O[e]||'凡').catch('凡'),性:C.z.string().describe('属性'),效:C.z.string().describe('效果')}),fe=C.z.object({阶:C.z.enum(['凡器','法器','灵器','法宝','灵宝','仙器','圣器','道器','本命']),类:C.z.string().describe('类型'),本命特性:C.z.string().optional().describe('本命法宝独有特性'),器灵:C.z.string().optional().describe('器灵名称')}).transform(e=>({...e,特:'本命'===e.阶?'至尊':'道器'===e.阶?'超凡':'圣器'===e.阶?'极品':'仙器'===e.阶?'顶级':'灵宝'===e.阶?'强':'法宝'===e.阶?'中':'普通'})),ge=C.z.object({域:C.z.enum(['天层','神州','东苍','南炎','西庚','北冥','下层','四海']),类:C.z.enum(['秘境','城镇','宗门','禁地','遗迹','地形']),危:C.z.coerce.number().transform(e=>_.clamp(e,0,100)),特:C.z.string().describe('特点'),资:C.z.union([C.z.array(C.z.string()),C.z.string().transform(e=>e?[e]:[])]).prefault([])}),ve=C.z.object({质:C.z.enum(['劣','下','中','上','极','天','异']),性:C.z.string().describe('属性'),稀:C.z.enum(['常','少','罕','稀','传'])}).transform(e=>({...e,速:{劣:'0.3倍',下:'0.5倍',中:'1倍',上:'2倍',极:'3倍',天:'5倍',异:'4倍'}[e.质]||'1倍',特:'天'===e.质?'单系顶级':'异'===e.质?'变异稀有':'极'===e.质?'双系优秀':'常规'})),Ve=C.z.object({质:C.z.enum(['凡','灵','道','圣','神']),特:C.z.string().describe('特性'),稀:C.z.enum(['常','少','罕','稀','传'])}).transform(e=>({...e,优:'神'===e.质?'至高':'圣'===e.质?'极强':'道'===e.质?'强':'灵'===e.质?'中':'无'})),Ne=C.z.object({世界时钟:C.z.object({纪元:C.z.string().prefault('末法时代'),年份:C.z.coerce.number().prefault(1),月份:C.z.coerce.number().transform(e=>_.clamp(e,1,12)).prefault(1),日期:C.z.coerce.number().transform(e=>_.clamp(e,1,30)).prefault(1),时辰:C.z.string().prefault('子时')}).prefault({纪元:'末法时代',年份:1,月份:1,日期:1,时辰:'子时'}),世界地图:C.z.record(C.z.string().describe('区域名'),C.z.object({layer:C.z.enum(['天层','地层','下层']).prefault('地层'),danger:C.z.coerce.number().transform(e=>_.clamp(e,0,100)),desc:C.z.string().prefault(''),connections:C.z.array(C.z.string()).prefault([])})).prefault({}),世界图志:C.z.record(C.z.string().describe('事件名'),C.z.object({状态:C.z.string().prefault(''),事件:C.z.string().prefault('')})).prefault({}),宗门势力库:C.z.record(C.z.string().describe('宗门名'),ue).prefault({剑阁:{地:'神州剑门关',特:'剑道源头',力:'渡劫后期',营:'正',模:'超大'},万法宗:{地:'神州问道峰',特:'万法本源',力:'渡劫初期',营:'正',模:'超大'},金刚寺:{地:'西天佛山',特:'佛修炼体',力:'大乘中期',营:'正',模:'大'},药王谷:{地:'神农架',特:'医炼丹药',力:'大乘初期',营:'正',模:'大'},儒门:{地:'文圣山',特:'浩然正气',力:'大乘中期',营:'正',模:'大'},青龙殿:{地:'东苍青龙山',特:'守护青帝',力:'大乘初期',营:'正',模:'大'},玄武宗:{地:'北冥玄冰山',特:'镇守归墟',力:'大乘后期',营:'正',模:'大'},青云门:{地:'神州青云山',特:'水脉一系',力:'大乘初期',营:'正',模:'大'},建木宗:{地:'东苍建木树',特:'木系道法',力:'合体中期',营:'正',模:'小'},百花谷:{地:'百花秘境',特:'女修花道',力:'合体后期',营:'正',模:'小'},血神教:{地:'血魔渊',特:'血道炼法',力:'渡劫中期',营:'魔',模:'超大'},天魔宗:{地:'天魔山',特:'天魔大道',力:'大乘中期',营:'魔',模:'大'},妖盟:{地:'万妖森林',特:'妖族联盟',力:'渡劫中期',营:'中',模:'超大'},大夏王朝:{地:'中州皇城',特:'世俗统治',力:'大乘初期',营:'中',模:'大'},九州商会:{地:'九大主城',特:'商业联盟',力:'大乘初期',营:'中',模:'大'},离火宫:{地:'南炎火山',特:'朱雀供奉',力:'合体圆满',营:'中',模:'小'},铸剑山庄:{地:'南炎地火',特:'炼器第一',力:'合体后期',营:'中',模:'小'}}),功法库:C.z.record(C.z.string().describe('功法名'),me).prefault({}),法宝库:C.z.record(C.z.string().describe('法宝名'),fe).prefault({镇渊剑:{阶:'仙器',类:'剑'},双鱼佩:{阶:'本命',类:'玉佩',本命特性:'源血契约、阴阳双生、器灵化形、与主共修、生死相依、锁血护主',器灵:'虞汐颜'}}),地点库:C.z.record(C.z.string().describe('地点名'),ge).prefault({天渊:{域:'天层',类:'禁地',危:95,特:'星辰裂隙',资:['星辰碎片','陨铁']},罡风带:{域:'天层',类:'禁地',危:90,特:'罡风屏障',资:['罡风精华']},问道峰:{域:'神州',类:'宗门',危:10,特:'万法宗',资:['功法','灵药']},剑门关:{域:'神州',类:'宗门',危:15,特:'剑阁',资:['剑意','飞剑']},藏书阁:{域:'神州',类:'宗门',危:5,特:'古籍',资:['功法','秘术']},酆都城:{域:'神州',类:'城镇',危:30,特:'鬼市',资:['幽冥材料']},龙门瀑:{域:'神州',类:'秘境',危:40,特:'化龙',资:['龙气']},建木林:{域:'东苍',类:'地形',危:50,特:'古树精',资:['灵木','妖丹']},青帝陵:{域:'东苍',类:'遗迹',危:85,特:'青帝传承',资:['青帝传承']},百花境:{域:'东苍',类:'秘境',危:20,特:'花海',资:['灵花']},不灭火山:{域:'南炎',类:'地形',危:80,特:'朱雀涅槃',资:['朱雀火']},涅槃台:{域:'南炎',类:'遗迹',危:70,特:'涅槃',资:['涅槃感悟']},万剑冢:{域:'西庚',类:'禁地',危:85,特:'剑意',资:['剑意','古剑']},玄冰山:{域:'北冥',类:'宗门',危:50,特:'玄武宗',资:['玄冰']},归墟眼:{域:'北冥',类:'禁地',危:99,特:'归墟',资:['归墟感悟']},黄泉迹:{域:'下层',类:'遗迹',危:90,特:'幽冥',资:['黄泉水']},炎渊:{域:'下层',类:'禁地',危:95,特:'地心火',资:['地心火']}}),灵根库:C.z.record(C.z.string().describe('灵根名'),ve).prefault({}),体质库:C.z.record(C.z.string().describe('体质名'),Ve).prefault({}),本尊:le,红颜角色库:C.z.record(C.z.string().describe('角色名'),H).prefault({许听雨:{级:33,根:'水本源天',质:'归墟神体',龄:'外26实12000',属:'归墟之主',法:'万水归源先天',器:'沧海遗珠先天',通:['归墟歌','逆流虚妄','寂灭海域','万水同源']},虞汐颜:{级:12,根:'水阴阳异',质:'双鱼体',龄:'化形0年',属:'{{user}}玉佩',法:'双生天极/阴阳',器:'双鱼佩本体',通:['枯木春','夺命妆','双鱼梦']},白清弦:{级:29,根:'金天根',质:'剑体',龄:'外30实1000+',属:'散修剑宗师',法:'剑意仙/天音天',器:'清弦琴剑灵宝',通:['琴剑杀','剑意歌','万剑心']},南宫云裳:{级:16,根:'火天根',质:'神凰道体',龄:'外10实118',属:'大夏栖凤宫主',法:'九转涅槃仙',器:'栖梧簪灵宝',通:['南明离火','凰威镇世','羽化虚空']},梦杳泠:{级:23,根:'瑞兽异根',质:'乘黄圣体',龄:'外8实万年+',属:'无(末代乘黄)',法:'乘黄本源天',器:'无',通:['瑞光庇佑','灵觉通明','本源爆发']},幻千丝:{级:13,根:'暗幻双根',质:'梦魇体',龄:'外20未知',属:'散修幽冥',法:'织梦天',器:'千丝网灵宝',通:['织梦笼','心魔境','千丝缚']},晚棠:{级:15,根:'幽冥灵根',质:'噬魂之体',龄:'未知',属:'散修',法:'幽冥归魂经天',器:'引魂铃灵宝',通:['冥河指引','冥莲沉梦','归魂摆舟']}}),红颜:C.z.record(C.z.string().describe('红颜名'),W).prefault({}),NPC图鉴:C.z.record(C.z.string().describe('NPC名'),q).prefault({}),任务列表:C.z.record(C.z.string().describe('任务ID'),se).prefault({}).transform(e=>_(e).pickBy((e,t)=>!!e&&!!String(t).trim()).mapValues((e,t)=>({...e,名称:String(e.名称||'').trim()||String(t)})).pickBy(e=>'进行中'===e.状态).value()),声望系统:de,可参与机遇:C.z.array(be).prefault([]).transform(e=>e.filter(e=>!!e.名称)),当前处境:C.z.string().prefault('')}),Ee={cloudImage:'url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)',cloudsMulti:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)\n  ',cloudsWithStars:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    radial-gradient(circle at 25% 20%, rgba(136, 170, 204, 0.2) 1px, transparent 1px),\n    radial-gradient(circle at 75% 35%, rgba(136, 170, 204, 0.15) 1.5px, transparent 1.5px),\n    radial-gradient(circle at 35% 75%, rgba(136, 170, 204, 0.12) 1px, transparent 1px),\n    radial-gradient(circle at 60% 50%, rgba(160, 184, 208, 0.1) 2px, transparent 2px)\n  ',purpleMist:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    linear-gradient(135deg,\n      transparent 0%,\n      rgba(170, 136, 204, 0.08) 25%,\n      transparent 50%,\n      rgba(192, 160, 208, 0.08) 75%,\n      transparent 100%\n    ),\n    radial-gradient(ellipse at 30% 40%, rgba(170, 136, 204, 0.15) 0%, transparent 40%),\n    radial-gradient(ellipse at 70% 60%, rgba(192, 160, 208, 0.12) 0%, transparent 40%)\n  ',oceanWaves:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    repeating-linear-gradient(\n      0deg,\n      transparent 0px,\n      rgba(136, 204, 221, 0.03) 2px,\n      transparent 4px,\n      transparent 20px\n    ),\n    repeating-linear-gradient(\n      90deg,\n      transparent 0px,\n      rgba(136, 204, 221, 0.02) 2px,\n      transparent 4px,\n      transparent 30px\n    ),\n    radial-gradient(circle at 50% 80%, rgba(136, 204, 221, 0.1) 0%, transparent 50%)\n  ',goldenShimmer:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    repeating-linear-gradient(\n      45deg,\n      transparent 0px,\n      rgba(204, 170, 136, 0.04) 1px,\n      transparent 2px,\n      transparent 15px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent 0px,\n      rgba(220, 200, 120, 0.03) 1px,\n      transparent 2px,\n      transparent 15px\n    ),\n    radial-gradient(ellipse at 50% 30%, rgba(204, 170, 136, 0.12) 0%, transparent 50%)\n  ',bambooShadow:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    repeating-linear-gradient(\n      90deg,\n      transparent 0px,\n      rgba(136, 204, 170, 0.05) 1px,\n      transparent 2px,\n      transparent 40px\n    ),\n    repeating-linear-gradient(\n      90deg,\n      transparent 0px,\n      rgba(136, 204, 170, 0.03) 1px,\n      transparent 3px,\n      transparent 60px\n    ),\n    radial-gradient(ellipse at 20% 60%, rgba(136, 204, 170, 0.1) 0%, transparent 40%),\n    radial-gradient(ellipse at 80% 40%, rgba(160, 208, 192, 0.08) 0%, transparent 40%)\n  ',stars:'\n    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),\n    radial-gradient(circle at 80% 60%, rgba(255, 255, 255, 0.25) 1.5px, transparent 1.5px),\n    radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.2) 1px, transparent 1px),\n    radial-gradient(circle at 60% 20%, rgba(255, 255, 255, 0.15) 2px, transparent 2px)\n  ',texture:'\n    repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 10px,\n      rgba(255, 255, 255, 0.03) 10px,\n      rgba(255, 255, 255, 0.03) 20px\n    )\n  ',landscape:'\n    linear-gradient(180deg,\n      transparent 0%,\n      rgba(255, 255, 255, 0.02) 30%,\n      rgba(255, 255, 255, 0.05) 50%,\n      rgba(255, 255, 255, 0.02) 70%,\n      transparent 100%\n    )\n  ',lotus:'\n    radial-gradient(ellipse 120px 80px at 50% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 50%)\n  '},he=[{id:'default',name:'玄青仙境',description:'深邃玄青，如夜空星辰',colors:{bgPrimary:'linear-gradient(180deg, rgba(49, 66, 117, 0.95) 0%, rgba(15, 20, 35, 0.98) 100%)',bgSecondary:'rgba(30, 40, 60, 0.5)',border:'rgba(100, 150, 200, 0.3)',borderActive:'rgba(100, 150, 200, 0.6)',textPrimary:'#e0e8f0',textSecondary:'#8090a0',textAccent:'#a0b8d0',accent:'#88aacc',accentGlow:'rgba(100, 150, 255, 0.3)',buttonBg:'rgba(100, 150, 200, 0.2)',buttonHover:'rgba(100, 150, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',progressBg:'rgba(50, 60, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(60, 80, 120, 0.4) 0%, rgba(80, 60, 100, 0.4) 100%)',tabBg:'rgba(30, 40, 60, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',footerBg:'rgba(20, 30, 45, 0.8)'},patterns:{overlay:Ee.cloudsMulti}},{id:'purple',name:'紫霞仙踪',description:'紫气东来，霞光万道',colors:{bgPrimary:'linear-gradient(180deg, rgba(80, 40, 100, 0.95) 0%, rgba(30, 15, 40, 0.98) 100%)',bgSecondary:'rgba(50, 30, 70, 0.5)',border:'rgba(150, 100, 200, 0.3)',borderActive:'rgba(180, 120, 220, 0.6)',textPrimary:'#f0e0f8',textSecondary:'#a080b0',textAccent:'#c0a0d0',accent:'#aa88cc',accentGlow:'rgba(150, 100, 255, 0.4)',buttonBg:'rgba(150, 100, 200, 0.2)',buttonHover:'rgba(150, 100, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',progressBg:'rgba(60, 40, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(80, 50, 100, 0.4) 0%, rgba(100, 40, 120, 0.4) 100%)',tabBg:'rgba(50, 30, 70, 0.5)',tabActive:'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',footerBg:'rgba(30, 20, 50, 0.8)'},patterns:{overlay:Ee.cloudsMulti}},{id:'red',name:'赤炎烈焰',description:'烈火焚天，赤炎千里',colors:{bgPrimary:'linear-gradient(180deg, rgba(100, 40, 40, 0.95) 0%, rgba(40, 15, 15, 0.98) 100%)',bgSecondary:'rgba(70, 30, 30, 0.5)',border:'rgba(200, 100, 100, 0.3)',borderActive:'rgba(220, 120, 120, 0.6)',textPrimary:'#f8e0e0',textSecondary:'#b08080',textAccent:'#d0a0a0',accent:'#cc8888',accentGlow:'rgba(255, 100, 100, 0.4)',buttonBg:'rgba(200, 100, 100, 0.2)',buttonHover:'rgba(200, 100, 100, 0.3)',buttonActive:'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',progressBg:'rgba(80, 40, 40, 0.8)',headerBg:'linear-gradient(90deg, rgba(100, 50, 50, 0.4) 0%, rgba(120, 40, 40, 0.4) 100%)',tabBg:'rgba(70, 30, 30, 0.5)',tabActive:'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',footerBg:'rgba(50, 20, 20, 0.8)'},patterns:{overlay:Ee.cloudsMulti}},{id:'cyan',name:'碧海青天',description:'碧波荡漾，海天一色',colors:{bgPrimary:'linear-gradient(180deg, rgba(40, 80, 100, 0.95) 0%, rgba(15, 30, 40, 0.98) 100%)',bgSecondary:'rgba(30, 60, 70, 0.5)',border:'rgba(100, 180, 200, 0.3)',borderActive:'rgba(120, 200, 220, 0.6)',textPrimary:'#e0f0f8',textSecondary:'#80a0b0',textAccent:'#a0c0d0',accent:'#88ccdd',accentGlow:'rgba(100, 200, 255, 0.4)',buttonBg:'rgba(100, 180, 200, 0.2)',buttonHover:'rgba(100, 180, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',progressBg:'rgba(40, 60, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(50, 80, 100, 0.4) 0%, rgba(40, 100, 120, 0.4) 100%)',tabBg:'rgba(30, 60, 70, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',footerBg:'rgba(20, 40, 50, 0.8)'},patterns:{overlay:Ee.cloudsMulti}},{id:'gold',name:'金辉灿烂',description:'金光璀璨，辉映九天',colors:{bgPrimary:'linear-gradient(180deg, rgba(80, 70, 40, 0.95) 0%, rgba(30, 25, 15, 0.98) 100%)',bgSecondary:'rgba(60, 50, 30, 0.5)',border:'rgba(200, 180, 100, 0.3)',borderActive:'rgba(220, 200, 120, 0.6)',textPrimary:'#f8f0e0',textSecondary:'#b0a080',textAccent:'#d0c0a0',accent:'#ccaa88',accentGlow:'rgba(255, 200, 100, 0.4)',buttonBg:'rgba(200, 180, 100, 0.2)',buttonHover:'rgba(200, 180, 100, 0.3)',buttonActive:'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',progressBg:'rgba(60, 50, 40, 0.8)',headerBg:'linear-gradient(90deg, rgba(80, 70, 50, 0.4) 0%, rgba(100, 80, 40, 0.4) 100%)',tabBg:'rgba(60, 50, 30, 0.5)',tabActive:'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',footerBg:'rgba(40, 35, 20, 0.8)'},patterns:{overlay:Ee.cloudsMulti}},{id:'green',name:'翠竹清风',description:'竹影婆娑，清风徐来',colors:{bgPrimary:'linear-gradient(180deg, rgba(40, 80, 60, 0.95) 0%, rgba(15, 30, 25, 0.98) 100%)',bgSecondary:'rgba(30, 60, 50, 0.5)',border:'rgba(100, 180, 150, 0.3)',borderActive:'rgba(120, 200, 170, 0.6)',textPrimary:'#e0f8f0',textSecondary:'#80b0a0',textAccent:'#a0d0c0',accent:'#88ccaa',accentGlow:'rgba(100, 255, 200, 0.4)',buttonBg:'rgba(100, 180, 150, 0.2)',buttonHover:'rgba(100, 180, 150, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',progressBg:'rgba(40, 60, 50, 0.8)',headerBg:'linear-gradient(90deg, rgba(50, 80, 70, 0.4) 0%, rgba(40, 100, 80, 0.4) 100%)',tabBg:'rgba(30, 60, 50, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',footerBg:'rgba(20, 40, 35, 0.8)'},patterns:{overlay:Ee.cloudsMulti}}];function ye(e){return he.find(t=>t.id===e)}function ke(e){h=!1,E=null,console.info('[图鉴] 虞汐颜会话缓存已重置');const t=[];for(const a of e){const e=S(a.name,a.img_code,a.back_img_code);null!==e?t.push({name:a.name,front:e.front,back:e.back,backText:a.back_text||'',isFlipped:!1,frontName:e.frontName,backName:e.backName}):console.info(`[图鉴] 跳过重复的 ${a.name} 卡片`)}return t}const Be=t('data',errorCatched(()=>{const e=getCurrentMessageId(),t=(0,r.ref)(null),a=(0,r.ref)([]),n=new Map,o=(a=0)=>{try{const a=getVariables({type:'message',message_id:e}),n=u().get(a,'stat_data',null);if(n&&Object.keys(n).length>0)t.value=u().cloneDeep(Ne.parse(n));else if(null==n){const e=Ne.parse({});return t.value=e,console.info('[踏月寻仙] 使用默认值初始化变量数据',{等级:e.本尊.等级,灵根:e.本尊.灵根,体质:e.本尊.体质,功法:e.本尊.功法}),toastr.info('当前楼层无数据，已使用默认值初始化','踏月寻仙'),void i()}console.info('[踏月寻仙] 成功加载变量数据',{等级:t.value?.本尊.等级,灵根:t.value?.本尊.灵根,体质:t.value?.本尊.体质,功法:t.value?.本尊.功法,任务列表数量:Object.keys(t.value?.任务列表??{}).length,任务列表:t.value?.任务列表}),i()}catch(e){console.error('[踏月寻仙] 初始化数据失败',e),a<5?(console.info(`[踏月寻仙] 数据未就绪，200ms后第${a+1}次重试`),setTimeout(()=>{o(a+1)},200)):(console.warn('[踏月寻仙] 重试次数已用完，尝试手动触发MVU解析'),l())}},l=async()=>{try{await waitGlobalInitialized('Mvu');const a=getChatMessages(e);if(0===a.length)return console.warn('[踏月寻仙] 无法获取当前消息内容'),void c();const n=a[0].message||'';console.info('[踏月寻仙] 尝试手动触发MVU解析，消息长度:',n.length);const o=Mvu.getMvuData({type:'message',message_id:e}),r=await Mvu.parseMessage(n,o);await Mvu.replaceMvuData(r,{type:'message',message_id:e}),console.info('[踏月寻仙] MVU手动解析完成，重新加载数据'),setTimeout(()=>{const a=getVariables({type:'message',message_id:e}),n=u().get(a,'stat_data',null);n&&Object.keys(n).length>0?(t.value=u().cloneDeep(Ne.parse(n)),console.info('[踏月寻仙] ✅ 手动解析后成功加载数据'),i()):(console.warn('[踏月寻仙] 手动解析后仍无数据，使用备用方案'),c())},500)}catch(e){console.error('[踏月寻仙] 手动触发MVU解析失败',e),c()}},c=()=>{console.warn('[踏月寻仙] 启用备用方案');const e=s();e?(t.value=e,console.info('[踏月寻仙] 从上一楼层继承数据用于显示（不保存）'),toastr.info('正在显示上一楼层的状态数据','踏月寻仙')):(console.warn('[踏月寻仙] 无法继承数据，使用默认值'),t.value=Ne.parse({}),toastr.info('使用默认状态数据','踏月寻仙')),i()},s=()=>{try{const t=getChatMessages('0-{{lastMessageId}}'),a=t.findIndex(t=>t.message_id===e);if(-1===a)return console.warn('[踏月寻仙] 无法找到当前楼层索引'),null;for(let e=a-1;e>=0;e--){const a=t[e].message_id,n=getVariables({type:'message',message_id:a}),o=u().get(n,'stat_data',null);if(o&&Object.keys(o).length>0){const e=u().cloneDeep(Ne.parse(o));return console.info(`[踏月寻仙] 从第 ${a} 楼继承数据`,{任务列表keys:Object.keys(e.任务列表||{})}),e}}return console.warn('[踏月寻仙] 前面的楼层都没有有效数据'),null}catch(e){return console.error('[踏月寻仙] 继承数据时出错',e),null}},i=()=>{try{const t=getChatMessages(e);if(t.length>0){const o=t[0].message||'',r=`${e}_${o.length}`;if(n.has(r))return a.value=n.get(r),void console.info('[图鉴] 使用缓存的角色卡片');const l=function(e){try{const t=e.match(/<visual_cards>\s*([\s\S]*?)\s*<\/visual_cards>/);if(!t)return[];const a=t[1].trim();if(!a)return[];const n=JSON.parse(a);return Array.isArray(n)?n.filter(e=>e.name&&e.img_code&&'string'==typeof e.back_text):(console.warn('[图鉴] visual_cards 不是数组'),[])}catch(e){return console.error('[图鉴] 解析 visual_cards 失败',e),[]}}(o);if(l.length>0){const e=ke(l);a.value=e,n.set(r,e),d(e),console.info('[图鉴] 解析到角色卡片',e.length,'张')}else a.value=[]}}catch(e){console.error('[图鉴] 解析消息卡片失败',e),toastr.warning(`解析角色卡片失败: ${e instanceof Error?e.message:'未知错误'}`,'图鉴')}},d=e=>{e.forEach(e=>{(new Image).src=e.front;(new Image).src=e.back}),console.info('[图鉴] 开始预加载',2*e.length,'张图片')};waitGlobalInitialized('Mvu').then(()=>{console.info('[踏月寻仙] MVU 框架已初始化，开始加载数据'),o()}).catch(()=>{console.warn('[踏月寻仙] MVU 框架未加载，直接初始化'),o()});let b=null;const m=(e=200)=>{b&&clearTimeout(b),b=setTimeout(()=>{o(),b=null},e)};eventOn(tavern_events.MESSAGE_UPDATED,t=>{t===e&&(console.info('[踏月寻仙] 检测到本楼层消息更新，防抖延迟200ms后重新加载'),m(200))}),eventOn(tavern_events.MESSAGE_DELETED,n=>{n===e&&(console.info('[踏月寻仙] 检测到本楼层消息删除（可能是重新roll），清空数据'),t.value=null,a.value=[])}),eventOn(tavern_events.MESSAGE_RECEIVED,t=>{t===e&&(console.info('[踏月寻仙] 检测到本楼层消息接收，防抖延迟300ms后重新加载'),m(300))}),waitGlobalInitialized('Mvu').then(()=>{console.info('[踏月寻仙] 开始监听 MVU 变量更新事件'),eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,()=>{try{const a=getVariables({type:'message',message_id:e}),n=u().get(a,'stat_data',null);if(n&&Object.keys(n).length>0)try{const e=Ne.parse(n);u().isEqual(t.value,e)||(console.info('[踏月寻仙] MVU 变量更新 → 当前楼层数据已变化，更新显示'),t.value=u().cloneDeep(e),i())}catch(e){console.error('[踏月寻仙] Schema 解析失败',e)}}catch(e){console.error('[踏月寻仙] 处理 MVU 变量更新失败',e)}})}).catch(e=>{console.warn('[踏月寻仙] MVU 框架未加载，将仅显示静态数据',e)}),p(()=>{try{const a=getVariables({type:'message',message_id:e}),n=u().get(a,'stat_data',null);if(n&&Object.keys(n).length>0){const e=Ne.parse(n);u().isEqual(t.value,e)||(console.info('[踏月寻仙] 轮询检测到当前楼层数据变化，更新显示'),t.value=u().cloneDeep(e),i())}}catch{}},2e3);const f=(0,r.computed)(()=>t.value?.世界时钟??{纪元:'末法时代',年份:1}),g=(0,r.computed)(()=>t.value?.世界地图??{}),v=(0,r.computed)(()=>t.value?.世界图志??{}),V=(0,r.computed)(()=>t.value?.本尊??Ne.parse({}).本尊),N=(0,r.computed)(()=>t.value?.红颜??{}),E=(0,r.computed)(()=>t.value?.NPC图鉴??{}),h=(0,r.computed)(()=>t.value?.任务列表??{}),y=(0,r.computed)(()=>t.value?.声望系统??{}),k=(0,r.computed)(()=>t.value?.地点库??{}),B=(0,r.computed)(()=>t.value?.可参与机遇??[]),S=(0,r.computed)(()=>t.value?.当前处境??''),C=(0,r.computed)(()=>B.value.length),w=(0,r.computed)(()=>null!==t.value),x=(0,r.computed)(()=>a.value.length>0);return{rawData:t,世界时钟:f,世界地图:g,世界图志:v,地点库:k,本尊:V,红颜:N,NPC图鉴:E,任务列表:h,声望系统:y,hasData:w,refresh:o,galleryCards:a,hasGalleryCards:x,toggleCardFlip:e=>{a.value[e]&&(a.value[e].isFlipped=!a.value[e].isFlipped)},parseCurrentMessageCards:i,可参与机遇:B,当前处境:S,可选行动数:C,forceRefresh:l}})),Se=t('theme',()=>{const e=(0,r.ref)('default'),t=(0,r.computed)(()=>ye(e.value)||he.find(e=>'red'===e.id)||he[0]),a=(0,r.computed)(()=>he);return(()=>{try{const t=getCurrentMessageId(),a=getVariables({type:'message',message_id:t}),n=u().get(a,'ui_theme_id','red');'string'==typeof n&&ye(n)?(e.value=n,console.info('[主题] 加载已保存的主题:',n)):(e.value='red',console.info('[主题] 使用默认主题'))}catch(t){console.warn('[主题] 加载主题失败，使用默认主题',t),e.value='red'}})(),{currentThemeId:e,currentTheme:t,availableThemes:a,setTheme:a=>{if(ye(a)){e.value=a;try{const e=getCurrentMessageId();updateVariablesWith(e=>(u().set(e,'ui_theme_id',a),e),{type:'message',message_id:e}),console.info('[主题] 主题已切换并保存:',a),toastr.success(`已切换至「${t.value.name}」主题`,'踏月寻仙')}catch(e){console.error('[主题] 保存主题失败',e),toastr.warning('主题切换成功，但保存失败','踏月寻仙')}}else console.warn('[主题] 无效的主题ID:',a)}}}),ze={class:'action-menu-panel'},Ce={key:0,class:'situation-section'},_e={class:'situation-content'},we={class:'actions-section'},xe={class:'section-title'},De={class:'title-right'},Me={class:'action-count'},$e={key:0,class:'no-actions'},Te={class:'action-list'},je=['onClick'],Ae={class:'action-info'},Ue={class:'action-header'},Ie={class:'action-name'},Oe={key:0,class:'action-source'},Pe={class:'action-desc'},Fe={class:'action-meta'},Re={key:0,class:'reward'},Le={key:1,class:'risk'},Ge={key:1,class:'time-limit'},He=(0,r.defineComponent)({__name:'ActionMenuPanel',setup(e){const t=Be(),a=(0,r.ref)(!1),n=async()=>{if(!a.value){a.value=!0;try{t.forceRefresh?await t.forceRefresh():t.refresh()}catch(e){console.error('刷新行动列表失败',e),toastr.error('刷新失败','行动提示')}finally{setTimeout(()=>{a.value=!1},500)}}};(0,r.onMounted)(()=>{setTimeout(()=>{n()},500)});const o=e=>{if('红颜'!==e.类型)return null;const t=`${e.名称}${e.描述}`;return/双修|阴阳交泰|合欢|采补|鼎炉|双生|交融|合道|合炉|共修|双运|欢好/.test(t)?'双修':/亲密|缠绵|温存|相拥|依偎|温养|抚慰|肌肤|贴身|共寝|同眠|入帐|春宵|云雨|巫山/.test(t)?'亲密':/调情|挑逗|撩拨|暧昧|情话|戏弄|勾引|媚眼|风情|轻薄|调戏|嬉闹/.test(t)?'调情':null},l=(e,t)=>{if(t){return{双修:'fa-solid fa-fire',亲密:'fa-solid fa-hand-holding-heart',调情:'fa-solid fa-kiss-wink-heart'}[t]||'fa-solid fa-heart'}return{探索:'fa-solid fa-mountain-sun',任务:'fa-solid fa-scroll',交易:'fa-solid fa-coins',结交:'fa-solid fa-handshake',争夺:'fa-solid fa-swords',修炼:'fa-solid fa-yin-yang',红颜:'fa-solid fa-heart',随机:'fa-solid fa-dice'}[e]||'fa-solid fa-question'},c=(0,r.computed)(()=>[...t.可参与机遇].sort((e,t)=>e.时限&&!t.时限?-1:!e.时限&&t.时限?1:(t.优先级||3)-(e.优先级||3))),s=(e,t)=>`${JSON.stringify(e)}|${t}`,i=e=>{const t=(0,window.parent.$)('#send_textarea');t.length?(t.val(e),t.trigger('input'),t.trigger('focus'),console.info('[行动提示] 已发送到输入框:',e),toastr.success('已添加到输入框','行动选择')):(console.warn('[行动提示] 未找到输入框'),toastr.warning('未找到输入框','行动选择'))},d=e=>{const t=[];let a=e.名称;if(e.来源&&(a+=`（${e.来源}）`),t.push(a),e.描述&&t.push(`——${e.描述}`),e.回报预期){const a=e.回报预期,o=(n=['，期望','，意在','，目标是','，以求'])[Math.floor(Math.random()*n.length)];t.push(`${o}${a}`)}var n;if(e.风险评估&&!['无','无风险',''].includes(e.风险评估.trim())){const a=e.风险评估.trim();t.push(`（风险：${a}）`)}e.时限&&t.push(`。${e.时限}`);const o=t.join('');i(o),console.info('[行动提示] 选择行动:',e,'文本长度:',o.length)},p=()=>{let e='随缘而行';t.当前处境&&(e+=`——${t.当前处境}`),e+='，不做特定选择，随遇而安探索周围，静观其变，看看会有什么意外发现或机缘',i(e),console.info('[行动提示] 选择随缘而行，文本长度:',e.length)};return(e,i)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',ze,[(0,r.createCommentVNode)(' 当前处境 '),(0,r.unref)(t).当前处境?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ce,[i[0]||(i[0]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-compass'}),(0,r.createTextVNode)(' 当前处境 ')],-1)),(0,r.createElementVNode)('div',_e,(0,r.toDisplayString)((0,r.unref)(t).当前处境),1)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 可选行动列表 '),(0,r.createElementVNode)('div',we,[(0,r.createElementVNode)('div',xe,[i[1]||(i[1]=(0,r.createElementVNode)('div',{class:'title-left'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-list-check'}),(0,r.createTextVNode)(' 可选行动 ')],-1)),(0,r.createElementVNode)('div',De,[(0,r.createElementVNode)('button',{class:'refresh-btn',onClick:n,title:'刷新行动列表'},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(['fa-solid fa-rotate-right',{'fa-spin':(0,r.unref)(a)}])},null,2)]),(0,r.createElementVNode)('span',Me,(0,r.toDisplayString)((0,r.unref)(t).可参与机遇.length)+' 项机遇',1)])]),(0,r.createCommentVNode)(' 无行动提示 '),0===(0,r.unref)(t).可参与机遇.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',$e,[...i[2]||(i[2]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-hourglass-half'},null,-1),(0,r.createElementVNode)('p',null,'暂无明确的行动机遇',-1),(0,r.createElementVNode)('p',{class:'hint'},'可选择「随缘而行」探索周围',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 行动卡片列表 '),(0,r.createElementVNode)('div',Te,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(c),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:s(e,t),class:(0,r.normalizeClass)(['action-card',[`type-${e.类型}`,{urgent:e.时限},o(e)?`nsfw-${o(e)}`:'']]),onClick:t=>d(e)},[(0,r.createCommentVNode)(' 行动类型图标（NSFW 子类使用专属图标和样式） '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['action-icon',o(e)?`icon-nsfw-${o(e)}`:`icon-${e.类型}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(l(e.类型,o(e)))},null,2)],2),(0,r.createCommentVNode)(' 行动信息 '),(0,r.createElementVNode)('div',Ae,[(0,r.createElementVNode)('div',Ue,[(0,r.createElementVNode)('span',Ie,(0,r.toDisplayString)(e.名称),1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['action-type-tag',o(e)?`tag-nsfw-${o(e)}`:''])},(0,r.toDisplayString)(o(e)?`红颜·${o(e)}`:e.类型),3)]),e.来源?((0,r.openBlock)(),(0,r.createElementBlock)('div',Oe,[i[3]||(i[3]=(0,r.createElementVNode)('i',{class:'fa-solid fa-location-dot'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.来源),1)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',Pe,(0,r.toDisplayString)(e.描述),1),(0,r.createCommentVNode)(' 回报与风险 '),(0,r.createElementVNode)('div',Fe,[e.回报预期?((0,r.openBlock)(),(0,r.createElementBlock)('div',Re,[i[4]||(i[4]=(0,r.createElementVNode)('i',{class:'fa-solid fa-gift'},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.回报预期),1)])):(0,r.createCommentVNode)('v-if',!0),e.风险评估&&!['无','无风险',''].includes(e.风险评估.trim())?((0,r.openBlock)(),(0,r.createElementBlock)('div',Le,[i[5]||(i[5]=(0,r.createElementVNode)('i',{class:'fa-solid fa-skull'},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.风险评估),1)])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 时限警告 '),e.时限?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ge,[i[6]||(i[6]=(0,r.createElementVNode)('i',{class:'fa-solid fa-clock'},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.时限),1)])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 优先级标记 '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['priority-indicator',`priority-${e.优先级}`])},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.优先级,e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e},'★'))),128))],2)],10,je))),128))])],2112)),(0,r.createCommentVNode)(' 随缘而行选项（始终显示） '),(0,r.createElementVNode)('div',{class:'action-card random-action',onClick:p},[...i[7]||(i[7]=[(0,r.createStaticVNode)('<div class="action-icon icon-随机" data-v-dfc939e6><i class="fa-solid fa-dice" data-v-dfc939e6></i></div><div class="action-info" data-v-dfc939e6><div class="action-header" data-v-dfc939e6><span class="action-name" data-v-dfc939e6>🎲 随缘而行</span><span class="action-type-tag" data-v-dfc939e6>随机</span></div><div class="action-desc" data-v-dfc939e6>不做具体选择，随遇而安地探索周围，或许会有意外收获...</div><div class="action-meta" data-v-dfc939e6><div class="reward" data-v-dfc939e6><i class="fa-solid fa-gift" data-v-dfc939e6></i><span data-v-dfc939e6>未知机遇</span></div><div class="risk" data-v-dfc939e6><i class="fa-solid fa-skull" data-v-dfc939e6></i><span data-v-dfc939e6>不确定</span></div></div></div>',2)])])])]))}});var We=o(502);const qe=(0,We.A)(He,[['__scopeId','data-v-dfc939e6']]),Je=qe,Ze=e=>({无伤:'fa-solid fa-heart',轻伤:'fa-solid fa-bandage',重伤:'fa-solid fa-heart-crack',濒死:'fa-solid fa-skull'}[e]||'fa-solid fa-heart'),Ke=e=>e>50?'linear-gradient(90deg, #4a9eff 0%, #66bbff 100%)':e>20?'linear-gradient(90deg, #ffaa00 0%, #ffcc44 100%)':'linear-gradient(90deg, #ff4444 0%, #ff6666 100%)',Qe=e=>({碾压:'safe',优势:'easy',势均力敌:'equal',劣势:'hard',绝望:'deadly'}[e]||'equal'),Xe=e=>({完好:'fa-solid fa-shield',轻伤:'fa-solid fa-shield-halved',重伤:'fa-solid fa-heart-crack',濒死:'fa-solid fa-skull',已死:'fa-solid fa-skull-crossbones'}[e]||'fa-solid fa-shield'),Ye=(e,t)=>{if(!t)return e.战力评估;const a=I(U(e.境界));return 0===a?e.战力评估:function(e,t){const a=e/t;return a>=2?'碾压':a>=1.3?'优势':a>=.8?'势均力敌':a>=.5?'劣势':'绝望'}(t,a)},et=e=>I(U(e.境界)),tt=e=>({无:'#888888',雷劫:'#8844ff',心劫:'#ff44aa',天劫:'#ffdd00',情劫:'#ff6b9d',因果劫:'#44aaff',红尘劫:'#ff8844',轮回劫:'#44ffaa'}[e]||'#888888'),at=e=>({小劫:'#44aa44',中劫:'#ffcc00',大劫:'#ff8800',天罚:'#ff0000'}[e]||'#888888'),nt={class:'battle-panel'},ot={class:'combat-header'},rt={class:'combat-status-left'},lt={class:'combat-status-text'},ct={class:'combat-status-desc'},st={key:0,class:'combat-round-info'},it={class:'round-number'},dt={class:'combat-stats'},pt={class:'combat-stat-item'},bt={class:'combat-stat-content'},ut={class:'combat-stat-bar'},mt={class:'combat-stat-value'},ft={class:'combat-stat-item'},gt={class:'combat-stat-content'},vt={key:0,class:'combat-stat-item'},Vt={class:'combat-stat-content'},Nt={class:'combat-power-value'},Et={class:'power-number'},ht={key:0,class:'trump-cards-section'},yt={class:'trump-cards-list'},kt={class:'enemies-section'},Bt={class:'enemies-header'},St={key:0,class:'enemy-count'},zt={class:'enemies-list'},Ct={class:'enemy-info'},_t={class:'enemy-header-row'},wt={class:'enemy-name'},xt={class:'enemy-realm'},Dt={class:'enemy-status-row'},Mt={key:0,class:'enemy-power-value'},$t={key:0,class:'enemy-trait'},Tt={key:1,class:'empty-hint'},jt=(0,r.defineComponent)({__name:'BattlePanel',props:{combatState:{},currentEnemies:{},playerCombatPower:{}},setup(e){const t=e,a=(0,r.computed)(()=>{const e=t.combatState;return e?.正在战斗&&'非战斗'===e?.当前状态?'战斗中':e?.当前状态||'非战斗'}),n=(0,r.computed)(()=>{const e=a.value,n=t.combatState?.战斗回合??0,o=t.currentEnemies?.filter(e=>'已死'!==e.状态).length??0;if(n>0)return`第 ${n} 回合 · ${o>1?`${o}敌环伺`:'一对一决斗'}`;const r={激战:['剑光交错，杀机四伏','生死一线，全力以赴','刀光剑影，血战正酣'],对峙:['山雨欲来，剑拔弩张','暗流涌动，一触即发','杀意凛然，蓄势待发'],战斗中:['战鼓雷鸣，硝烟弥漫','兵刃相接，胜负未分','风起云涌，战意昂扬'],重伤:['身负重创，殊死一搏','血染战袍，绝境求生','伤痕累累，死战不退'],濒死:['命悬一线，背水一战','生死关头，孤注一掷','大限将至，拼死一击']},l=r[e]||r['战斗中'];return l[Math.floor(Date.now()/6e4)%l.length]});return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',nt,[(0,r.createCommentVNode)(' 战斗状态头部 '),(0,r.createElementVNode)('div',ot,[(0,r.createElementVNode)('div',rt,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['combat-status-indicator',`status-${a.value}`])},[...o[0]||(o[0]=[(0,r.createElementVNode)('span',{class:'crossed-swords-icon'},'⚔',-1)])],2),(0,r.createElementVNode)('div',lt,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['combat-status-label',`status-${a.value}`])},(0,r.toDisplayString)(a.value),3),(0,r.createElementVNode)('span',ct,(0,r.toDisplayString)(n.value),1)])]),e.combatState?.战斗回合?((0,r.openBlock)(),(0,r.createElementBlock)('div',st,[o[1]||(o[1]=(0,r.createElementVNode)('span',{class:'round-label'},'回合',-1)),(0,r.createElementVNode)('span',it,(0,r.toDisplayString)(e.combatState.战斗回合),1)])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 状态一览 '),(0,r.createElementVNode)('div',dt,[(0,r.createElementVNode)('div',pt,[o[3]||(o[3]=(0,r.createElementVNode)('div',{class:'combat-stat-icon spirit'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-fire-flame-curved'})],-1)),(0,r.createElementVNode)('div',bt,[o[2]||(o[2]=(0,r.createElementVNode)('div',{class:'combat-stat-label'},'灵力值',-1)),(0,r.createElementVNode)('div',ut,[(0,r.createElementVNode)('div',{class:'combat-stat-fill spirit',style:(0,r.normalizeStyle)({width:`${e.combatState?.灵力值??100}%`,background:(0,r.unref)(Ke)(e.combatState?.灵力值??100)})},null,4)]),(0,r.createElementVNode)('div',mt,(0,r.toDisplayString)(e.combatState?.灵力值??100)+'%',1)])]),(0,r.createElementVNode)('div',ft,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['combat-stat-icon',`injury-icon-${e.combatState?.伤势等级??'无伤'}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)((0,r.unref)(Ze)(e.combatState?.伤势等级??'无伤'))},null,2)],2),(0,r.createElementVNode)('div',gt,[o[4]||(o[4]=(0,r.createElementVNode)('div',{class:'combat-stat-label'},'身体状况',-1)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['combat-stat-status',`status-${e.combatState?.伤势等级??'无伤'}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)((0,r.unref)(Ze)(e.combatState?.伤势等级??'无伤'))},null,2),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.combatState?.伤势等级??'无伤'),1)],2)])]),(0,r.createCommentVNode)(' 战力值 '),e.playerCombatPower?((0,r.openBlock)(),(0,r.createElementBlock)('div',vt,[o[6]||(o[6]=(0,r.createElementVNode)('div',{class:'combat-stat-icon power'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-fist-raised'})],-1)),(0,r.createElementVNode)('div',Vt,[o[5]||(o[5]=(0,r.createElementVNode)('div',{class:'combat-stat-label'},'综合战力',-1)),(0,r.createElementVNode)('div',Nt,[(0,r.createElementVNode)('span',Et,(0,r.toDisplayString)(e.playerCombatPower),1)])])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 已用底牌 '),(e.combatState?.已用底牌?.length??0)>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ht,[o[7]||(o[7]=(0,r.createElementVNode)('div',{class:'trump-header'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic-sparkles'}),(0,r.createElementVNode)('span',null,'已动用底牌')],-1)),(0,r.createElementVNode)('div',yt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.combatState?.已用底牌??[],e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'trump-card-tag'},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 当前敌人 '),(0,r.createElementVNode)('div',kt,[(0,r.createElementVNode)('div',Bt,[o[8]||(o[8]=(0,r.createElementVNode)('i',{class:'fa-solid fa-skull'},null,-1)),o[9]||(o[9]=(0,r.createElementVNode)('span',null,'当前敌人',-1)),(e.currentEnemies?.length??0)>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',St,(0,r.toDisplayString)(e.currentEnemies?.filter(e=>'已死'!==e.状态).length??0),1)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',zt,[(e.currentEnemies?.length??0)>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(e.currentEnemies??[],(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['enemy-card',{'enemy-dead':'已死'===t.状态}])},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['enemy-avatar',`threat-${(0,r.unref)(Qe)((0,r.unref)(Ye)(t,e.playerCombatPower))}`])},[...o[10]||(o[10]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-ghost'},null,-1)])],2),(0,r.createElementVNode)('div',Ct,[(0,r.createElementVNode)('div',_t,[(0,r.createElementVNode)('span',wt,(0,r.toDisplayString)(t.名称),1),(0,r.createElementVNode)('span',xt,(0,r.toDisplayString)(t.境界),1)]),(0,r.createElementVNode)('div',Dt,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['enemy-power',`power-${(0,r.unref)(Qe)((0,r.unref)(Ye)(t,e.playerCombatPower))}`])},[o[11]||(o[11]=(0,r.createElementVNode)('i',{class:'fa-solid fa-scale-balanced'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)((0,r.unref)(Ye)(t,e.playerCombatPower))+' ',1),(0,r.unref)(et)(t)>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',Mt,' ('+(0,r.toDisplayString)((0,r.unref)(et)(t))+') ',1)):(0,r.createCommentVNode)('v-if',!0)],2),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['enemy-health',`health-${t.状态}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)((0,r.unref)(Xe)(t.状态))},null,2),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(t.状态),1)],2)]),t.特点?((0,r.openBlock)(),(0,r.createElementBlock)('div',$t,[o[12]||(o[12]=(0,r.createElementVNode)('i',{class:'fa-solid fa-star'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(t.特点),1)])):(0,r.createCommentVNode)('v-if',!0)])],2))),128)):((0,r.openBlock)(),(0,r.createElementBlock)('div',Tt,[...o[13]||(o[13]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-peace'},null,-1),(0,r.createElementVNode)('span',null,'四周暂无敌意',-1)])]))])])]))}}),At=(0,We.A)(jt,[['__scopeId','data-v-4cc9f256']]),Ut=At,It={class:'peace-panel'},Ot={class:'peace-icon-wrapper'},Pt={class:'peace-subtitle'},Ft={class:'peace-stats'},Rt={class:'peace-stat-item'},Lt={class:'peace-stat-content'},Gt={class:'peace-stat-label'},Ht={class:'peace-stat-bar'},Wt={class:'peace-stat-value'},qt={class:'peace-stat-item'},Jt={class:'peace-stat-content'},Zt={key:0,class:'peace-stat-item'},Kt={class:'peace-stat-content'},Qt={class:'peace-stat-bar'},Xt={class:'peace-stat-value'},Yt={key:1,class:'peace-stat-item'},ea={class:'peace-stat-content'},ta={class:'combat-power-value'},aa={class:'power-number',style:{'font-size':'18px'}},na={key:0,class:'recovery-used-section'},oa={class:'recovery-used-list'},ra={key:1,class:'recovery-enemies-section'},la={class:'recovery-enemies-header'},ca={class:'enemy-count'},sa={class:'recovery-enemies-list'},ia={class:'recovery-enemy-name'},da={class:'recovery-enemy-realm'},pa={key:2,class:'tribulation-result-section'},ba={key:0,class:'tribulation-penalty'},ua={class:'tip-header'},ma={class:'tip-content'},fa=(0,r.defineComponent)({__name:'PeacePanel',props:{combatState:{},currentEnemies:{},tribulationState:{},playerCombatPower:{},isInRecovery:{type:Boolean}},setup(e){const t=e,a=(0,r.computed)(()=>t.combatState?.灵力值??100),n=(0,r.computed)(()=>t.combatState?.伤势等级??'无伤'),o=(0,r.computed)(()=>t.tribulationState?.劫力承受??100),l=(0,r.computed)(()=>t.tribulationState?.上次渡劫结果),c=(0,r.computed)(()=>t.currentEnemies?.filter(e=>'已死'!==e.状态)??[]),s=(0,r.computed)(()=>c.value.length),i=(0,r.computed)(()=>[...t.combatState?.已用底牌??[],...t.tribulationState?.已用护道??[]]),d=(0,r.computed)(()=>{const e=n.value;return'濒死'===e?'命悬一线':'重伤'===e?'伤势未愈':'轻伤'===e?'轻伤调养':a.value<30?'灵力枯竭':a.value<70?'灵力不济':o.value<50?'劫后余生':'成功'===l.value?'渡劫功成':'失败'===l.value?'劫难余波':s.value>0?'暗敌环伺':'战后恢复'}),p=(0,r.computed)(()=>{const e=n.value,t=a.value;return'濒死'===e?'重创在身，急需疗伤保命':'重伤'===e?'伤筋动骨，需静养恢复':'轻伤'===e?'皮外之伤，稍事休息即可':t<30?'灵力将竭，亟需打坐恢复':t<70?'灵力不足，暂避锋芒为上':'成功'===l.value?'劫难已过，境界有望精进':'失败'===l.value?'劫难未过，需休养生息':s.value>0?'敌人尚存，不可掉以轻心':'此战虽毕，仍需调息恢复'}),b=(0,r.computed)(()=>{const e=n.value;return'濒死'===e?'#ff4444':'重伤'===e?'#ff8800':'轻伤'===e?'#ffcc00':a.value<50?'#4a9eff':'成功'===l.value?'#44cc88':'失败'===l.value?'#ff6666':s.value>0?'#ff8888':'#ffaa44'}),u=(0,r.computed)(()=>{const e=n.value;return'濒死'===e?'fa-solid fa-skull':'重伤'===e?'fa-solid fa-heart-crack':'轻伤'===e?'fa-solid fa-bandage':a.value<50?'fa-solid fa-fire-flame-curved':'成功'===l.value?'fa-solid fa-sun':'失败'===l.value?'fa-solid fa-cloud-bolt':s.value>0?'fa-solid fa-eye':'fa-solid fa-heart-pulse'}),m=(0,r.computed)(()=>{if(t.isInRecovery){const e=n.value,t=a.value;return'濒死'===e?'性命攸关，应立即服用疗伤丹药或寻找安全之地疗伤，切勿再战。':'重伤'===e?'伤势不轻，建议寻找安全之地闭关疗伤，或服用疗伤丹药加速恢复。':'轻伤'===e?'伤势尚轻，打坐调息数个时辰即可恢复，可考虑服用丹药加速。':t<30?'灵力将竭，需立即打坐恢复灵力，切忌贸然使用神通。':t<70?'灵力不足，建议打坐恢复后再行动，可借助灵石加速恢复。':'成功'===l.value?'渡劫成功，趁热打铁巩固境界，感悟天道，切勿浪费这难得的领悟。':'失败'===l.value?'渡劫失败，需调养身心，待状态恢复至巅峰后再做打算。':s.value>0?'周围仍有敌意，需保持警惕，做好再战准备或寻路撤离。':'战斗已毕，建议调息恢复至巅峰状态后再继续前行。'}const e=['静心打坐，感悟天地灵气，可提升修为根基。','此时可研读典籍，或向前辈请教功法要诀。','闭关修炼，锤炼神通，方能在险境中保全自身。','游历四方，增长见识，亦是修行的一部分。','寻觅机缘，或可得到意想不到的收获。','炼丹制器，囤积修行资源，有备无患。','与道友切磋，互相印证修行心得。','探索秘境，寻找珍稀灵材与传承。'];return e[Math.floor(Date.now()/6e4)%e.length]});return(t,f)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',It,[(0,r.createCommentVNode)(' 状态卡片 '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['peace-state-card',{'recovery-mode':e.isInRecovery}])},[(0,r.createElementVNode)('div',Ot,[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)([e.isInRecovery?u.value:'fa-solid fa-dove','peace-icon']),style:(0,r.normalizeStyle)(e.isInRecovery?{color:b.value,filter:`drop-shadow(0 0 15px ${b.value}80)`}:void 0)},null,6),(0,r.createElementVNode)('div',{class:'peace-glow',style:(0,r.normalizeStyle)(e.isInRecovery?{background:`radial-gradient(circle, ${b.value}4D 0%, transparent 70%)`}:void 0)},null,4)]),(0,r.createElementVNode)('div',{class:'peace-title',style:(0,r.normalizeStyle)(e.isInRecovery?{color:b.value,textShadow:`0 0 20px ${b.value}80`}:void 0)},(0,r.toDisplayString)(e.isInRecovery?d.value:'天下太平'),5),(0,r.createElementVNode)('div',Pt,(0,r.toDisplayString)(e.isInRecovery?p.value:'此刻无风无浪，正是修行良机'),1)],2),(0,r.createCommentVNode)(' 状态一览 '),(0,r.createElementVNode)('div',Ft,[(0,r.createElementVNode)('div',Rt,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['peace-stat-icon',{'spirit-low':e.isInRecovery&&a.value<100}])},[...f[0]||(f[0]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-fire-flame-curved'},null,-1)])],2),(0,r.createElementVNode)('div',Lt,[(0,r.createElementVNode)('div',Gt,(0,r.toDisplayString)(e.isInRecovery&&a.value<100?'灵力恢复中':'灵力充盈'),1),(0,r.createElementVNode)('div',Ht,[(0,r.createElementVNode)('div',{class:'peace-stat-fill spirit',style:(0,r.normalizeStyle)({width:`${a.value}%`,background:e.isInRecovery?(0,r.unref)(Ke)(a.value):void 0})},null,4)]),(0,r.createElementVNode)('div',Wt,(0,r.toDisplayString)(a.value)+'%',1)])]),(0,r.createElementVNode)('div',qt,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['peace-stat-icon',{health:!e.isInRecovery||'无伤'===n.value,[`injury-recovery-${n.value}`]:e.isInRecovery&&'无伤'!==n.value}])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)((0,r.unref)(Ze)(n.value))},null,2)],2),(0,r.createElementVNode)('div',Jt,[f[1]||(f[1]=(0,r.createElementVNode)('div',{class:'peace-stat-label'},'身体状况',-1)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['peace-stat-status',`status-${n.value}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)((0,r.unref)(Ze)(n.value))},null,2),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(n.value),1)],2)])]),(0,r.createCommentVNode)(' 劫力承受（渡劫余波时） '),e.isInRecovery&&o.value<100?((0,r.openBlock)(),(0,r.createElementBlock)('div',Zt,[f[3]||(f[3]=(0,r.createElementVNode)('div',{class:'peace-stat-icon tribulation-recovery'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved'})],-1)),(0,r.createElementVNode)('div',Kt,[f[2]||(f[2]=(0,r.createElementVNode)('div',{class:'peace-stat-label'},'劫力承受',-1)),(0,r.createElementVNode)('div',Qt,[(0,r.createElementVNode)('div',{class:'peace-stat-fill tribulation',style:(0,r.normalizeStyle)({width:`${o.value}%`,backgroundColor:o.value>50?'#8844ff':'#ff4444'})},null,4)]),(0,r.createElementVNode)('div',Xt,(0,r.toDisplayString)(o.value)+'%',1)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 综合战力 '),e.playerCombatPower?((0,r.openBlock)(),(0,r.createElementBlock)('div',Yt,[f[5]||(f[5]=(0,r.createElementVNode)('div',{class:'peace-stat-icon power'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-fist-raised'})],-1)),(0,r.createElementVNode)('div',ea,[f[4]||(f[4]=(0,r.createElementVNode)('div',{class:'peace-stat-label'},'综合战力',-1)),(0,r.createElementVNode)('div',ta,[(0,r.createElementVNode)('span',aa,(0,r.toDisplayString)(e.playerCombatPower),1)])])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 已用底牌/护道（恢复期） '),e.isInRecovery&&i.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',na,[f[6]||(f[6]=(0,r.createElementVNode)('div',{class:'recovery-used-header'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic-sparkles'}),(0,r.createElementVNode)('span',null,'近期动用手段')],-1)),(0,r.createElementVNode)('div',oa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'recovery-used-tag'},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 残余敌人 '),e.isInRecovery&&s.value>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ra,[(0,r.createElementVNode)('div',la,[f[7]||(f[7]=(0,r.createElementVNode)('i',{class:'fa-solid fa-eye'},null,-1)),f[8]||(f[8]=(0,r.createElementVNode)('span',null,'周围仍有敌意',-1)),(0,r.createElementVNode)('span',ca,(0,r.toDisplayString)(s.value),1)]),(0,r.createElementVNode)('div',sa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'recovery-enemy-item'},[(0,r.createElementVNode)('span',ia,(0,r.toDisplayString)(e.名称),1),(0,r.createElementVNode)('span',da,(0,r.toDisplayString)(e.境界),1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['recovery-enemy-status',`health-${e.状态}`])},(0,r.toDisplayString)(e.状态),3)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 渡劫结果 '),e.isInRecovery&&l.value&&'无'!==l.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',pa,[f[9]||(f[9]=(0,r.createElementVNode)('div',{class:'tribulation-result-header'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-bolt-lightning'}),(0,r.createElementVNode)('span',null,'渡劫记录')],-1)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['tribulation-result-content',`result-${l.value}`])},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)('成功'===l.value?'fa-solid fa-check-circle':'fa-solid fa-times-circle')},null,2),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)('成功'===l.value?'渡劫成功':'渡劫失败'),1)],2),'失败'===l.value&&e.tribulationState?.失败惩罚记录?((0,r.openBlock)(),(0,r.createElementBlock)('div',ba,(0,r.toDisplayString)(e.tribulationState.失败惩罚记录),1)):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 提示信息 '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['cultivation-tips',{'recovery-tips':e.isInRecovery}])},[(0,r.createElementVNode)('div',ua,[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(e.isInRecovery?'fa-solid fa-notes-medical':'fa-solid fa-lightbulb')},null,2),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.isInRecovery?'恢复建议':'修行建议'),1)]),(0,r.createElementVNode)('div',ma,(0,r.toDisplayString)(m.value),1)],2)]))}}),ga=(0,We.A)(fa,[['__scopeId','data-v-4c49366c']]),va=ga,Va={class:'tribulation-panel'},Na={class:'tribulation-overview'},Ea={class:'tribulation-progress-section'},ha={class:'tribulation-stages'},ya={class:'stage-current'},ka={class:'stage-total'},Ba={class:'tribulation-progress-bar'},Sa={class:'tribulation-endurance-section'},za={class:'endurance-bar-container'},Ca={class:'endurance-bar'},_a={class:'endurance-value'},wa={key:0,class:'protection-section'},xa={class:'protection-list'},Da={key:1,class:'tribulation-desc-section'},Ma={class:'tribulation-desc'},$a={key:2,class:'tribulation-cause-section'},Ta={class:'cause-text'},ja=(0,r.defineComponent)({__name:'TribulationPanel',props:{tribulationState:{}},setup:e=>(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Va,[a[7]||(a[7]=(0,r.createElementVNode)('div',{class:'section-header tribulation-header'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-bolt-lightning'}),(0,r.createElementVNode)('span',null,'渡劫中')],-1)),(0,r.createCommentVNode)(' 劫难概览 '),(0,r.createElementVNode)('div',Na,[(0,r.createElementVNode)('div',{class:'tribulation-type-badge',style:(0,r.normalizeStyle)({backgroundColor:(0,r.unref)(tt)(e.tribulationState?.劫种||'无')})},[a[0]||(a[0]=(0,r.createElementVNode)('i',{class:'fa-solid fa-bolt-lightning'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.tribulationState?.劫种||'无'),1)],4),(0,r.createElementVNode)('div',{class:'tribulation-level',style:(0,r.normalizeStyle)({color:(0,r.unref)(at)(e.tribulationState?.劫难等级||'小劫')})},(0,r.toDisplayString)(e.tribulationState?.劫难等级||'小劫'),5)]),(0,r.createCommentVNode)(' 渡劫进度 '),(0,r.createElementVNode)('div',Ea,[a[2]||(a[2]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-stairs'}),(0,r.createTextVNode)(' 渡劫进度 ')],-1)),(0,r.createElementVNode)('div',ha,[(0,r.createElementVNode)('span',ya,'第 '+(0,r.toDisplayString)(e.tribulationState?.当前阶段||0)+' 波',1),a[1]||(a[1]=(0,r.createElementVNode)('span',{class:'stage-divider'},'/',-1)),(0,r.createElementVNode)('span',ka,'共 '+(0,r.toDisplayString)(e.tribulationState?.总阶段数||3)+' 波',1)]),(0,r.createElementVNode)('div',Ba,[(0,r.createElementVNode)('div',{class:'tribulation-progress-fill',style:(0,r.normalizeStyle)({width:(e.tribulationState?.当前阶段||0)/(e.tribulationState?.总阶段数||3)*100+'%',backgroundColor:(0,r.unref)(tt)(e.tribulationState?.劫种||'无')})},null,4)])]),(0,r.createCommentVNode)(' 劫力承受 '),(0,r.createElementVNode)('div',Sa,[a[3]||(a[3]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved'}),(0,r.createTextVNode)(' 劫力承受 ')],-1)),(0,r.createElementVNode)('div',za,[(0,r.createElementVNode)('div',Ca,[(0,r.createElementVNode)('div',{class:'endurance-fill',style:(0,r.normalizeStyle)({width:`${e.tribulationState?.劫力承受||100}%`,backgroundColor:(e.tribulationState?.劫力承受||100)>50?'#44aa44':(e.tribulationState?.劫力承受||100)>20?'#ffcc00':'#ff4444'})},null,4)]),(0,r.createElementVNode)('div',_a,(0,r.toDisplayString)(e.tribulationState?.劫力承受||100)+'%',1)])]),(0,r.createCommentVNode)(' 已用护道 '),(e.tribulationState?.已用护道?.length??0)>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',wa,[a[4]||(a[4]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-hand-holding-magic'}),(0,r.createTextVNode)(' 已用护道 ')],-1)),(0,r.createElementVNode)('div',xa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tribulationState?.已用护道??[],e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'protection-tag'},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 劫难描述 '),e.tribulationState?.劫难描述?((0,r.openBlock)(),(0,r.createElementBlock)('div',Da,[a[5]||(a[5]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-scroll'}),(0,r.createTextVNode)(' 劫难详情 ')],-1)),(0,r.createElementVNode)('div',Ma,(0,r.toDisplayString)(e.tribulationState?.劫难描述),1)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 触发原因 '),e.tribulationState?.触发原因?((0,r.openBlock)(),(0,r.createElementBlock)('div',$a,[a[6]||(a[6]=(0,r.createElementVNode)('div',{class:'cause-label'},'触发原因：',-1)),(0,r.createElementVNode)('div',Ta,(0,r.toDisplayString)(e.tribulationState?.触发原因),1)])):(0,r.createCommentVNode)('v-if',!0)]))}),Aa=(0,We.A)(ja,[['__scopeId','data-v-415c7215']]),Ua=Aa,Ia=(0,r.defineComponent)({__name:'CombatPanel',props:{combatState:{},currentEnemies:{},tribulationState:{},playerCombatPower:{}},setup(e){const t=e,a=(0,r.computed)(()=>!0===t.tribulationState?.正在渡劫||!!(t.tribulationState?.劫种&&'无'!==t.tribulationState.劫种&&(t.tribulationState?.当前阶段??0)>0&&(t.tribulationState?.劫力承受??100)<100)),n=(0,r.computed)(()=>!!t.combatState?.正在战斗||(!(!t.combatState?.当前状态||'非战斗'===t.combatState.当前状态)||(t.combatState?.战斗回合??0)>0&&(t.currentEnemies?.filter(e=>'已死'!==e.状态).length??0)>0)),o=(0,r.computed)(()=>{if(a.value||n.value)return!1;const e=null!=t.combatState?.伤势等级&&'无伤'!==t.combatState.伤势等级,o=(t.combatState?.灵力值??100)<100,r=(t.combatState?.已用底牌?.length??0)>0,l=(t.tribulationState?.劫力承受??100)<100,c=(t.tribulationState?.已用护道?.length??0)>0,s=null!=t.tribulationState?.上次渡劫结果&&'无'!==t.tribulationState.上次渡劫结果,i=(t.currentEnemies?.filter(e=>'已死'!==e.状态).length??0)>0;return!!(e||o||r||l||c||s||i)});return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createCommentVNode)(' 渡劫状态 '),a.value?((0,r.openBlock)(),(0,r.createBlock)(Ua,{key:0,'tribulation-state':e.tribulationState},null,8,['tribulation-state'])):n.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 战斗状态 '),(0,r.createVNode)(Ut,{'combat-state':e.combatState,'current-enemies':e.currentEnemies,'player-combat-power':e.playerCombatPower},null,8,['combat-state','current-enemies','player-combat-power'])],2112)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(' 和平/恢复状态 '),(0,r.createVNode)(va,{'combat-state':e.combatState,'current-enemies':e.currentEnemies,'tribulation-state':e.tribulationState,'player-combat-power':e.playerCombatPower,'is-in-recovery':o.value},null,8,['combat-state','current-enemies','tribulation-state','player-combat-power','is-in-recovery'])],2112))],2112))}}),Oa=Ia,Pa=Oa,Fa={class:'panel companions-panel'},Ra={class:'companions-list'},La={class:'companion-header'},Ga={class:'companion-name'},Ha={class:'companion-relation'},Wa={class:'relation-value'},qa={class:'companion-favor'},Ja={class:'favor-bar'},Za={class:'favor-value'},Ka={key:0,class:'empty-hint'},Qa=(0,r.defineComponent)({__name:'CompanionsPanel',setup(e){const t=Be();return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Fa,[(0,r.createElementVNode)('div',Ra,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).红颜,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'companion-card'},[(0,r.createElementVNode)('div',La,[(0,r.createElementVNode)('span',Ga,(0,r.toDisplayString)(t),1),(0,r.createElementVNode)('span',{class:'companion-realm',style:(0,r.normalizeStyle)({color:(0,r.unref)(j)(e.等级)})},(0,r.toDisplayString)(e.境界描述),5)]),(0,r.createElementVNode)('div',Ha,[a[0]||(a[0]=(0,r.createElementVNode)('span',{class:'relation-label'},'关系:',-1)),(0,r.createElementVNode)('span',Wa,(0,r.toDisplayString)(e.关系),1)]),(0,r.createElementVNode)('div',qa,[a[1]||(a[1]=(0,r.createElementVNode)('div',{class:'favor-label'},'好感度',-1)),(0,r.createElementVNode)('div',Ja,[(0,r.createElementVNode)('div',{class:'favor-fill',style:(0,r.normalizeStyle)({width:`${Math.abs(e.好感度)}%`,backgroundColor:e.好感度>=0?'#ff6b9d':'#6b7fff'})},null,4)]),(0,r.createElementVNode)('div',Za,(0,r.toDisplayString)(e.好感度),1)])]))),128)),0===Object.keys((0,r.unref)(t).红颜).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ka,'孑然一身，尚无红颜知己')):(0,r.createCommentVNode)('v-if',!0)])]))}}),Xa=(0,We.A)(Qa,[['__scopeId','data-v-ba8ef976']]),Ya=Xa,en={class:'panel cultivation-panel'},tn={class:'identity-section'},an={class:'identity-name'},nn={class:'identity-info'},on={class:'realm-section'},rn={class:'realm-status'},ln={class:'progress-section'},cn={class:'progress-label'},sn={class:'progress-bar'},dn={class:'progress-percent'},pn={class:'stats-grid'},bn={class:'stat-item'},un={class:'stat-item'},mn={class:'stat-value'},fn={class:'stat-item'},gn={class:'stat-value'},vn={class:'stat-item'},Vn={class:'stat-value'},Nn={class:'stat-item'},En={class:'stat-value gold'},hn={class:'stat-item'},yn={class:'stat-value'},kn=(0,r.defineComponent)({__name:'CultivationPanel',setup(e){const t=Be(),a=(0,r.computed)(()=>j(t.本尊.等级)),n=(0,r.computed)(()=>function(e){for(const[t,a]of Object.entries(T))if(e.includes(t))return a.color;return'#cc99ff'}(t.本尊.灵根));return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',en,[(0,r.createElementVNode)('div',tn,[(0,r.createElementVNode)('div',an,(0,r.toDisplayString)((0,r.unref)(t).本尊.身份.姓名),1),(0,r.createElementVNode)('div',nn,[(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).本尊.身份.宗门),1),o[0]||(o[0]=(0,r.createElementVNode)('span',{class:'divider'},'·',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).本尊.身份.出身),1)])]),(0,r.createElementVNode)('div',on,[(0,r.createElementVNode)('div',{class:'realm-title',style:(0,r.normalizeStyle)({color:(0,r.unref)(a)})},[o[1]||(o[1]=(0,r.createElementVNode)('i',{class:'fa-solid fa-yin-yang'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)((0,r.unref)(t).本尊.境界描述),1)],4),(0,r.createElementVNode)('div',rn,(0,r.toDisplayString)((0,r.unref)(t).本尊.状态),1)]),(0,r.createElementVNode)('div',ln,[(0,r.createElementVNode)('div',cn,[o[2]||(o[2]=(0,r.createElementVNode)('span',null,'修为进度',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).本尊.修为)+' / '+(0,r.toDisplayString)((0,r.unref)(t).本尊.突破阈值),1)]),(0,r.createElementVNode)('div',sn,[(0,r.createElementVNode)('div',{class:'progress-fill',style:(0,r.normalizeStyle)({width:(0,r.unref)(t).本尊.进度,backgroundColor:(0,r.unref)(a)})},null,4)]),(0,r.createElementVNode)('div',dn,(0,r.toDisplayString)((0,r.unref)(t).本尊.进度),1)]),(0,r.createElementVNode)('div',pn,[(0,r.createElementVNode)('div',bn,[o[3]||(o[3]=(0,r.createElementVNode)('div',{class:'stat-label'},'灵根',-1)),(0,r.createElementVNode)('div',{class:'stat-value',style:(0,r.normalizeStyle)({color:(0,r.unref)(n)})},(0,r.toDisplayString)((0,r.unref)(t).本尊.灵根),5)]),(0,r.createElementVNode)('div',un,[o[4]||(o[4]=(0,r.createElementVNode)('div',{class:'stat-label'},'体质',-1)),(0,r.createElementVNode)('div',mn,(0,r.toDisplayString)((0,r.unref)(t).本尊.体质),1)]),(0,r.createElementVNode)('div',fn,[o[5]||(o[5]=(0,r.createElementVNode)('div',{class:'stat-label'},'功法',-1)),(0,r.createElementVNode)('div',gn,(0,r.toDisplayString)((0,r.unref)(t).本尊.功法),1)]),(0,r.createElementVNode)('div',vn,[o[6]||(o[6]=(0,r.createElementVNode)('div',{class:'stat-label'},'本命兵器',-1)),(0,r.createElementVNode)('div',Vn,(0,r.toDisplayString)((0,r.unref)(t).本尊.本命兵器),1)]),(0,r.createElementVNode)('div',Nn,[o[7]||(o[7]=(0,r.createElementVNode)('div',{class:'stat-label'},'灵石',-1)),(0,r.createElementVNode)('div',En,(0,r.toDisplayString)((0,r.unref)(t).本尊.灵石),1)]),(0,r.createElementVNode)('div',hn,[o[8]||(o[8]=(0,r.createElementVNode)('div',{class:'stat-label'},'寿元',-1)),(0,r.createElementVNode)('div',yn,(0,r.toDisplayString)((0,r.unref)(t).本尊.寿元状态),1)])])]))}}),Bn=(0,We.A)(kn,[['__scopeId','data-v-9e4d8b7a']]),Sn=Bn,zn={class:'footer'},Cn={key:0,class:'action-badge'},_n={class:'footer-center world-time'},wn=(0,r.defineComponent)({__name:'FooterSection',emits:['open-actions'],setup(e){const t=Be();return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',zn,[(0,r.createCommentVNode)(' 左侧：行动提示按钮（原灵石/选项位置） '),(0,r.createElementVNode)('button',{class:'footer-item action-btn',onClick:a[0]||(a[0]=t=>e.$emit('open-actions')),title:'查看可选行动'},[a[1]||(a[1]=(0,r.createElementVNode)('i',{class:'fa-solid fa-compass'},null,-1)),a[2]||(a[2]=(0,r.createElementVNode)('span',null,'行动',-1)),(0,r.unref)(t).可选行动数>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',Cn,(0,r.toDisplayString)((0,r.unref)(t).可选行动数),1)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 中间：世界时钟 '),(0,r.createElementVNode)('div',_n,[a[3]||(a[3]=(0,r.createElementVNode)('i',{class:'fa-solid fa-moon moon-twinkle'},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).世界时钟.纪元)+' · 第'+(0,r.toDisplayString)((0,r.unref)(t).世界时钟.年份)+'年',1)]),(0,r.createCommentVNode)(' 右侧：成就展示（暂时禁用） '),(0,r.createCommentVNode)(' <AchievementDisplay @click="$emit(\'open-achievements\')" /> ')]))}}),xn=(0,We.A)(wn,[['__scopeId','data-v-16c8b152']]),Dn={class:'panel gallery-panel'},Mn={key:0,class:'gallery-container'},$n=['onClick'],Tn={class:'card-inner'},jn={class:'card-face card-front'},An=['src','alt'],Un={class:'card-name-bar'},In={class:'card-face card-back'},On={class:'back-content'},Pn=['src','alt'],Fn={class:'back-info-panel'},Rn={class:'back-name'},Ln={class:'back-text'},Gn={key:1,class:'empty-hint'},Hn=(0,r.defineComponent)({__name:'GalleryPanel',setup(e){const t=Be();return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Dn,[(0,r.unref)(t).hasGalleryCards?((0,r.openBlock)(),(0,r.createElementBlock)('div',Mn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).galleryCards,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['gallery-card',{flipped:e.isFlipped}]),onClick:e=>(0,r.unref)(t).toggleCardFlip(a)},[(0,r.createElementVNode)('div',Tn,[(0,r.createCommentVNode)(' 正面 '),(0,r.createElementVNode)('div',jn,[(0,r.createElementVNode)('img',{src:e.front,alt:e.frontName||e.name},null,8,An),(0,r.createElementVNode)('div',Un,(0,r.toDisplayString)(e.frontName||e.name),1)]),(0,r.createCommentVNode)(' 背面 '),(0,r.createElementVNode)('div',In,[(0,r.createElementVNode)('div',On,[(0,r.createElementVNode)('img',{src:e.back,alt:e.backName||e.name,class:'back-image'},null,8,Pn),(0,r.createElementVNode)('div',Fn,[(0,r.createElementVNode)('div',Rn,(0,r.toDisplayString)(e.backName||e.name),1),(0,r.createElementVNode)('div',Ln,'「'+(0,r.toDisplayString)(e.backText)+'」',1)])])])])],10,$n))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Gn,'当前场景暂无角色卡片'))]))}}),Wn=(0,We.A)(Hn,[['__scopeId','data-v-58022c60']]),qn={class:'header'},Jn={class:'header-left'},Zn=['title'],Kn={class:'location-info'},Qn={class:'location-hierarchy'},Xn={class:'location-parent'},Yn={class:'location-current'},eo=(0,r.defineComponent)({__name:'HeaderSection',props:{isCollapsed:{type:Boolean},parentRegion:{},dangerColor:{},locationColor:{}},emits:['toggle-collapse','toggle-theme-selector','toggle-preset-editor'],setup(e){const t=Be();return(a,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',qn,[(0,r.createElementVNode)('div',Jn,[(0,r.createElementVNode)('button',{class:'collapse-btn',onClick:n[0]||(n[0]=e=>a.$emit('toggle-collapse')),title:e.isCollapsed?'展开状态栏':'收起状态栏'},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(e.isCollapsed?'fa-solid fa-chevron-down':'fa-solid fa-chevron-up')},null,2)],8,Zn),(0,r.createElementVNode)('button',{class:'theme-btn',onClick:n[1]||(n[1]=e=>a.$emit('toggle-theme-selector')),title:'切换主题'},[...n[3]||(n[3]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-palette'},null,-1)])]),(0,r.createElementVNode)('button',{class:'preset-btn',onClick:n[2]||(n[2]=e=>a.$emit('toggle-preset-editor')),title:'开局预设'},[...n[4]||(n[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-sliders'},null,-1)])])]),(0,r.createElementVNode)('div',Kn,[(0,r.createElementVNode)('div',{class:'danger-badge',style:(0,r.normalizeStyle)({backgroundColor:e.dangerColor})},' 危险度 '+(0,r.toDisplayString)((0,r.unref)(t).本尊.行踪.危险度??10),5),(0,r.createElementVNode)('div',{class:'location',style:(0,r.normalizeStyle)({color:e.locationColor})},[n[6]||(n[6]=(0,r.createElementVNode)('i',{class:'fa-solid fa-location-dot'},null,-1)),(0,r.createElementVNode)('span',Qn,[(0,r.createCommentVNode)(' 只在上级地域存在且与当前区域不同时才显示上级 '),e.parentRegion&&e.parentRegion!==(0,r.unref)(t).本尊.行踪.当前区域?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)('span',Xn,(0,r.toDisplayString)(e.parentRegion),1),n[5]||(n[5]=(0,r.createElementVNode)('span',{class:'location-separator'},'·',-1))],64)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('span',Yn,(0,r.toDisplayString)((0,r.unref)(t).本尊.行踪.当前区域),1)])],4)])]))}}),to=(0,We.A)(eo,[['__scopeId','data-v-77586aaa']]),ao={class:'panel inventory-panel'},no={class:'inventory-section'},oo={class:'items-grid'},ro={key:0,class:'item-card treasure'},lo={class:'item-name'},co={class:'item-rank'},so={class:'item-desc'},io={key:0,class:'empty-hint'},po={class:'inventory-section'},bo={class:'items-grid'},uo={key:0,class:'item-card'},mo={class:'item-header'},fo={class:'item-name'},go={class:'item-count'},vo={class:'item-rank'},Vo={class:'item-desc'},No={key:0,class:'empty-hint'},Eo=(0,r.defineComponent)({__name:'InventoryPanel',setup(e){const t=Be();return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',ao,[(0,r.createElementVNode)('div',no,[a[0]||(a[0]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-gem'}),(0,r.createTextVNode)(' 法宝 ')],-1)),(0,r.createElementVNode)('div',oo,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).本尊.法宝,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[t&&String(t).trim()?((0,r.openBlock)(),(0,r.createElementBlock)('div',ro,[(0,r.createElementVNode)('div',lo,(0,r.toDisplayString)(e?.名称||t),1),(0,r.createElementVNode)('div',co,(0,r.toDisplayString)(e?.品阶||'未知'),1),(0,r.createElementVNode)('div',so,(0,r.toDisplayString)(e?.描述||'暂无描述'),1)])):(0,r.createCommentVNode)('v-if',!0)],64))),128)),(0,r.unref)(t).本尊.法宝&&0!==Object.keys((0,r.unref)(t).本尊.法宝).length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',io,'空空如也'))])]),(0,r.createElementVNode)('div',po,[a[1]||(a[1]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-box-open'}),(0,r.createTextVNode)(' 储物戒 ')],-1)),(0,r.createElementVNode)('div',bo,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).本尊.背包,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[t&&String(t).trim()?((0,r.openBlock)(),(0,r.createElementBlock)('div',uo,[(0,r.createElementVNode)('div',mo,[(0,r.createElementVNode)('span',fo,(0,r.toDisplayString)(e?.名称||t),1),(0,r.createElementVNode)('span',go,'×'+(0,r.toDisplayString)(e?.数量||1),1)]),(0,r.createElementVNode)('div',vo,(0,r.toDisplayString)(e?.品阶||'未知'),1),(0,r.createElementVNode)('div',Vo,(0,r.toDisplayString)(e?.描述||'暂无描述'),1)])):(0,r.createCommentVNode)('v-if',!0)],64))),128)),(0,r.unref)(t).本尊.背包&&0!==Object.keys((0,r.unref)(t).本尊.背包).length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',No,'空空如也'))])])]))}}),ho=(0,We.A)(Eo,[['__scopeId','data-v-176f7528']]),yo={class:'panel map-panel'},ko={class:'current-location'},Bo={class:'location-name'},So={class:'location-layer'},zo={class:'location-desc'},Co={class:'connections'},_o={class:'connections-list'},wo={key:0,class:'empty-hint',style:{padding:'10px'}},xo={class:'tasks-section'},Do={class:'tasks-list'},Mo={class:'task-header'},$o={class:'task-name'},To={class:'task-target'},jo={class:'task-status'},Ao={key:0,class:'empty-hint'},Uo={class:'reputation-section'},Io={class:'reputation-list'},Oo={key:0,class:'reputation-item'},Po={class:'reputation-faction'},Fo={class:'reputation-bar'},Ro={class:'reputation-info'},Lo={class:'reputation-value'},Go={class:'reputation-relation'},Ho={key:0,class:'empty-hint'},Wo=(0,r.defineComponent)({__name:'MapPanel',setup(e){const t=Be(),a=(e,t)=>{if(e.名称)return e.名称;const a=t.match(/[\u4e00-\u9fff\u3400-\u4dbf]+/g);if(a)return a.join('');return{主线:'主线任务',支线:'支线任务',每日:'每日任务',临危受命:'紧急任务',秘境探索:'秘境任务'}[e.类型]||'未命名任务'},n=(0,r.computed)(()=>{const e=t.本尊.行踪.可用通道;if(e&&e.length>0)return e;const a=t.本尊.行踪.当前区域,n=(e=>{const t=String(e||'').trim();if(!t)return'';const a=t.split(/[·•\-—_：:／/|]/).map(e=>e.trim()).filter(Boolean);return a.length>=2&&['天层','地层','下层','神州','东苍','南炎','西庚','北冥','四海','天渊','归墟','黄泉古迹','无尽炎渊','雷暴海'].includes(a[0])?a.slice(1).join(''):t})(a);if(!n||!t.世界地图)return[];const o=t.世界地图[n]??t.世界地图[a];return o?.connections||[]}),o=e=>{const a=t.世界地图[e];return a?A(a.danger):'#888888'};return(e,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',yo,[(0,r.createElementVNode)('div',ko,[(0,r.createElementVNode)('div',Bo,(0,r.toDisplayString)((0,r.unref)(t).本尊.行踪.当前区域),1),(0,r.createElementVNode)('div',So,(0,r.toDisplayString)((0,r.unref)(t).本尊.行踪.所属层级),1),(0,r.createElementVNode)('div',zo,(0,r.toDisplayString)((0,r.unref)(t).本尊.行踪.环境描述),1)]),(0,r.createElementVNode)('div',Co,[l[0]||(l[0]=(0,r.createElementVNode)('div',{class:'connections-title'},'可通往：',-1)),(0,r.createElementVNode)('div',_o,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'connection-item',style:(0,r.normalizeStyle)({borderColor:o(e)})},(0,r.toDisplayString)(e),5))),128)),0===(0,r.unref)(n).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',wo,'尚未探明通道')):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createCommentVNode)(' 任务列表 '),(0,r.createElementVNode)('div',xo,[l[1]||(l[1]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-scroll'}),(0,r.createTextVNode)(' 任务 ')],-1)),(0,r.createElementVNode)('div',Do,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).任务列表,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[t&&String(t).trim()?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:(0,r.normalizeClass)(['task-item',`task-${e.状态}`])},[(0,r.createElementVNode)('div',Mo,[(0,r.createElementVNode)('span',$o,(0,r.toDisplayString)(a(e,String(t))),1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['task-type',`type-${e.类型}`])},(0,r.toDisplayString)(e.类型),3)]),(0,r.createElementVNode)('div',To,(0,r.toDisplayString)(e.目标),1),(0,r.createElementVNode)('div',jo,(0,r.toDisplayString)(e.状态),1)],2)):(0,r.createCommentVNode)('v-if',!0)],64))),128)),(0,r.unref)(t).任务列表&&0!==Object.keys((0,r.unref)(t).任务列表).length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ao,'暂无任务'))])]),(0,r.createCommentVNode)(' 声望系统 '),(0,r.createElementVNode)('div',Uo,[l[2]||(l[2]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-star'}),(0,r.createTextVNode)(' 声望 ')],-1)),(0,r.createElementVNode)('div',Io,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).声望系统,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[t&&String(t).trim()?((0,r.openBlock)(),(0,r.createElementBlock)('div',Oo,[(0,r.createElementVNode)('div',Po,(0,r.toDisplayString)(t),1),(0,r.createElementVNode)('div',Fo,[(0,r.createElementVNode)('div',{class:'reputation-fill',style:(0,r.normalizeStyle)({width:`${Math.abs(e.值)}%`,backgroundColor:e.值>=0?'#44aa44':'#ff4444'})},null,4)]),(0,r.createElementVNode)('div',Ro,[(0,r.createElementVNode)('span',Lo,(0,r.toDisplayString)(e.值),1),(0,r.createElementVNode)('span',Go,(0,r.toDisplayString)(e.关系),1)])])):(0,r.createCommentVNode)('v-if',!0)],64))),128)),(0,r.unref)(t).声望系统&&0!==Object.keys((0,r.unref)(t).声望系统).length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ho,'暂无声望记录'))])])]))}}),qo=(0,We.A)(Wo,[['__scopeId','data-v-1034f2e4']]),Jo={class:'preset-panel panel'},Zo={class:'preset-content'},Ko={class:'preset-section'},Qo={class:'form-row'},Xo={class:'input-with-hint'},Yo={class:'realm-hint'},er={class:'form-row'},tr={class:'preset-section'},ar={class:'form-row'},nr={class:'form-row'},or={class:'preset-section'},rr={class:'form-row'},lr={class:'form-row'},cr={class:'preset-section'},sr={class:'form-row'},ir={class:'preset-section'},dr={class:'form-row'},pr={class:'form-row'},br={class:'form-row'},ur={class:'form-row'},mr={class:'preset-section'},fr={class:'form-row'},gr={class:'form-row'},vr={class:'preset-section'},Vr={class:'companion-grid'},Nr=['onClick'],Er={class:'companion-checkbox'},hr={key:0,class:'fa-solid fa-check'},yr={class:'companion-info'},kr={class:'companion-name'},Br={class:'companion-meta'},Sr={class:'companion-realm'},zr={class:'companion-attr'},Cr={key:0,class:'selected-companions'},_r={class:'companion-card-header'},wr={class:'companion-card-name'},xr=['onClick'],Dr={class:'companion-card-body'},Mr={class:'form-row'},$r={class:'favor-input-group'},Tr=['onUpdate:modelValue'],jr={class:'form-row'},Ar=['onUpdate:modelValue'],Ur={class:'preset-section'},Ir={key:0,class:'empty-hint'},Or={class:'item-header'},Pr=['onUpdate:modelValue'],Fr=['onClick'],Rr={class:'item-row'},Lr={class:'item-field'},Gr=['onUpdate:modelValue'],Hr={class:'item-field'},Wr=['onUpdate:modelValue'],qr={class:'item-field'},Jr=['onUpdate:modelValue'],Zr={class:'item-row full'},Kr={class:'item-field full'},Qr=['onUpdate:modelValue'],Xr={class:'preset-section'},Yr={key:0,class:'empty-hint'},el={class:'item-header'},tl=['onUpdate:modelValue'],al=['onClick'],nl={class:'item-row'},ol={class:'item-field'},rl=['onUpdate:modelValue'],ll={class:'item-field'},cl=['onUpdate:modelValue'],sl={class:'item-row full'},il={class:'item-field full'},dl=['onUpdate:modelValue'],pl={class:'preset-section'},bl={key:0,class:'empty-hint'},ul={class:'item-header'},ml=['onUpdate:modelValue'],fl=['onClick'],gl={class:'item-row'},vl={class:'item-field'},Vl=['onUpdate:modelValue'],Nl={class:'item-field'},El=['onUpdate:modelValue'],hl={class:'item-row full'},yl={class:'item-field full'},kl=['onUpdate:modelValue'],Bl={class:'preset-actions secondary'},Sl=(0,r.defineComponent)({__name:'PresetPanel',setup(e){const t=Be(),a=(0,r.ref)(null),n=['练气','筑基','金丹','元婴','化神','炼虚','合体','大乘','渡劫'],o=['初期','中期','后期','大圆满'],l=e=>{if(e<1||e>36)return'未知';const t=Math.floor((e-1)/4);return`${n[t]}${o[(e-1)%4]}`},c=(0,r.computed)(()=>Ne.parse({}).红颜角色库||{}),s=(0,r.ref)({等级:1,修为:0,灵根:'',体质:'',功法:'',本命兵器:'',灵石:0,姓名:'',宗门:'',出身:'',已活岁月:0,当前区域:'',所属层级:'',神通列表:{},法宝:{},背包:{},红颜:{}}),i=(0,r.computed)(()=>l(s.value.等级)),d=()=>`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,p=()=>{const e=d();s.value.神通列表[e]={名称:'新神通',描述:'',类型:'神通',品阶:'凡',熟练度:'入门',领悟时间:Date.now()}},b=()=>{const e=d();s.value.法宝[e]={名称:'新法宝',描述:'',品阶:'法器',数量:1}},u=()=>{const e=d();s.value.背包[e]={名称:'新物品',描述:'',品阶:'',数量:1}},m=e=>e in s.value.红颜,f=()=>{const e={};for(const t of Object.values(s.value.神通列表))t.名称&&(e[t.名称]=t);return e},g=e=>{const t={};for(const a of Object.values(e))a.名称&&(t[a.名称]=a);return t},v=()=>{const e={};for(const[t,a]of Object.entries(s.value.红颜)){const n={};for(const e of Object.values(a.神通列表))e.名称&&(n[e.名称]=e);e[t]={...a,神通列表:n}}return e},V=async()=>{const e=getCurrentMessageId(),a={本尊:{等级:s.value.等级,修为:s.value.修为,灵根:s.value.灵根,体质:s.value.体质,功法:s.value.功法,本命兵器:s.value.本命兵器,灵石:s.value.灵石,已活岁月:s.value.已活岁月,身份:{姓名:s.value.姓名,宗门:s.value.宗门,出身:s.value.出身},行踪:{当前区域:s.value.当前区域,所属层级:s.value.所属层级},神通列表:f(),法宝:g(s.value.法宝),背包:g(s.value.背包)},红颜:v()},n=async e=>{const t=Mvu.getMvuData({type:'message',message_id:e}),n=_.cloneDeep(t??{}),o=_.get(n,'stat_data',{}),r=_.merge({},o,a);_.set(n,'stat_data',Ne.parse(r)),await Mvu.replaceMvuData(n,{type:'message',message_id:e})};try{await waitGlobalInitialized('Mvu'),await n(e),await n('latest'),t.refresh(),toastr.success('预设已应用并同步到MVU变量')}catch(a){console.error('[踏月寻仙] 应用预设失败，回退到直接写入变量',a),updateVariablesWith(e=>(_.set(e,'stat_data.本尊.等级',s.value.等级),_.set(e,'stat_data.本尊.修为',s.value.修为),_.set(e,'stat_data.本尊.灵根',s.value.灵根),_.set(e,'stat_data.本尊.体质',s.value.体质),_.set(e,'stat_data.本尊.功法',s.value.功法),_.set(e,'stat_data.本尊.本命兵器',s.value.本命兵器),_.set(e,'stat_data.本尊.灵石',s.value.灵石),_.set(e,'stat_data.本尊.已活岁月',s.value.已活岁月),_.set(e,'stat_data.本尊.身份.姓名',s.value.姓名),_.set(e,'stat_data.本尊.身份.宗门',s.value.宗门),_.set(e,'stat_data.本尊.身份.出身',s.value.出身),_.set(e,'stat_data.本尊.行踪.当前区域',s.value.当前区域),_.set(e,'stat_data.本尊.行踪.所属层级',s.value.所属层级),_.set(e,'stat_data.本尊.神通列表',f()),_.set(e,'stat_data.本尊.法宝',g(s.value.法宝)),_.set(e,'stat_data.本尊.背包',g(s.value.背包)),_.set(e,'stat_data.红颜',v()),e),{type:'message',message_id:e}),t.refresh(),toastr.warning('预设已写入当前楼层，但MVU同步失败')}},N=()=>{const e=Ne.parse({});s.value={等级:e.本尊.等级??1,修为:e.本尊.修为??0,灵根:e.本尊.灵根??'',体质:e.本尊.体质??'',功法:e.本尊.功法??'',本命兵器:e.本尊.本命兵器??'',灵石:e.本尊.灵石??0,姓名:e.本尊.身份?.姓名??'',宗门:e.本尊.身份?.宗门??'',出身:e.本尊.身份?.出身??'',已活岁月:e.本尊.已活岁月??0,当前区域:e.本尊.行踪?.当前区域??'',所属层级:e.本尊.行踪?.所属层级??'',神通列表:{},法宝:{},背包:{},红颜:{}},toastr.info('已恢复为默认值')},E=()=>{const e={version:'1.1',exportTime:(new Date).toISOString(),preset:{基础属性:{等级:s.value.等级,修为:s.value.修为,灵根:s.value.灵根,体质:s.value.体质,功法:s.value.功法,本命兵器:s.value.本命兵器,灵石:s.value.灵石,已活岁月:s.value.已活岁月},身份信息:{姓名:s.value.姓名,宗门:s.value.宗门,出身:s.value.出身},位置信息:{当前区域:s.value.当前区域,所属层级:s.value.所属层级},神通列表:f(),法宝:g(s.value.法宝),背包:g(s.value.背包),红颜:v()}},t=new Blob([JSON.stringify(e,null,2)],{type:'application/json'}),a=URL.createObjectURL(t),n=document.createElement('a');n.href=a,n.download=`踏月寻仙_预设_${s.value.姓名||'未命名'}_${(new Date).toLocaleDateString()}.json`,n.click(),URL.revokeObjectURL(a),toastr.success('预设已导出')},h=()=>{a.value?.click()},y=e=>{const t=e.target,a=t.files?.[0];if(!a)return;const n=new FileReader;n.onload=e=>{try{const t=JSON.parse(e.target?.result);if(!t.preset)return void toastr.error('无效的预设文件格式');const a=t.preset;if(a.基础属性&&(s.value.等级=a.基础属性.等级??s.value.等级,s.value.修为=a.基础属性.修为??s.value.修为,s.value.灵根=a.基础属性.灵根??s.value.灵根,s.value.体质=a.基础属性.体质??s.value.体质,s.value.功法=a.基础属性.功法??s.value.功法,s.value.本命兵器=a.基础属性.本命兵器??s.value.本命兵器,s.value.灵石=a.基础属性.灵石??s.value.灵石,s.value.已活岁月=a.基础属性.已活岁月??s.value.已活岁月),a.身份信息&&(s.value.姓名=a.身份信息.姓名??s.value.姓名,s.value.宗门=a.身份信息.宗门??s.value.宗门,s.value.出身=a.身份信息.出身??s.value.出身),a.位置信息&&(s.value.当前区域=a.位置信息.当前区域??s.value.当前区域,s.value.所属层级=a.位置信息.所属层级??s.value.所属层级),a.神通列表){s.value.神通列表={};for(const[e,t]of Object.entries(a.神通列表))s.value.神通列表[e]={名称:t.名称||e,描述:t.描述||'',类型:t.类型||'神通',品阶:t.品阶||'凡',熟练度:t.熟练度||'入门',领悟时间:t.领悟时间||Date.now(),威力等级:t.威力等级}}if(a.法宝){s.value.法宝={};for(const[e,t]of Object.entries(a.法宝))s.value.法宝[e]={名称:t.名称||e,描述:t.描述||'',品阶:t.品阶||'',数量:t.数量||1}}if(a.背包){s.value.背包={};for(const[e,t]of Object.entries(a.背包))s.value.背包[e]={名称:t.名称||e,描述:t.描述||'',品阶:t.品阶||'',数量:t.数量||1}}if(a.红颜){s.value.红颜={};for(const[e,t]of Object.entries(a.红颜)){const a={};if(t.神通列表)for(const[e,n]of Object.entries(t.神通列表))a[e]={名称:n.名称||e,描述:n.描述||'',类型:n.类型||'神通',品阶:n.品阶||'凡',熟练度:n.熟练度||'入门',领悟时间:n.领悟时间||Date.now(),威力等级:n.威力等级};s.value.红颜[e]={好感度:t.好感度??0,关系:t.关系??'陌生人',等级:t.等级??1,修为:t.修为??0,灵根:t.灵根??'',体质:t.体质??'',功法:t.功法??'',本命兵器:t.本命兵器??'',神通列表:a,灵石:t.灵石??0,已活岁月:t.已活岁月??0,尝试突破:t.尝试突破??!1}}}toastr.success('预设已导入')}catch{toastr.error('解析预设文件失败')}},n.readAsText(a),t.value=''};return(0,r.onMounted)(()=>{(()=>{const e={};if(t.本尊.神通列表)for(const[a,n]of Object.entries(t.本尊.神通列表))e[a]={名称:n.名称||a,描述:n.描述||'',类型:n.类型||'神通',品阶:n.品阶||'凡',熟练度:n.熟练度||'入门',领悟时间:n.领悟时间||Date.now(),威力等级:n.威力等级};const a={};if(t.本尊.法宝)for(const[e,n]of Object.entries(t.本尊.法宝))a[e]={名称:n.名称||e,描述:n.描述||'',品阶:n.品阶||'',数量:n.数量||1};const n={};if(t.本尊.背包)for(const[e,a]of Object.entries(t.本尊.背包))n[e]={名称:a.名称||e,描述:a.描述||'',品阶:a.品阶||'',数量:a.数量||1};const o={};if(t.红颜)for(const[e,a]of Object.entries(t.红颜)){const t={};if(a.神通列表)for(const[e,n]of Object.entries(a.神通列表))t[e]={名称:n.名称||e,描述:n.描述||'',类型:n.类型||'神通',品阶:n.品阶||'凡',熟练度:n.熟练度||'入门',领悟时间:n.领悟时间||Date.now(),威力等级:n.威力等级};o[e]={好感度:a.好感度??0,关系:a.关系??'陌生人',等级:a.等级??1,修为:a.修为??0,灵根:a.灵根??'',体质:a.体质??'',功法:a.功法??'',本命兵器:a.本命兵器??'',神通列表:t,灵石:a.灵石??0,已活岁月:a.已活岁月??0,尝试突破:a.尝试突破??!1}}s.value={等级:t.本尊.等级??1,修为:t.本尊.修为??0,灵根:t.本尊.灵根??'',体质:t.本尊.体质??'',功法:t.本尊.功法??'',本命兵器:t.本尊.本命兵器??'',灵石:t.本尊.灵石??0,姓名:t.本尊.身份?.姓名??'',宗门:t.本尊.身份?.宗门??'',出身:t.本尊.身份?.出身??'',已活岁月:t.本尊.已活岁月??0,当前区域:t.本尊.行踪?.当前区域??'',所属层级:t.本尊.行踪?.所属层级??'',神通列表:e,法宝:a,背包:n,红颜:o}})()}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Jo,[t[69]||(t[69]=(0,r.createElementVNode)('div',{class:'preset-header'},[(0,r.createElementVNode)('h3',null,[(0,r.createElementVNode)('i',{class:'fa-solid fa-sliders'}),(0,r.createTextVNode)(' 开局预设')]),(0,r.createElementVNode)('p',{class:'preset-desc'},'自定义角色初始属性，增加游戏自由度')],-1)),(0,r.createElementVNode)('div',Zo,[(0,r.createCommentVNode)(' 境界修为 '),(0,r.createElementVNode)('div',Ko,[t[15]||(t[15]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-circle-radiation'}),(0,r.createElementVNode)('span',null,'境界修为')],-1)),(0,r.createElementVNode)('div',Qo,[t[13]||(t[13]=(0,r.createElementVNode)('label',null,'境界等级',-1)),(0,r.createElementVNode)('div',Xo,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[0]||(t[0]=e=>(0,r.unref)(s).等级=e),type:'number',min:'1',max:'36'},null,512),[[r.vModelText,(0,r.unref)(s).等级,void 0,{number:!0}]]),(0,r.createElementVNode)('span',Yo,(0,r.toDisplayString)((0,r.unref)(i)),1)])]),(0,r.createElementVNode)('div',er,[t[14]||(t[14]=(0,r.createElementVNode)('label',null,'当前修为',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[1]||(t[1]=e=>(0,r.unref)(s).修为=e),type:'number',min:'0'},null,512),[[r.vModelText,(0,r.unref)(s).修为,void 0,{number:!0}]])])]),(0,r.createCommentVNode)(' 资质天赋 '),(0,r.createElementVNode)('div',tr,[t[18]||(t[18]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-gem'}),(0,r.createElementVNode)('span',null,'资质天赋')],-1)),(0,r.createElementVNode)('div',ar,[t[16]||(t[16]=(0,r.createElementVNode)('label',null,'灵根',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[2]||(t[2]=e=>(0,r.unref)(s).灵根=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).灵根]])]),(0,r.createElementVNode)('div',nr,[t[17]||(t[17]=(0,r.createElementVNode)('label',null,'体质',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[3]||(t[3]=e=>(0,r.unref)(s).体质=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).体质]])])]),(0,r.createCommentVNode)(' 功法兵器 '),(0,r.createElementVNode)('div',or,[t[21]||(t[21]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-book-open-reader'}),(0,r.createElementVNode)('span',null,'功法兵器')],-1)),(0,r.createElementVNode)('div',rr,[t[19]||(t[19]=(0,r.createElementVNode)('label',null,'功法',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[4]||(t[4]=e=>(0,r.unref)(s).功法=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).功法]])]),(0,r.createElementVNode)('div',lr,[t[20]||(t[20]=(0,r.createElementVNode)('label',null,'本命兵器',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[5]||(t[5]=e=>(0,r.unref)(s).本命兵器=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).本命兵器]])])]),(0,r.createCommentVNode)(' 资源财富 '),(0,r.createElementVNode)('div',cr,[t[23]||(t[23]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-coins'}),(0,r.createElementVNode)('span',null,'资源财富')],-1)),(0,r.createElementVNode)('div',sr,[t[22]||(t[22]=(0,r.createElementVNode)('label',null,'灵石',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[6]||(t[6]=e=>(0,r.unref)(s).灵石=e),type:'number',min:'0'},null,512),[[r.vModelText,(0,r.unref)(s).灵石,void 0,{number:!0}]])])]),(0,r.createCommentVNode)(' 身份信息 '),(0,r.createElementVNode)('div',ir,[t[28]||(t[28]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-user'}),(0,r.createElementVNode)('span',null,'身份信息')],-1)),(0,r.createElementVNode)('div',dr,[t[24]||(t[24]=(0,r.createElementVNode)('label',null,'姓名',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[7]||(t[7]=e=>(0,r.unref)(s).姓名=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).姓名]])]),(0,r.createElementVNode)('div',pr,[t[25]||(t[25]=(0,r.createElementVNode)('label',null,'宗门',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[8]||(t[8]=e=>(0,r.unref)(s).宗门=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).宗门]])]),(0,r.createElementVNode)('div',br,[t[26]||(t[26]=(0,r.createElementVNode)('label',null,'出身',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[9]||(t[9]=e=>(0,r.unref)(s).出身=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).出身]])]),(0,r.createElementVNode)('div',ur,[t[27]||(t[27]=(0,r.createElementVNode)('label',null,'已活岁月',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[10]||(t[10]=e=>(0,r.unref)(s).已活岁月=e),type:'number',min:'0'},null,512),[[r.vModelText,(0,r.unref)(s).已活岁月,void 0,{number:!0}]])])]),(0,r.createCommentVNode)(' 位置信息 '),(0,r.createElementVNode)('div',mr,[t[31]||(t[31]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-map-location-dot'}),(0,r.createElementVNode)('span',null,'位置信息')],-1)),(0,r.createElementVNode)('div',fr,[t[29]||(t[29]=(0,r.createElementVNode)('label',null,'当前区域',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[11]||(t[11]=e=>(0,r.unref)(s).当前区域=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).当前区域]])]),(0,r.createElementVNode)('div',gr,[t[30]||(t[30]=(0,r.createElementVNode)('label',null,'所属层级',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t[12]||(t[12]=e=>(0,r.unref)(s).所属层级=e),type:'text'},null,512),[[r.vModelText,(0,r.unref)(s).所属层级]])])]),(0,r.createCommentVNode)(' 红颜初始关系 '),(0,r.createElementVNode)('div',vr,[t[37]||(t[37]=(0,r.createElementVNode)('div',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-heart'}),(0,r.createElementVNode)('span',null,'红颜初始关系')],-1)),t[38]||(t[38]=(0,r.createElementVNode)('p',{class:'section-hint'},'选择开局时已结识的红颜，设置初始好感度和关系',-1)),(0,r.createCommentVNode)(' 可选红颜列表 '),(0,r.createElementVNode)('div',Vr,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(c),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:(0,r.normalizeClass)(['companion-option',{selected:m(t)}]),onClick:e=>(e=>{if(m(e))delete s.value.红颜[e];else{const t=c.value[e];if(t){const a={};t.通&&Array.isArray(t.通)&&t.通.forEach(e=>{a[e]={名称:e,描述:'',类型:'神通',品阶:'天',熟练度:'精通',领悟时间:Date.now()}}),s.value.红颜[e]={好感度:0,关系:'陌生人',等级:t.级,修为:0,灵根:t.根,体质:t.质,功法:t.法,本命兵器:t.器,神通列表:a,灵石:0,已活岁月:0,尝试突破:!1}}}})(t)},[(0,r.createElementVNode)('div',Er,[m(t)?((0,r.openBlock)(),(0,r.createElementBlock)('i',hr)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',yr,[(0,r.createElementVNode)('div',kr,(0,r.toDisplayString)(t),1),(0,r.createElementVNode)('div',Br,[(0,r.createElementVNode)('span',Sr,(0,r.toDisplayString)(l(e.级)),1)]),(0,r.createElementVNode)('div',zr,(0,r.toDisplayString)(e.根)+' · '+(0,r.toDisplayString)(e.质),1)])],10,Nr))),128))]),(0,r.createCommentVNode)(' 已选红颜详细设置 '),Object.keys((0,r.unref)(s).红颜).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Cr,[t[36]||(t[36]=(0,r.createElementVNode)('div',{class:'selected-title'},'已选红颜设置',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s).红颜,(e,a)=>{return(0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'companion-card'},[(0,r.createElementVNode)('div',_r,[(0,r.createElementVNode)('span',wr,(0,r.toDisplayString)(a),1),(0,r.createElementVNode)('button',{class:'btn-delete-small',onClick:e=>(e=>{delete s.value.红颜[e]})(a)},[...t[32]||(t[32]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-times'},null,-1)])],8,xr)]),(0,r.createElementVNode)('div',Dr,[(0,r.createElementVNode)('div',Mr,[t[33]||(t[33]=(0,r.createElementVNode)('label',null,'好感度',-1)),(0,r.createElementVNode)('div',$r,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.好感度=t,type:'range',min:'-100',max:'100',class:'favor-slider'},null,8,Tr),[[r.vModelText,e.好感度,void 0,{number:!0}]]),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['favor-value',(n=e.好感度,n>=60?'favor-high':n>=30?'favor-good':n>=0?'favor-neutral':n>=-30?'favor-low':'favor-hostile')])},(0,r.toDisplayString)(e.好感度),3)])]),(0,r.createElementVNode)('div',jr,[t[35]||(t[35]=(0,r.createElementVNode)('label',null,'关系阶段',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':t=>e.关系=t,class:'relation-select'},[...t[34]||(t[34]=[(0,r.createStaticVNode)('<option value="陌生人" data-v-3ce1e94b>陌生人</option><option value="点头之交" data-v-3ce1e94b>点头之交</option><option value="熟人" data-v-3ce1e94b>熟人</option><option value="好友" data-v-3ce1e94b>好友</option><option value="知己" data-v-3ce1e94b>知己</option><option value="心动" data-v-3ce1e94b>心动</option><option value="暧昧" data-v-3ce1e94b>暧昧</option><option value="恋人" data-v-3ce1e94b>恋人</option><option value="道侣" data-v-3ce1e94b>道侣</option>',9)])],8,Ar),[[r.vModelSelect,e.关系]])])])]);var n}),128))])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 神通列表 '),(0,r.createElementVNode)('div',Ur,[(0,r.createElementVNode)('div',{class:'section-title'},[t[40]||(t[40]=(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic-sparkles'},null,-1)),t[41]||(t[41]=(0,r.createElementVNode)('span',null,'神通列表',-1)),(0,r.createElementVNode)('button',{class:'btn-add-small',onClick:p},[...t[39]||(t[39]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-plus'},null,-1)])])]),0===Object.keys((0,r.unref)(s).神通列表).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ir,' 暂无神通，点击右上角添加 ')):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s).神通列表,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'item-card'},[(0,r.createElementVNode)('div',Or,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.名称=t,type:'text',placeholder:'神通名称',class:'item-name-input'},null,8,Pr),[[r.vModelText,e.名称]]),(0,r.createElementVNode)('button',{class:'btn-delete-small',onClick:e=>(e=>{delete s.value.神通列表[e]})(a)},[...t[42]||(t[42]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash'},null,-1)])],8,Fr)]),(0,r.createElementVNode)('div',Rr,[(0,r.createElementVNode)('div',Lr,[t[44]||(t[44]=(0,r.createElementVNode)('label',null,'类型',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':t=>e.类型=t},[...t[43]||(t[43]=[(0,r.createElementVNode)('option',{value:'功法'},'功法',-1),(0,r.createElementVNode)('option',{value:'神通'},'神通',-1),(0,r.createElementVNode)('option',{value:'秘术'},'秘术',-1)])],8,Gr),[[r.vModelSelect,e.类型]])]),(0,r.createElementVNode)('div',Hr,[t[46]||(t[46]=(0,r.createElementVNode)('label',null,'品阶',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':t=>e.品阶=t},[...t[45]||(t[45]=[(0,r.createStaticVNode)('<option value="凡" data-v-3ce1e94b>凡</option><option value="黄" data-v-3ce1e94b>黄</option><option value="玄" data-v-3ce1e94b>玄</option><option value="地" data-v-3ce1e94b>地</option><option value="天" data-v-3ce1e94b>天</option><option value="仙" data-v-3ce1e94b>仙</option><option value="圣" data-v-3ce1e94b>圣</option><option value="先天" data-v-3ce1e94b>先天</option>',8)])],8,Wr),[[r.vModelSelect,e.品阶]])]),(0,r.createElementVNode)('div',qr,[t[48]||(t[48]=(0,r.createElementVNode)('label',null,'熟练度',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':t=>e.熟练度=t},[...t[47]||(t[47]=[(0,r.createStaticVNode)('<option value="入门" data-v-3ce1e94b>入门</option><option value="熟练" data-v-3ce1e94b>熟练</option><option value="精通" data-v-3ce1e94b>精通</option><option value="大成" data-v-3ce1e94b>大成</option><option value="圆满" data-v-3ce1e94b>圆满</option><option value="化境" data-v-3ce1e94b>化境</option>',6)])],8,Jr),[[r.vModelSelect,e.熟练度]])])]),(0,r.createElementVNode)('div',Zr,[(0,r.createElementVNode)('div',Kr,[t[49]||(t[49]=(0,r.createElementVNode)('label',null,'描述',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':t=>e.描述=t,placeholder:'神通描述...',rows:'2'},null,8,Qr),[[r.vModelText,e.描述]])])])]))),128))]),(0,r.createCommentVNode)(' 法宝 '),(0,r.createElementVNode)('div',Xr,[(0,r.createElementVNode)('div',{class:'section-title'},[t[51]||(t[51]=(0,r.createElementVNode)('i',{class:'fa-solid fa-gem'},null,-1)),t[52]||(t[52]=(0,r.createElementVNode)('span',null,'法宝',-1)),(0,r.createElementVNode)('button',{class:'btn-add-small',onClick:b},[...t[50]||(t[50]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-plus'},null,-1)])])]),0===Object.keys((0,r.unref)(s).法宝).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Yr,' 暂无法宝，点击右上角添加 ')):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s).法宝,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'item-card'},[(0,r.createElementVNode)('div',el,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.名称=t,type:'text',placeholder:'法宝名称',class:'item-name-input'},null,8,tl),[[r.vModelText,e.名称]]),(0,r.createElementVNode)('button',{class:'btn-delete-small',onClick:e=>(e=>{delete s.value.法宝[e]})(a)},[...t[53]||(t[53]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash'},null,-1)])],8,al)]),(0,r.createElementVNode)('div',nl,[(0,r.createElementVNode)('div',ol,[t[55]||(t[55]=(0,r.createElementVNode)('label',null,'品阶',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':t=>e.品阶=t},[...t[54]||(t[54]=[(0,r.createStaticVNode)('<option value="凡器" data-v-3ce1e94b>凡器</option><option value="法器" data-v-3ce1e94b>法器</option><option value="灵器" data-v-3ce1e94b>灵器</option><option value="法宝" data-v-3ce1e94b>法宝</option><option value="灵宝" data-v-3ce1e94b>灵宝</option><option value="仙器" data-v-3ce1e94b>仙器</option><option value="圣器" data-v-3ce1e94b>圣器</option><option value="道器" data-v-3ce1e94b>道器</option>',8)])],8,rl),[[r.vModelSelect,e.品阶]])]),(0,r.createElementVNode)('div',ll,[t[56]||(t[56]=(0,r.createElementVNode)('label',null,'数量',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.数量=t,type:'number',min:'1'},null,8,cl),[[r.vModelText,e.数量,void 0,{number:!0}]])])]),(0,r.createElementVNode)('div',sl,[(0,r.createElementVNode)('div',il,[t[57]||(t[57]=(0,r.createElementVNode)('label',null,'描述',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':t=>e.描述=t,placeholder:'法宝描述...',rows:'2'},null,8,dl),[[r.vModelText,e.描述]])])])]))),128))]),(0,r.createCommentVNode)(' 储物戒（背包） '),(0,r.createElementVNode)('div',pl,[(0,r.createElementVNode)('div',{class:'section-title'},[t[59]||(t[59]=(0,r.createElementVNode)('i',{class:'fa-solid fa-box-open'},null,-1)),t[60]||(t[60]=(0,r.createElementVNode)('span',null,'储物戒',-1)),(0,r.createElementVNode)('button',{class:'btn-add-small',onClick:u},[...t[58]||(t[58]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-plus'},null,-1)])])]),0===Object.keys((0,r.unref)(s).背包).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',bl,' 暂无物品，点击右上角添加 ')):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s).背包,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'item-card'},[(0,r.createElementVNode)('div',ul,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.名称=t,type:'text',placeholder:'物品名称',class:'item-name-input'},null,8,ml),[[r.vModelText,e.名称]]),(0,r.createElementVNode)('button',{class:'btn-delete-small',onClick:e=>(e=>{delete s.value.背包[e]})(a)},[...t[61]||(t[61]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash'},null,-1)])],8,fl)]),(0,r.createElementVNode)('div',gl,[(0,r.createElementVNode)('div',vl,[t[62]||(t[62]=(0,r.createElementVNode)('label',null,'品阶',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.品阶=t,type:'text',placeholder:'如：上品'},null,8,Vl),[[r.vModelText,e.品阶]])]),(0,r.createElementVNode)('div',Nl,[t[63]||(t[63]=(0,r.createElementVNode)('label',null,'数量',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':t=>e.数量=t,type:'number',min:'1'},null,8,El),[[r.vModelText,e.数量,void 0,{number:!0}]])])]),(0,r.createElementVNode)('div',hl,[(0,r.createElementVNode)('div',yl,[t[64]||(t[64]=(0,r.createElementVNode)('label',null,'描述',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':t=>e.描述=t,placeholder:'物品描述...',rows:'2'},null,8,kl),[[r.vModelText,e.描述]])])])]))),128))])]),(0,r.createCommentVNode)(' 操作按钮 '),(0,r.createElementVNode)('div',{class:'preset-actions'},[(0,r.createElementVNode)('button',{class:'btn-apply',onClick:V},[...t[65]||(t[65]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-check'},null,-1),(0,r.createTextVNode)(' 应用预设 ',-1)])]),(0,r.createElementVNode)('button',{class:'btn-reset',onClick:N},[...t[66]||(t[66]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-rotate-left'},null,-1),(0,r.createTextVNode)(' 恢复默认 ',-1)])])]),(0,r.createCommentVNode)(' 导入导出按钮 '),(0,r.createElementVNode)('div',Bl,[(0,r.createElementVNode)('button',{class:'btn-export',onClick:E},[...t[67]||(t[67]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-file-export'},null,-1),(0,r.createTextVNode)(' 导出预设 ',-1)])]),(0,r.createElementVNode)('button',{class:'btn-import',onClick:h},[...t[68]||(t[68]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-file-import'},null,-1),(0,r.createTextVNode)(' 导入预设 ',-1)])]),(0,r.createElementVNode)('input',{ref_key:'fileInput',ref:a,type:'file',accept:'.json',style:{display:'none'},onChange:y},null,544)])]))}}),zl=(0,We.A)(Sl,[['__scopeId','data-v-3ce1e94b']]),Cl={class:'panel skills-panel'},_l={class:'skills-list'},wl={key:0,class:'skill-item'},xl={class:'skill-header'},Dl={class:'skill-name'},Ml={class:'skill-rank'},$l={class:'skill-desc'},Tl={class:'skill-proficiency'},jl={key:0,class:'empty-hint'},Al=(0,r.defineComponent)({__name:'SkillsPanel',setup(e){const t=Be();return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Cl,[(0,r.createElementVNode)('div',_l,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).本尊.神通列表,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[t&&String(t).trim()?((0,r.openBlock)(),(0,r.createElementBlock)('div',wl,[(0,r.createElementVNode)('div',xl,[(0,r.createElementVNode)('div',Dl,(0,r.toDisplayString)(e?.名称||t),1),(0,r.createElementVNode)('div',Ml,(0,r.toDisplayString)(e?.品阶||'未知'),1)]),(0,r.createElementVNode)('div',$l,(0,r.toDisplayString)(e?.描述||'暂无描述'),1),(0,r.createElementVNode)('div',Tl,'熟练度: '+(0,r.toDisplayString)(e?.熟练度||'入门'),1)])):(0,r.createCommentVNode)('v-if',!0)],64))),128)),(0,r.unref)(t).本尊.神通列表&&0!==Object.keys((0,r.unref)(t).本尊.神通列表).length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',jl,' 尚未领悟任何神通 '))])]))}}),Ul=(0,We.A)(Al,[['__scopeId','data-v-5900eed4']]),Il={class:'tab-nav'},Ol=['onClick'],Pl={class:'tab-label'},Fl=(0,r.defineComponent)({__name:'TabNav',props:{tabs:{},activeTab:{}},emits:['update:activeTab'],setup:e=>(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Il,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tabs,a=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:a.id,class:(0,r.normalizeClass)(['tab-btn',{active:e.activeTab===a.id}]),onClick:e=>t.$emit('update:activeTab',a.id)},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(a.icon)},null,2),(0,r.createElementVNode)('span',Pl,(0,r.toDisplayString)(a.label),1)],10,Ol))),128))]))}),Rl=(0,We.A)(Fl,[['__scopeId','data-v-5c864aea']]),Ll={class:'theme-selector-header'},Gl={class:'theme-list'},Hl=['onClick'],Wl={class:'theme-info'},ql={class:'theme-name'},Jl={class:'theme-desc'},Zl={key:0,class:'fa-solid fa-check theme-check'},Kl=(0,r.defineComponent)({__name:'ThemeSelector',props:{visible:{type:Boolean}},emits:['close','select'],setup(e,{emit:t}){const a=Se(),n=t;return(t,o)=>((0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:'theme-selector-fade'},{default:(0,r.withCtx)(()=>[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:'theme-selector-overlay',onClick:o[2]||(o[2]=e=>t.$emit('close'))},[(0,r.createElementVNode)('div',{class:'theme-selector',onClick:o[1]||(o[1]=(0,r.withModifiers)(()=>{},['stop']))},[(0,r.createElementVNode)('div',Ll,[o[4]||(o[4]=(0,r.createElementVNode)('h3',null,[(0,r.createElementVNode)('i',{class:'fa-solid fa-palette'}),(0,r.createTextVNode)(' 选择主题')],-1)),(0,r.createElementVNode)('button',{class:'close-btn',onClick:o[0]||(o[0]=e=>t.$emit('close'))},[...o[3]||(o[3]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-times'},null,-1)])])]),(0,r.createElementVNode)('div',Gl,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(a).availableThemes,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.id,class:(0,r.normalizeClass)(['theme-item',{active:e.id===(0,r.unref)(a).currentThemeId}]),onClick:t=>{return a=e.id,void n('select',a);var a}},[(0,r.createElementVNode)('div',{class:'theme-preview',style:(0,r.normalizeStyle)({background:e.colors.bgPrimary})},[(0,r.createElementVNode)('div',{class:'theme-preview-border',style:(0,r.normalizeStyle)({borderColor:e.colors.border})},null,4)],4),(0,r.createElementVNode)('div',Wl,[(0,r.createElementVNode)('div',ql,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('div',Jl,(0,r.toDisplayString)(e.description),1)]),e.id===(0,r.unref)(a).currentThemeId?((0,r.openBlock)(),(0,r.createElementBlock)('i',Zl)):(0,r.createCommentVNode)('v-if',!0)],10,Hl))),128))])])])):(0,r.createCommentVNode)('v-if',!0)]),_:1}))}}),Ql=(0,We.A)(Kl,[['__scopeId','data-v-666b5903']]),Xl={class:'content'},Yl={class:'panel tribulation-panel'},ec=(0,r.defineComponent)({__name:'app',setup(e){const t=Be(),a=Se(),n=[{id:'cultivation',label:'修炼',icon:'fa-solid fa-yin-yang'},{id:'skills',label:'神通',icon:'fa-solid fa-hand-sparkles'},{id:'inventory',label:'储物',icon:'fa-solid fa-box-open'},{id:'companions',label:'红颜',icon:'fa-solid fa-heart'},{id:'map',label:'行踪',icon:'fa-solid fa-map'},{id:'tribulation',label:'历劫',icon:'fa-solid fa-bolt'},{id:'gallery',label:'图鉴',icon:'fa-solid fa-images'}],o=(0,r.ref)('gallery'),l=(0,r.ref)(!1),c=(0,r.ref)(!1),s=()=>{l.value=!l.value},i=()=>{c.value=!c.value},d=e=>{a.setTheme(e),c.value=!1},p=(0,r.computed)(()=>{const e=a.currentTheme;return{'--bg-primary':e.colors.bgPrimary,'--bg-secondary':e.colors.bgSecondary,'--border-color':e.colors.border,'--border-active':e.colors.borderActive,'--text-primary':e.colors.textPrimary,'--text-secondary':e.colors.textSecondary,'--text-accent':e.colors.textAccent,'--accent-color':e.colors.accent,'--accent-glow':e.colors.accentGlow,'--button-bg':e.colors.buttonBg,'--button-hover':e.colors.buttonHover,'--button-active':e.colors.buttonActive,'--progress-bg':e.colors.progressBg,'--header-bg':e.colors.headerBg,'--tab-bg':e.colors.tabBg,'--tab-active':e.colors.tabActive,'--footer-bg':e.colors.footerBg,'--pattern-overlay':e.patterns.overlay||'none'}}),b=(0,r.computed)(()=>{const e=String(t.本尊.行踪.当前区域||'').trim(),a=String(t.本尊.行踪.所属层级||'').trim(),n=['神州','东苍','南炎','西庚','北冥','四海','天渊','归墟','黄泉古迹','无尽炎渊','雷暴海'],o=['天层','地层','下层'],r=[...o,...n],l=e=>n.includes(e),c=e=>{for(const t of n)if(e.includes(t))return t;return''},s=(e=>{if(!e)return'';const t=e.trim(),a=t.split(/[·•\-—_：:／/|]/).map(e=>e.trim()).filter(Boolean);return a.length>=2&&r.includes(a[0])?a.slice(1).join(''):t})(e),i=c(e);if(i)return i;const d=t.地点库?.[s]??t.地点库?.[e];if(d?.域&&l(d.域))return d.域;const p=t.世界地图?.[s]??t.世界地图?.[e];if(p?.layer&&l(p.layer))return p.layer;if(l(a))return a;if(o.includes(a)){const a=c(`${e} ${s} ${String(t.本尊.行踪.环境描述||'')}`);if(a)return a}return a||''}),u=(0,r.computed)(()=>A(t.本尊.行踪.危险度??10)),m=(0,r.computed)(()=>{const e={天层:'#88ddff',天渊:'#88ddff',神州:'#ffdd44',东苍:'#44aa44',南炎:'#ff6644',西庚:'#cccccc',北冥:'#4488ff',四海:'#44cccc',下层:'#ff4444',归墟:'#9944cc',黄泉古迹:'#cc8844',无尽炎渊:'#ff3300',雷暴海:'#6644ff'},t=b.value;return t&&e[t]?e[t]:'#44aa44'});return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['cultivation-status',{collapsed:(0,r.unref)(l)}]),style:(0,r.normalizeStyle)((0,r.unref)(p))},[(0,r.createCommentVNode)(' 背景图案层 '),a[4]||(a[4]=(0,r.createElementVNode)('div',{class:'pattern-overlay'},null,-1)),(0,r.createCommentVNode)(' 仙鹤装饰 - 顶部中央 '),a[5]||(a[5]=(0,r.createElementVNode)('div',{class:'crane-decoration'},[(0,r.createElementVNode)('img',{src:'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/仙鹤.png',alt:'仙鹤'})],-1)),(0,r.createCommentVNode)(' 头部区域 '),(0,r.createVNode)(to,{'is-collapsed':(0,r.unref)(l),'parent-region':(0,r.unref)(b),'danger-color':(0,r.unref)(u),'location-color':(0,r.unref)(m),onToggleCollapse:s,onToggleThemeSelector:i,onTogglePresetEditor:a[0]||(a[0]=e=>o.value='preset')},null,8,['is-collapsed','parent-region','danger-color','location-color']),(0,r.createCommentVNode)(' 主题选择器弹窗 '),(0,r.createVNode)(Ql,{visible:(0,r.unref)(c),onClose:a[1]||(a[1]=e=>c.value=!1),onSelect:d},null,8,['visible']),(0,r.createCommentVNode)(' 标签页导航 '),(0,r.createVNode)(Rl,{tabs:n,'active-tab':(0,r.unref)(o),'onUpdate:activeTab':a[2]||(a[2]=e=>(0,r.isRef)(o)?o.value=e:null)},null,8,['active-tab']),(0,r.createCommentVNode)(' 内容区域 '),(0,r.createElementVNode)('div',Xl,[(0,r.createCommentVNode)(' 预设面板 '),'preset'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createBlock)(zl,{key:0})):'cultivation'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 修炼面板 '),(0,r.createVNode)(Sn)],2112)):'skills'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:2},[(0,r.createCommentVNode)(' 神通面板 '),(0,r.createVNode)(Ul)],2112)):'inventory'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[(0,r.createCommentVNode)(' 储物面板 '),(0,r.createVNode)(ho)],2112)):'companions'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:4},[(0,r.createCommentVNode)(' 红颜面板 '),(0,r.createVNode)(Ya)],2112)):'map'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:5},[(0,r.createCommentVNode)(' 地图面板 '),(0,r.createVNode)(qo)],2112)):'tribulation'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:6},[(0,r.createCommentVNode)(' 历劫面板 '),(0,r.createElementVNode)('div',Yl,[(0,r.createVNode)(Pa,{'combat-state':(0,r.unref)(t).本尊.战斗状态,'current-enemies':(0,r.unref)(t).本尊.当前敌人,'tribulation-state':(0,r.unref)(t).本尊.渡劫状态,'player-combat-power':(0,r.unref)(t).本尊.战力值??0},null,8,['combat-state','current-enemies','tribulation-state','player-combat-power'])])],2112)):'gallery'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:7},[(0,r.createCommentVNode)(' 图鉴面板 '),(0,r.createVNode)(Wn)],2112)):'actions'===(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:8},[(0,r.createCommentVNode)(' 行动提示面板 '),(0,r.createVNode)(Je)],2112)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 底部区域 '),(0,r.createVNode)(xn,{onOpenActions:a[3]||(a[3]=e=>o.value='actions')})],6))}}),tc=(0,We.A)(ec,[['__scopeId','data-v-b9964536']]);$(()=>{const t=e(),a=(0,r.createApp)(tc);a.use(t),a.mount('#app'),console.info('[踏月寻仙] 状态栏界面已加载')});
//# sourceMappingURL=index.js.map</script><style>.action-menu-panel[data-v-dfc939e6]{display:flex;flex-direction:column;gap:16px;padding:4px}.situation-section[data-v-dfc939e6],.actions-section[data-v-dfc939e6]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px;padding:14px}.section-title[data-v-dfc939e6]{font-size:14px;font-weight:bold;color:var(--text-accent);margin-bottom:12px;display:flex;align-items:center;justify-content:space-between;gap:8px}.section-title .title-left[data-v-dfc939e6]{display:flex;align-items:center;gap:8px}.section-title .title-left i[data-v-dfc939e6]{color:var(--accent-color)}.section-title .title-right[data-v-dfc939e6]{display:flex;align-items:center;gap:8px}.section-title .refresh-btn[data-v-dfc939e6]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:50%;transition:all .2s;display:flex;align-items:center;justify-content:center}.section-title .refresh-btn[data-v-dfc939e6]:hover{background:var(--button-bg);color:var(--accent-color)}.section-title .refresh-btn i[data-v-dfc939e6]{font-size:12px;color:inherit}.section-title .action-count[data-v-dfc939e6]{font-size:12px;font-weight:normal;color:var(--text-secondary);background:var(--button-bg);padding:2px 8px;border-radius:10px}.situation-content[data-v-dfc939e6]{font-size:13px;color:var(--text-primary);line-height:1.6;padding:10px 12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px}.no-actions[data-v-dfc939e6]{text-align:center;padding:30px 20px;color:var(--text-secondary)}.no-actions i[data-v-dfc939e6]{font-size:36px;margin-bottom:12px;color:var(--accent-color);opacity:.5}.no-actions p[data-v-dfc939e6]{margin:4px 0;font-size:14px}.no-actions .hint[data-v-dfc939e6]{font-size:12px;color:var(--text-secondary);opacity:.8}.action-list[data-v-dfc939e6]{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}.action-card[data-v-dfc939e6]{display:flex;gap:12px;padding:12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:10px;cursor:pointer;transition:all .2s;position:relative}.action-card[data-v-dfc939e6]:hover{border-color:var(--border-active);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.action-card[data-v-dfc939e6]:active{transform:translateY(0)}.action-card.urgent[data-v-dfc939e6]{border-color:#ff6b6b;background:linear-gradient(135deg,var(--bg-primary) 0%,rgba(255,107,107,0.1) 100%)}.action-card.urgent .time-limit[data-v-dfc939e6]{animation:pulse-dfc939e6 2s infinite}.action-card.nsfw-双修[data-v-dfc939e6]{border-color:rgba(219,39,119,.4)}.action-card.nsfw-双修[data-v-dfc939e6]:hover{border-color:#db2777;box-shadow:0 4px 16px rgba(219,39,119,.25)}.action-card.nsfw-亲密[data-v-dfc939e6]{border-color:rgba(192,38,211,.3)}.action-card.nsfw-亲密[data-v-dfc939e6]:hover{border-color:#c026d3;box-shadow:0 4px 16px rgba(192,38,211,.2)}.action-card.nsfw-调情[data-v-dfc939e6]{border-color:rgba(225,29,72,.3)}.action-card.nsfw-调情[data-v-dfc939e6]:hover{border-color:#e11d48;box-shadow:0 4px 16px rgba(225,29,72,.2)}.action-card.random-action[data-v-dfc939e6]{border-style:dashed;opacity:.85}.action-card.random-action[data-v-dfc939e6]:hover{opacity:1;border-style:solid}.action-icon[data-v-dfc939e6]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.action-icon i[data-v-dfc939e6]{font-size:18px;color:#fff}.action-icon.icon-探索[data-v-dfc939e6]{background:linear-gradient(135deg,#4ade80,#22c55e)}.action-icon.icon-任务[data-v-dfc939e6]{background:linear-gradient(135deg,#60a5fa,#3b82f6)}.action-icon.icon-交易[data-v-dfc939e6]{background:linear-gradient(135deg,#fbbf24,#f59e0b)}.action-icon.icon-结交[data-v-dfc939e6]{background:linear-gradient(135deg,#a78bfa,#8b5cf6)}.action-icon.icon-争夺[data-v-dfc939e6]{background:linear-gradient(135deg,#f87171,#ef4444)}.action-icon.icon-修炼[data-v-dfc939e6]{background:linear-gradient(135deg,#38bdf8,#0ea5e9)}.action-icon.icon-红颜[data-v-dfc939e6]{background:linear-gradient(135deg,#fb7185,#f43f5e)}.action-icon.icon-nsfw-双修[data-v-dfc939e6]{background:linear-gradient(135deg,#f472b6,#db2777);box-shadow:0 0 8px rgba(219,39,119,.4)}.action-icon.icon-nsfw-亲密[data-v-dfc939e6]{background:linear-gradient(135deg,#e879f9,#c026d3);box-shadow:0 0 8px rgba(192,38,211,.4)}.action-icon.icon-nsfw-调情[data-v-dfc939e6]{background:linear-gradient(135deg,#ff6b9d,#e11d48);box-shadow:0 0 8px rgba(225,29,72,.3)}.action-icon.icon-随机[data-v-dfc939e6]{background:linear-gradient(135deg,#94a3b8,#64748b)}.action-info[data-v-dfc939e6]{flex:1;min-width:0}.action-header[data-v-dfc939e6]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.action-name[data-v-dfc939e6]{font-size:14px;font-weight:bold;color:var(--text-primary)}.action-type-tag[data-v-dfc939e6]{font-size:10px;padding:2px 6px;background:var(--button-bg);color:var(--text-secondary);border-radius:4px}.action-type-tag.tag-nsfw-双修[data-v-dfc939e6]{background:linear-gradient(135deg,rgba(244,114,182,0.2),rgba(219,39,119,0.2));color:#f472b6;border:1px solid rgba(219,39,119,.3)}.action-type-tag.tag-nsfw-亲密[data-v-dfc939e6]{background:linear-gradient(135deg,rgba(232,121,249,0.2),rgba(192,38,211,0.2));color:#e879f9;border:1px solid rgba(192,38,211,.3)}.action-type-tag.tag-nsfw-调情[data-v-dfc939e6]{background:linear-gradient(135deg,rgba(255,107,157,0.2),rgba(225,29,72,0.2));color:#ff6b9d;border:1px solid rgba(225,29,72,.3)}.action-source[data-v-dfc939e6]{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.action-source i[data-v-dfc939e6]{margin-right:4px;color:var(--accent-color)}.action-desc[data-v-dfc939e6]{font-size:12px;color:var(--text-primary);line-height:1.5;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.action-meta[data-v-dfc939e6]{display:flex;gap:12px;font-size:11px}.action-meta .reward[data-v-dfc939e6],.action-meta .risk[data-v-dfc939e6]{display:flex;align-items:center;gap:4px}.action-meta .reward[data-v-dfc939e6]{color:#4ade80}.action-meta .reward i[data-v-dfc939e6]{color:#fbbf24}.action-meta .risk[data-v-dfc939e6]{color:#f87171}.action-meta .risk i[data-v-dfc939e6]{color:#ef4444}.time-limit[data-v-dfc939e6]{margin-top:6px;font-size:11px;color:#ff6b6b;display:flex;align-items:center;gap:4px}.time-limit i[data-v-dfc939e6]{color:#ff6b6b}.priority-indicator[data-v-dfc939e6]{position:absolute;top:8px;right:8px;font-size:10px;color:var(--accent-color);opacity:.6}.priority-indicator.priority-5[data-v-dfc939e6]{color:#fbbf24;opacity:1}.priority-indicator.priority-4[data-v-dfc939e6]{color:#fb923c}.priority-indicator.priority-3[data-v-dfc939e6]{color:var(--accent-color)}@keyframes pulse-dfc939e6{0%,100%{opacity:1}50%{opacity:.5}}@media screen and (max-width:480px){.action-menu-panel[data-v-dfc939e6]{gap:12px}.situation-section[data-v-dfc939e6],.actions-section[data-v-dfc939e6]{padding:12px}.section-title[data-v-dfc939e6]{font-size:13px;margin-bottom:10px}.action-card[data-v-dfc939e6]{padding:10px;gap:10px}.action-icon[data-v-dfc939e6]{width:36px;height:36px}.action-icon i[data-v-dfc939e6]{font-size:16px}.action-name[data-v-dfc939e6]{font-size:13px}.action-desc[data-v-dfc939e6]{font-size:11px}.action-meta[data-v-dfc939e6]{font-size:10px;gap:8px}}
.combat-header[data-v-4cc9f256]{display:flex;align-items:center;justify-content:space-between;padding:16px;margin-bottom:16px;background:linear-gradient(135deg,rgba(255,100,100,0.12) 0%,rgba(200,80,80,0.08) 100%);border:1px solid rgba(255,100,100,.35);border-radius:12px;position:relative}.combat-header[data-v-4cc9f256]::before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,#ff6b6b 0%,#ff8888 50%,#ff6b6b 100%);border-radius:4px 0 0 4px}.combat-header .combat-status-left[data-v-4cc9f256]{display:flex;align-items:center;gap:12px}.combat-header .combat-status-indicator[data-v-4cc9f256]{width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:18px}.combat-header .combat-status-indicator.status-激战[data-v-4cc9f256],.combat-header .combat-status-indicator.status-战斗中[data-v-4cc9f256]{background:rgba(255,100,100,.2);color:#ff6b6b}.combat-header .combat-status-indicator.status-对峙[data-v-4cc9f256]{background:rgba(255,180,60,.2);color:#ffb43c}.combat-header .combat-status-indicator.status-重伤[data-v-4cc9f256]{background:rgba(255,136,0,.2);color:#f80}.combat-header .combat-status-indicator.status-濒死[data-v-4cc9f256]{background:rgba(200,50,50,.25);color:#c33}.combat-header .combat-status-indicator .crossed-swords-icon[data-v-4cc9f256]{font-size:20px;line-height:1}.combat-header .combat-status-text[data-v-4cc9f256]{display:flex;flex-direction:column;gap:2px}.combat-header .combat-status-label[data-v-4cc9f256]{font-size:17px;font-weight:bold}.combat-header .combat-status-label.status-激战[data-v-4cc9f256],.combat-header .combat-status-label.status-战斗中[data-v-4cc9f256]{color:#ff6b6b}.combat-header .combat-status-label.status-对峙[data-v-4cc9f256]{color:#ffb43c}.combat-header .combat-status-label.status-重伤[data-v-4cc9f256]{color:#f80}.combat-header .combat-status-label.status-濒死[data-v-4cc9f256]{color:#c33}.combat-header .combat-status-desc[data-v-4cc9f256]{font-size:12px;color:var(--text-secondary);max-width:180px}.combat-header .combat-round-info[data-v-4cc9f256]{display:flex;flex-direction:column;align-items:center;padding:8px 14px;background:rgba(255,100,100,.1);border:1px solid rgba(255,100,100,.25);border-radius:10px}.combat-header .combat-round-info .round-label[data-v-4cc9f256]{font-size:10px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px}.combat-header .combat-round-info .round-number[data-v-4cc9f256]{font-size:20px;font-weight:bold;color:#ff6b6b;line-height:1.1}.combat-stats[data-v-4cc9f256]{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.combat-stats .combat-stat-item[data-v-4cc9f256]{display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px}.combat-stats .combat-stat-item .combat-stat-icon[data-v-4cc9f256]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:18px}.combat-stats .combat-stat-item .combat-stat-icon.spirit[data-v-4cc9f256]{background:rgba(74,158,255,.15);color:#4a9eff}.combat-stats .combat-stat-item .combat-stat-icon.power[data-v-4cc9f256]{background:rgba(255,170,100,.15);color:#ffaa64}.combat-stats .combat-stat-item .combat-stat-icon.injury-icon-无伤[data-v-4cc9f256]{background:rgba(102,204,136,.15);color:#6c8}.combat-stats .combat-stat-item .combat-stat-icon.injury-icon-轻伤[data-v-4cc9f256]{background:rgba(255,204,0,.15);color:#fc0}.combat-stats .combat-stat-item .combat-stat-icon.injury-icon-重伤[data-v-4cc9f256]{background:rgba(255,136,0,.15);color:#f80}.combat-stats .combat-stat-item .combat-stat-icon.injury-icon-濒死[data-v-4cc9f256]{background:rgba(255,68,68,.15);color:#f44;animation:pulse-danger-4cc9f256 1.5s ease-in-out infinite}.combat-stats .combat-stat-item .combat-stat-content[data-v-4cc9f256]{flex:1}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-label[data-v-4cc9f256]{font-size:12px;color:var(--text-secondary);margin-bottom:6px}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-bar[data-v-4cc9f256]{height:8px;background:var(--progress-bg);border-radius:4px;overflow:hidden}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-bar .combat-stat-fill[data-v-4cc9f256]{height:100%;border-radius:4px;transition:width .5s ease}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-bar .combat-stat-fill.spirit[data-v-4cc9f256]{box-shadow:0 0 10px rgba(74,158,255,.5)}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-value[data-v-4cc9f256]{font-size:13px;font-weight:500;color:var(--text-accent);margin-top:4px}.combat-stats .combat-stat-item .combat-stat-content .combat-power-value[data-v-4cc9f256]{display:flex;align-items:center;gap:4px;margin-top:2px}.combat-stats .combat-stat-item .combat-stat-content .combat-power-value .power-number[data-v-4cc9f256]{font-size:22px;font-weight:bold;color:#ffaa64;text-shadow:0 0 10px rgba(255,170,100,.4)}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status[data-v-4cc9f256]{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:12px;font-size:13px;font-weight:500}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status i[data-v-4cc9f256]{font-size:12px}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status.status-无伤[data-v-4cc9f256]{background:rgba(68,170,68,.15);color:#4a4}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status.status-轻伤[data-v-4cc9f256]{background:rgba(255,204,0,.15);color:#fc0}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status.status-重伤[data-v-4cc9f256]{background:rgba(255,136,0,.15);color:#f80}.combat-stats .combat-stat-item .combat-stat-content .combat-stat-status.status-濒死[data-v-4cc9f256]{background:rgba(255,68,68,.15);color:#f44;animation:pulse-danger-4cc9f256 1.5s ease-in-out infinite}.trump-cards-section[data-v-4cc9f256]{margin-bottom:20px;padding:16px;background:linear-gradient(135deg,rgba(255,200,100,0.08) 0%,rgba(255,180,80,0.05) 100%);border:1px dashed rgba(255,200,100,.3);border-radius:12px}.trump-cards-section .trump-header[data-v-4cc9f256]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:13px;font-weight:500;color:#ffc864}.trump-cards-section .trump-header i[data-v-4cc9f256]{font-size:14px}.trump-cards-section .trump-cards-list[data-v-4cc9f256]{display:flex;flex-wrap:wrap;gap:8px}.trump-cards-section .trump-cards-list .trump-card-tag[data-v-4cc9f256]{padding:5px 14px;background:rgba(255,200,100,.15);border:1px solid rgba(255,200,100,.4);border-radius:15px;font-size:12px;color:#ffc864}.enemies-section .enemies-header[data-v-4cc9f256]{display:flex;align-items:center;gap:8px;margin-bottom:12px;font-size:14px;font-weight:500;color:var(--text-accent)}.enemies-section .enemies-header i[data-v-4cc9f256]{font-size:14px;color:#ff6b6b}.enemies-section .enemies-header .enemy-count[data-v-4cc9f256]{margin-left:auto;padding:2px 10px;background:rgba(255,100,100,.15);border-radius:10px;font-size:12px;color:#ff6b6b}.enemies-section .enemies-list[data-v-4cc9f256]{display:flex;flex-direction:column;gap:12px}.enemies-section .enemy-card[data-v-4cc9f256]{display:flex;align-items:flex-start;gap:12px;padding:14px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;transition:all .3s ease}.enemies-section .enemy-card[data-v-4cc9f256]:hover{border-color:rgba(255,100,100,.4)}.enemies-section .enemy-card.enemy-dead[data-v-4cc9f256]{opacity:.5}.enemies-section .enemy-card.enemy-dead .enemy-name[data-v-4cc9f256]{text-decoration:line-through;color:var(--text-secondary)}.enemies-section .enemy-card.enemy-dead .enemy-avatar[data-v-4cc9f256]{background:hsla(0,0%,40%,.15) !important;color:#666 !important}.enemies-section .enemy-card .enemy-avatar[data-v-4cc9f256]{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:20px;flex-shrink:0}.enemies-section .enemy-card .enemy-avatar.threat-safe[data-v-4cc9f256]{background:rgba(68,170,68,.15);color:#4a4}.enemies-section .enemy-card .enemy-avatar.threat-easy[data-v-4cc9f256]{background:rgba(136,204,68,.15);color:#8c4}.enemies-section .enemy-card .enemy-avatar.threat-equal[data-v-4cc9f256]{background:rgba(255,204,0,.15);color:#fc0}.enemies-section .enemy-card .enemy-avatar.threat-hard[data-v-4cc9f256]{background:rgba(255,136,0,.15);color:#f80}.enemies-section .enemy-card .enemy-avatar.threat-deadly[data-v-4cc9f256]{background:rgba(255,68,68,.15);color:#f44;animation:pulse-danger-4cc9f256 1.5s ease-in-out infinite}.enemies-section .enemy-card .enemy-info[data-v-4cc9f256]{flex:1;min-width:0}.enemies-section .enemy-card .enemy-header-row[data-v-4cc9f256]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.enemies-section .enemy-card .enemy-header-row .enemy-name[data-v-4cc9f256]{font-size:15px;font-weight:600;color:#f88}.enemies-section .enemy-card .enemy-header-row .enemy-realm[data-v-4cc9f256]{padding:2px 10px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:10px;font-size:11px;color:var(--text-accent);flex-shrink:0}.enemies-section .enemy-card .enemy-status-row[data-v-4cc9f256]{display:flex;align-items:center;gap:16px;margin-bottom:6px}.enemies-section .enemy-card .enemy-status-row .enemy-power[data-v-4cc9f256],.enemies-section .enemy-card .enemy-status-row .enemy-health[data-v-4cc9f256]{display:flex;align-items:center;gap:6px;font-size:12px}.enemies-section .enemy-card .enemy-status-row .enemy-power i[data-v-4cc9f256],.enemies-section .enemy-card .enemy-status-row .enemy-health i[data-v-4cc9f256]{font-size:11px}.enemies-section .enemy-card .enemy-status-row .enemy-power.power-safe[data-v-4cc9f256]{color:#4a4}.enemies-section .enemy-card .enemy-status-row .enemy-power.power-easy[data-v-4cc9f256]{color:#8c4}.enemies-section .enemy-card .enemy-status-row .enemy-power.power-equal[data-v-4cc9f256]{color:#fc0}.enemies-section .enemy-card .enemy-status-row .enemy-power.power-hard[data-v-4cc9f256]{color:#f80}.enemies-section .enemy-card .enemy-status-row .enemy-power.power-deadly[data-v-4cc9f256]{color:#f44}.enemies-section .enemy-card .enemy-status-row .enemy-power .enemy-power-value[data-v-4cc9f256]{font-size:10px;opacity:.8;margin-left:2px}.enemies-section .enemy-card .enemy-status-row .enemy-health.health-完好[data-v-4cc9f256]{color:#4a4}.enemies-section .enemy-card .enemy-status-row .enemy-health.health-轻伤[data-v-4cc9f256]{color:#fc0}.enemies-section .enemy-card .enemy-status-row .enemy-health.health-重伤[data-v-4cc9f256]{color:#f80}.enemies-section .enemy-card .enemy-status-row .enemy-health.health-濒死[data-v-4cc9f256]{color:#f44}.enemies-section .enemy-card .enemy-status-row .enemy-health.health-已死[data-v-4cc9f256]{color:#666}.enemies-section .enemy-card .enemy-trait[data-v-4cc9f256]{display:flex;align-items:center;gap:6px;padding-top:8px;border-top:1px dashed var(--border-color);font-size:12px;color:var(--text-secondary)}.enemies-section .enemy-card .enemy-trait i[data-v-4cc9f256]{font-size:10px;color:#ffc864}.enemies-section .empty-hint[data-v-4cc9f256]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:30px 20px;background:var(--bg-secondary);border:1px dashed var(--border-color);border-radius:12px;color:var(--text-secondary)}.enemies-section .empty-hint i[data-v-4cc9f256]{font-size:28px;color:#6a8}.enemies-section .empty-hint span[data-v-4cc9f256]{font-size:13px;font-style:italic}@keyframes pulse-danger-4cc9f256{0%,100%{box-shadow:0 0 0 0 rgba(255,68,68,.4)}50%{box-shadow:0 0 0 8px rgba(255,68,68,0)}}@media screen and (max-width:480px){.trump-cards-section .trump-cards-list .trump-card-tag[data-v-4cc9f256]{padding:5px 12px;font-size:11px}.enemies-section .enemy-card[data-v-4cc9f256]{padding:12px 12px 12px 16px}.enemies-section .enemy-card .enemy-header-row .enemy-name[data-v-4cc9f256]{font-size:13px}.enemies-section .enemy-card .enemy-header-row .enemy-realm[data-v-4cc9f256]{padding:2px 8px;font-size:10px}.enemies-section .enemy-card .enemy-status-row[data-v-4cc9f256]{gap:12px}.enemies-section .enemy-card .enemy-status-row .enemy-power[data-v-4cc9f256],.enemies-section .enemy-card .enemy-status-row .enemy-health[data-v-4cc9f256]{font-size:11px}.enemies-section .enemy-card .enemy-status-row .enemy-power i[data-v-4cc9f256],.enemies-section .enemy-card .enemy-status-row .enemy-health i[data-v-4cc9f256]{font-size:10px}.enemies-section .enemy-card .enemy-trait[data-v-4cc9f256]{font-size:10px}.enemies-section .empty-hint[data-v-4cc9f256]{padding:24px 16px}.enemies-section .empty-hint i[data-v-4cc9f256]{font-size:24px}.enemies-section .empty-hint span[data-v-4cc9f256]{font-size:12px}}
.peace-state-card[data-v-4c49366c]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 20px;margin-bottom:20px;background:linear-gradient(135deg,rgba(68,170,68,0.1) 0%,rgba(100,200,150,0.08) 100%);border:1px solid rgba(68,170,68,.3);border-radius:16px;position:relative;overflow:hidden;transition:all .5s ease}.peace-state-card.recovery-mode[data-v-4c49366c]{background:linear-gradient(135deg,rgba(255,170,68,0.1) 0%,rgba(255,136,68,0.08) 100%);border-color:rgba(255,170,68,.35)}.peace-state-card.recovery-mode[data-v-4c49366c]::before{background:radial-gradient(circle,rgba(255,170,68,0.1) 0%,transparent 70%)}.peace-state-card[data-v-4c49366c]::before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(68,170,68,0.1) 0%,transparent 70%);animation:peace-glow-4c49366c 4s ease-in-out infinite}.peace-state-card .peace-icon-wrapper[data-v-4c49366c]{position:relative;margin-bottom:16px}.peace-state-card .peace-icon-wrapper .peace-icon[data-v-4c49366c]{font-size:48px;color:#6c8;filter:drop-shadow(0 0 15px rgba(102,204,136,0.5));animation:peace-float-4c49366c 3s ease-in-out infinite}.peace-state-card .peace-icon-wrapper .peace-glow[data-v-4c49366c]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;background:radial-gradient(circle,rgba(102,204,136,0.3) 0%,transparent 70%);border-radius:50%;animation:peace-pulse-4c49366c 2s ease-in-out infinite}.peace-state-card .peace-title[data-v-4c49366c]{font-size:22px;font-weight:bold;color:#6c8;text-shadow:0 0 20px rgba(102,204,136,.5);margin-bottom:8px;position:relative;z-index:1;transition:color .3s ease}.peace-state-card .peace-subtitle[data-v-4c49366c]{font-size:13px;color:var(--text-secondary);font-style:italic;position:relative;z-index:1}@keyframes peace-glow-4c49366c{0%,100%{transform:translate(-50%,-50%) rotate(0deg);opacity:.5}50%{transform:translate(-50%,-50%) rotate(180deg);opacity:.8}}@keyframes peace-float-4c49366c{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes peace-pulse-4c49366c{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:.5}50%{transform:translate(-50%,-50%) scale(1.3);opacity:.2}}.peace-stat-icon.spirit-low[data-v-4c49366c]{background:rgba(255,170,0,.15) !important;color:#fa0 !important}.peace-stat-icon.injury-recovery-轻伤[data-v-4c49366c]{background:rgba(255,204,0,.15) !important;color:#fc0 !important}.peace-stat-icon.injury-recovery-重伤[data-v-4c49366c]{background:rgba(255,136,0,.15) !important;color:#f80 !important}.peace-stat-icon.injury-recovery-濒死[data-v-4c49366c]{background:rgba(255,68,68,.15) !important;color:#f44 !important;animation:pulse-danger-4c49366c 1.5s ease-in-out infinite}.peace-stat-icon.tribulation-recovery[data-v-4c49366c]{background:rgba(136,68,255,.15);color:#84f}.peace-stat-icon.power[data-v-4c49366c]{background:rgba(255,170,100,.15);color:#ffaa64}.peace-stats[data-v-4c49366c]{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.peace-stats .peace-stat-item[data-v-4c49366c]{display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px}.peace-stats .peace-stat-item .peace-stat-icon[data-v-4c49366c]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(74,158,255,.15);border-radius:10px;color:#4a9eff;font-size:18px}.peace-stats .peace-stat-item .peace-stat-icon.health[data-v-4c49366c]{background:rgba(102,204,136,.15);color:#6c8}.peace-stats .peace-stat-item .peace-stat-content[data-v-4c49366c]{flex:1}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-label[data-v-4c49366c]{font-size:12px;color:var(--text-secondary);margin-bottom:6px}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-bar[data-v-4c49366c]{height:8px;background:var(--progress-bg);border-radius:4px;overflow:hidden}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-bar .peace-stat-fill[data-v-4c49366c]{height:100%;border-radius:4px;transition:width .5s ease}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-bar .peace-stat-fill.spirit[data-v-4c49366c]{background:linear-gradient(90deg,#4a9eff,#66bbff);box-shadow:0 0 10px rgba(74,158,255,.5)}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-bar .peace-stat-fill.tribulation[data-v-4c49366c]{border-radius:4px;transition:width .5s ease;box-shadow:0 0 10px rgba(136,68,255,.4)}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-value[data-v-4c49366c]{font-size:13px;font-weight:500;color:var(--text-accent);margin-top:4px}.peace-stats .peace-stat-item .peace-stat-content .combat-power-value[data-v-4c49366c]{display:flex;align-items:center;gap:4px;margin-top:2px}.peace-stats .peace-stat-item .peace-stat-content .combat-power-value .power-number[data-v-4c49366c]{font-weight:bold;color:#ffaa64;text-shadow:0 0 10px rgba(255,170,100,.4)}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status[data-v-4c49366c]{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:12px;font-size:13px;font-weight:500}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status i[data-v-4c49366c]{font-size:12px}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status.status-无伤[data-v-4c49366c]{background:rgba(68,170,68,.15);color:#4a4}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status.status-轻伤[data-v-4c49366c]{background:rgba(255,204,0,.15);color:#fc0}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status.status-重伤[data-v-4c49366c]{background:rgba(255,136,0,.15);color:#f80}.peace-stats .peace-stat-item .peace-stat-content .peace-stat-status.status-濒死[data-v-4c49366c]{background:rgba(255,68,68,.15);color:#f44;animation:pulse-danger-4c49366c 1.5s ease-in-out infinite}.recovery-used-section[data-v-4c49366c]{margin-bottom:16px;padding:14px;background:linear-gradient(135deg,rgba(255,200,100,0.08) 0%,rgba(255,180,80,0.05) 100%);border:1px dashed rgba(255,200,100,.3);border-radius:12px}.recovery-used-section .recovery-used-header[data-v-4c49366c]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:13px;font-weight:500;color:#ffc864}.recovery-used-section .recovery-used-header i[data-v-4c49366c]{font-size:14px}.recovery-used-section .recovery-used-list[data-v-4c49366c]{display:flex;flex-wrap:wrap;gap:8px}.recovery-used-section .recovery-used-list .recovery-used-tag[data-v-4c49366c]{padding:5px 14px;background:rgba(255,200,100,.15);border:1px solid rgba(255,200,100,.4);border-radius:15px;font-size:12px;color:#ffc864}.recovery-enemies-section[data-v-4c49366c]{margin-bottom:16px;padding:14px;background:var(--bg-secondary);border:1px solid rgba(255,100,100,.25);border-radius:12px}.recovery-enemies-section .recovery-enemies-header[data-v-4c49366c]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:13px;font-weight:500;color:#f88}.recovery-enemies-section .recovery-enemies-header i[data-v-4c49366c]{font-size:14px}.recovery-enemies-section .recovery-enemies-header .enemy-count[data-v-4c49366c]{margin-left:auto;padding:2px 10px;background:rgba(255,100,100,.15);border-radius:10px;font-size:12px;color:#ff6b6b}.recovery-enemies-section .recovery-enemies-list[data-v-4c49366c]{display:flex;flex-direction:column;gap:8px}.recovery-enemies-section .recovery-enemy-item[data-v-4c49366c]{display:flex;align-items:center;gap:10px;padding:8px 12px;background:var(--button-bg);border-radius:8px;font-size:12px}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-name[data-v-4c49366c]{font-weight:500;color:#f88}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-realm[data-v-4c49366c]{padding:2px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;font-size:10px;color:var(--text-accent)}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-status[data-v-4c49366c]{margin-left:auto;font-size:11px}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-status.health-完好[data-v-4c49366c]{color:#4a4}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-status.health-轻伤[data-v-4c49366c]{color:#fc0}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-status.health-重伤[data-v-4c49366c]{color:#f80}.recovery-enemies-section .recovery-enemy-item .recovery-enemy-status.health-濒死[data-v-4c49366c]{color:#f44}.tribulation-result-section[data-v-4c49366c]{margin-bottom:16px;padding:14px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px}.tribulation-result-section .tribulation-result-header[data-v-4c49366c]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:13px;font-weight:500;color:#84f}.tribulation-result-section .tribulation-result-header i[data-v-4c49366c]{font-size:14px}.tribulation-result-section .tribulation-result-content[data-v-4c49366c]{display:inline-flex;align-items:center;gap:8px;padding:6px 16px;border-radius:15px;font-size:14px;font-weight:600}.tribulation-result-section .tribulation-result-content.result-成功[data-v-4c49366c]{background:rgba(68,204,136,.15);color:#4c8}.tribulation-result-section .tribulation-result-content.result-失败[data-v-4c49366c]{background:rgba(255,68,68,.15);color:#f66}.tribulation-result-section .tribulation-penalty[data-v-4c49366c]{margin-top:10px;padding:10px 12px;background:rgba(255,68,68,.08);border:1px dashed rgba(255,68,68,.3);border-radius:8px;font-size:12px;color:var(--text-secondary);line-height:1.5}.cultivation-tips[data-v-4c49366c]{padding:16px;background:linear-gradient(135deg,rgba(255,200,100,0.08) 0%,rgba(255,180,80,0.05) 100%);border:1px dashed rgba(255,200,100,.3);border-radius:12px}.cultivation-tips.recovery-tips[data-v-4c49366c]{border-color:rgba(255,170,100,.3);background:linear-gradient(135deg,rgba(255,170,100,0.08) 0%,rgba(255,136,68,0.05) 100%)}.cultivation-tips.recovery-tips .tip-header[data-v-4c49366c]{color:#ffaa64}.cultivation-tips .tip-header[data-v-4c49366c]{display:flex;align-items:center;gap:8px;margin-bottom:10px;font-size:13px;font-weight:500;color:#ffc864}.cultivation-tips .tip-header i[data-v-4c49366c]{font-size:14px}.cultivation-tips .tip-content[data-v-4c49366c]{font-size:13px;color:var(--text-secondary);line-height:1.6;font-style:italic}@keyframes pulse-danger-4c49366c{0%,100%{box-shadow:0 0 0 0 rgba(255,68,68,.4)}50%{box-shadow:0 0 0 8px rgba(255,68,68,0)}}
.section-header.tribulation-header[data-v-415c7215]{display:flex;align-items:center;gap:8px;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border-color);font-size:15px;font-weight:bold;color:#84f}.section-header.tribulation-header i[data-v-415c7215]{color:#84f;animation:lightning-flash-415c7215 .5s ease-in-out infinite}.tribulation-overview[data-v-415c7215]{display:flex;justify-content:center;align-items:center;gap:16px;margin-bottom:20px;padding:20px;background:linear-gradient(135deg,rgba(136,68,255,0.1) 0%,rgba(255,68,170,0.1) 100%);border:2px solid rgba(136,68,255,.4);border-radius:12px;animation:tribulation-glow-415c7215 2s ease-in-out infinite}.tribulation-overview .tribulation-type-badge[data-v-415c7215]{display:flex;align-items:center;gap:8px;padding:10px 20px;border-radius:25px;color:#fff;font-size:18px;font-weight:bold;text-shadow:0 2px 8px rgba(0,0,0,.5);animation:badge-pulse-415c7215 1.5s ease-in-out infinite}.tribulation-overview .tribulation-type-badge i[data-v-415c7215]{font-size:20px;animation:lightning-flash-415c7215 .5s ease-in-out infinite}.tribulation-overview .tribulation-level[data-v-415c7215]{font-size:16px;font-weight:bold;padding:8px 16px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:20px}.tribulation-progress-section[data-v-415c7215]{margin-bottom:20px;padding:16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px}.tribulation-progress-section .section-title[data-v-415c7215]{font-size:13px;color:var(--text-accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}.tribulation-progress-section .section-title i[data-v-415c7215]{color:#84f}.tribulation-progress-section .tribulation-stages[data-v-415c7215]{display:flex;justify-content:center;align-items:center;gap:8px;margin-bottom:12px;font-size:16px}.tribulation-progress-section .tribulation-stages .stage-current[data-v-415c7215]{color:var(--accent-color);font-weight:bold}.tribulation-progress-section .tribulation-stages .stage-divider[data-v-415c7215]{color:var(--text-secondary)}.tribulation-progress-section .tribulation-stages .stage-total[data-v-415c7215]{color:var(--text-secondary)}.tribulation-progress-section .tribulation-progress-bar[data-v-415c7215]{height:10px;background:var(--progress-bg);border-radius:5px;overflow:hidden}.tribulation-progress-section .tribulation-progress-bar .tribulation-progress-fill[data-v-415c7215]{height:100%;border-radius:5px;transition:width .5s ease;box-shadow:0 0 15px currentColor}.tribulation-endurance-section[data-v-415c7215]{margin-bottom:16px}.tribulation-endurance-section .section-title[data-v-415c7215]{font-size:13px;color:var(--text-accent);margin-bottom:8px;display:flex;align-items:center;gap:6px}.tribulation-endurance-section .section-title i[data-v-415c7215]{color:#4a4}.tribulation-endurance-section .endurance-bar-container[data-v-415c7215]{display:flex;align-items:center;gap:12px}.tribulation-endurance-section .endurance-bar-container .endurance-bar[data-v-415c7215]{flex:1;height:14px;background:var(--progress-bg);border-radius:7px;overflow:hidden}.tribulation-endurance-section .endurance-bar-container .endurance-bar .endurance-fill[data-v-415c7215]{height:100%;border-radius:7px;transition:width .5s ease,background-color .3s ease;box-shadow:0 0 10px currentColor}.tribulation-endurance-section .endurance-bar-container .endurance-value[data-v-415c7215]{font-size:15px;font-weight:bold;color:var(--text-primary);min-width:55px;text-align:right}.protection-section[data-v-415c7215]{margin-bottom:16px}.protection-section .section-title[data-v-415c7215]{font-size:13px;color:var(--text-accent);margin-bottom:8px;display:flex;align-items:center;gap:6px}.protection-section .section-title i[data-v-415c7215]{color:#4af}.protection-section .protection-list[data-v-415c7215]{display:flex;flex-wrap:wrap;gap:8px}.protection-section .protection-list .protection-tag[data-v-415c7215]{padding:5px 14px;background:rgba(68,170,255,.15);border:1px solid rgba(68,170,255,.4);border-radius:15px;font-size:12px;color:#4af}.tribulation-desc-section[data-v-415c7215]{margin-bottom:16px;padding:14px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px}.tribulation-desc-section .section-title[data-v-415c7215]{font-size:13px;color:var(--text-accent);margin-bottom:8px;display:flex;align-items:center;gap:6px}.tribulation-desc-section .section-title i[data-v-415c7215]{color:#ffc864}.tribulation-desc-section .tribulation-desc[data-v-415c7215]{font-size:13px;color:var(--text-secondary);line-height:1.6;font-style:italic}.tribulation-cause-section[data-v-415c7215]{padding:12px 14px;background:rgba(136,68,255,.1);border:1px dashed rgba(136,68,255,.4);border-radius:8px;display:flex;gap:8px;align-items:flex-start}.tribulation-cause-section .cause-label[data-v-415c7215]{font-size:12px;color:#84f;font-weight:500;white-space:nowrap}.tribulation-cause-section .cause-text[data-v-415c7215]{font-size:12px;color:var(--text-secondary);line-height:1.5}@keyframes tribulation-glow-415c7215{0%,100%{box-shadow:0 0 20px rgba(136,68,255,.3)}50%{box-shadow:0 0 40px rgba(136,68,255,.6)}}@keyframes badge-pulse-415c7215{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes lightning-flash-415c7215{0%,100%{opacity:1}50%{opacity:.5}}@media screen and (max-width:480px){.section-header.tribulation-header[data-v-415c7215]{font-size:14px;margin-bottom:12px;padding-bottom:10px}.tribulation-overview[data-v-415c7215]{padding:16px;gap:12px}.tribulation-overview .tribulation-type-badge[data-v-415c7215]{padding:8px 14px;font-size:15px}.tribulation-overview .tribulation-type-badge i[data-v-415c7215]{font-size:16px}.tribulation-overview .tribulation-level[data-v-415c7215]{font-size:14px;padding:6px 12px}.tribulation-progress-section[data-v-415c7215]{padding:12px}.tribulation-progress-section .section-title[data-v-415c7215]{font-size:12px}.tribulation-progress-section .tribulation-stages[data-v-415c7215]{font-size:14px}.tribulation-progress-section .tribulation-progress-bar[data-v-415c7215]{height:8px}.tribulation-endurance-section .section-title[data-v-415c7215]{font-size:12px}.tribulation-endurance-section .endurance-bar-container .endurance-bar[data-v-415c7215]{height:12px}.tribulation-endurance-section .endurance-bar-container .endurance-value[data-v-415c7215]{font-size:13px;min-width:50px}.protection-section .section-title[data-v-415c7215]{font-size:12px}.protection-section .protection-list .protection-tag[data-v-415c7215]{padding:4px 10px;font-size:11px}.tribulation-desc-section[data-v-415c7215]{padding:12px}.tribulation-desc-section .section-title[data-v-415c7215]{font-size:12px}.tribulation-desc-section .tribulation-desc[data-v-415c7215]{font-size:12px}.tribulation-cause-section[data-v-415c7215]{padding:10px 12px}.tribulation-cause-section .cause-label[data-v-415c7215]{font-size:11px}.tribulation-cause-section .cause-text[data-v-415c7215]{font-size:11px}}
.companions-panel[data-v-ba8ef976]{padding:16px}.companions-panel .companions-list[data-v-ba8ef976]{display:flex;flex-direction:column;gap:12px}.companions-panel .companion-card[data-v-ba8ef976]{padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.companions-panel .companion-card .companion-header[data-v-ba8ef976]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.companions-panel .companion-card .companion-header .companion-name[data-v-ba8ef976]{font-size:15px;font-weight:bold;color:#ffb0c0}.companions-panel .companion-card .companion-header .companion-realm[data-v-ba8ef976]{font-size:12px}.companions-panel .companion-card .companion-relation[data-v-ba8ef976]{font-size:12px;color:var(--text-secondary);margin-bottom:8px}.companions-panel .companion-card .companion-relation .relation-value[data-v-ba8ef976]{color:var(--text-accent);margin-left:4px}.companions-panel .companion-card .companion-favor[data-v-ba8ef976]{display:flex;align-items:center;gap:8px}.companions-panel .companion-card .companion-favor .favor-label[data-v-ba8ef976]{font-size:11px;color:var(--text-secondary);min-width:42px}.companions-panel .companion-card .companion-favor .favor-bar[data-v-ba8ef976]{flex:1;height:6px;background:var(--progress-bg);border-radius:3px;overflow:hidden}.companions-panel .companion-card .companion-favor .favor-bar .favor-fill[data-v-ba8ef976]{height:100%;border-radius:3px;transition:width .3s ease}.companions-panel .companion-card .companion-favor .favor-value[data-v-ba8ef976]{font-size:12px;color:var(--text-accent);min-width:30px;text-align:right}.companions-panel .empty-hint[data-v-ba8ef976]{text-align:center;padding:20px;color:#506070;font-style:italic}@media screen and (max-width:480px){.companions-panel[data-v-ba8ef976]{padding:12px}.companions-panel .companion-card[data-v-ba8ef976]{padding:10px}.companions-panel .companion-card .companion-header .companion-name[data-v-ba8ef976]{font-size:14px}.companions-panel .companion-card .companion-header .companion-realm[data-v-ba8ef976]{font-size:11px}.companions-panel .companion-card .companion-relation[data-v-ba8ef976]{font-size:11px}.companions-panel .companion-card .companion-favor .favor-label[data-v-ba8ef976]{font-size:10px}.companions-panel .companion-card .companion-favor .favor-bar[data-v-ba8ef976]{height:5px}.companions-panel .companion-card .companion-favor .favor-value[data-v-ba8ef976]{font-size:11px}}
.cultivation-panel[data-v-9e4d8b7a]{padding:16px}.cultivation-panel .identity-section[data-v-9e4d8b7a]{text-align:center;margin-bottom:16px}.cultivation-panel .identity-section .identity-name[data-v-9e4d8b7a]{font-size:20px;font-weight:bold;color:var(--text-primary);text-shadow:0 0 10px var(--accent-glow)}.cultivation-panel .identity-section .identity-info[data-v-9e4d8b7a]{color:var(--text-secondary);font-size:12px;margin-top:4px}.cultivation-panel .identity-section .identity-info .divider[data-v-9e4d8b7a]{margin:0 6px;opacity:.5}.cultivation-panel .realm-section[data-v-9e4d8b7a]{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:16px}.cultivation-panel .realm-section .realm-title[data-v-9e4d8b7a]{font-size:18px;font-weight:bold;display:flex;align-items:center;gap:6px}.cultivation-panel .realm-section .realm-title i[data-v-9e4d8b7a]{animation:spin-9e4d8b7a 10s linear infinite}.cultivation-panel .realm-section .realm-status[data-v-9e4d8b7a]{font-size:12px;padding:3px 8px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:4px;color:var(--accent-color)}.cultivation-panel .progress-section[data-v-9e4d8b7a]{margin-bottom:20px}.cultivation-panel .progress-section .progress-label[data-v-9e4d8b7a]{display:flex;justify-content:space-between;font-size:12px;color:var(--text-secondary);margin-bottom:6px}.cultivation-panel .progress-section .progress-bar[data-v-9e4d8b7a]{height:8px;background:var(--progress-bg);border-radius:4px;overflow:hidden}.cultivation-panel .progress-section .progress-bar .progress-fill[data-v-9e4d8b7a]{height:100%;border-radius:4px;transition:width .5s ease;box-shadow:0 0 10px currentColor}.cultivation-panel .progress-section .progress-percent[data-v-9e4d8b7a]{text-align:right;font-size:11px;color:var(--text-secondary);margin-top:4px}.cultivation-panel .stats-grid[data-v-9e4d8b7a]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.cultivation-panel .stats-grid .stat-item[data-v-9e4d8b7a]{text-align:center;padding:10px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.cultivation-panel .stats-grid .stat-item .stat-label[data-v-9e4d8b7a]{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.cultivation-panel .stats-grid .stat-item .stat-value[data-v-9e4d8b7a]{font-size:13px;font-weight:500;color:var(--text-primary)}.cultivation-panel .stats-grid .stat-item .stat-value.gold[data-v-9e4d8b7a]{color:gold}@keyframes spin-9e4d8b7a{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@media screen and (max-width:480px){.cultivation-panel[data-v-9e4d8b7a]{padding:12px}.cultivation-panel .identity-section[data-v-9e4d8b7a]{margin-bottom:12px}.cultivation-panel .identity-section .identity-name[data-v-9e4d8b7a]{font-size:18px}.cultivation-panel .identity-section .identity-info[data-v-9e4d8b7a]{font-size:11px}.cultivation-panel .realm-section[data-v-9e4d8b7a]{gap:10px;margin-bottom:12px}.cultivation-panel .realm-section .realm-title[data-v-9e4d8b7a]{font-size:16px}.cultivation-panel .realm-section .realm-status[data-v-9e4d8b7a]{font-size:11px;padding:2px 6px}.cultivation-panel .progress-section[data-v-9e4d8b7a]{margin-bottom:16px}.cultivation-panel .progress-section .progress-label[data-v-9e4d8b7a]{font-size:11px}.cultivation-panel .progress-section .progress-bar[data-v-9e4d8b7a]{height:6px}.cultivation-panel .progress-section .progress-percent[data-v-9e4d8b7a]{font-size:10px}.cultivation-panel .stats-grid[data-v-9e4d8b7a]{grid-template-columns:repeat(2,1fr);gap:8px}.cultivation-panel .stats-grid .stat-item[data-v-9e4d8b7a]{padding:8px 6px}.cultivation-panel .stats-grid .stat-item .stat-label[data-v-9e4d8b7a]{font-size:10px}.cultivation-panel .stats-grid .stat-item .stat-value[data-v-9e4d8b7a]{font-size:12px}}
.footer[data-v-16c8b152]{display:flex;justify-content:space-around;align-items:center;padding:10px 16px;background:var(--footer-bg);border-top:1px solid var(--border-color)}.footer .footer-item[data-v-16c8b152]{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-secondary);background:rgba(0,0,0,0);border:none;cursor:pointer;padding:6px 10px;border-radius:6px;transition:all .2s}.footer .footer-item i[data-v-16c8b152]{color:var(--accent-color);transition:transform .3s}.footer .footer-item[data-v-16c8b152]:hover{background:var(--button-bg);color:var(--text-primary)}.footer .footer-item:hover i[data-v-16c8b152]{transform:rotate(90deg)}.footer .footer-item[data-v-16c8b152]:active{background:var(--button-active)}.footer .action-btn[data-v-16c8b152]{font-weight:500;position:relative}.footer .action-btn .action-badge[data-v-16c8b152]{position:absolute;top:-4px;right:-4px;min-width:16px;height:16px;padding:0 4px;background:var(--accent-color);color:#fff;font-size:10px;font-weight:bold;border-radius:8px;display:flex;align-items:center;justify-content:center;animation:badge-pulse-16c8b152 2s infinite}@keyframes badge-pulse-16c8b152{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.footer .footer-center[data-v-16c8b152]{display:flex;align-items:center;justify-content:center;gap:6px;color:var(--text-accent)}.footer .footer-center .moon-twinkle[data-v-16c8b152]{animation:moon-twinkle-16c8b152 3s ease-in-out infinite}@keyframes moon-twinkle-16c8b152{0%,100%{opacity:1;filter:drop-shadow(0 0 2px var(--accent-color))}50%{opacity:.4;filter:drop-shadow(0 0 8px var(--accent-color))}}@media screen and (max-width:480px){.footer[data-v-16c8b152]{padding:8px 12px}.footer .footer-item[data-v-16c8b152]{font-size:11px;gap:4px;padding:5px 8px}.footer .footer-center[data-v-16c8b152]{font-size:11px;gap:4px}}
.gallery-panel[data-v-58022c60]{padding:16px !important;display:flex;flex-direction:column;align-items:center}.gallery-panel .gallery-container[data-v-58022c60]{display:inline-flex;flex-direction:row;gap:20px;overflow-x:auto;overflow-y:hidden;padding-bottom:10px;max-width:100%}.gallery-panel .gallery-container[data-v-58022c60]::-webkit-scrollbar{height:8px}.gallery-panel .gallery-container[data-v-58022c60]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.gallery-panel .gallery-container[data-v-58022c60]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:4px}.gallery-panel .gallery-container[data-v-58022c60]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.gallery-panel .gallery-card[data-v-58022c60]{flex-shrink:0;width:280px;aspect-ratio:2/3;perspective:1000px;cursor:pointer}.gallery-panel .card-inner[data-v-58022c60]{position:relative;width:100%;height:100%;transition:transform .6s ease;transform-style:preserve-3d;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.5)}.gallery-panel .gallery-card.flipped .card-inner[data-v-58022c60]{transform:rotateY(180deg)}.gallery-panel .card-face[data-v-58022c60]{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:12px;overflow:hidden;border:2px solid var(--border-color)}.gallery-panel .card-front img[data-v-58022c60]{width:100%;height:100%;object-fit:cover}.gallery-panel .card-front .card-name-bar[data-v-58022c60]{position:absolute;bottom:0;left:0;right:0;padding:12px;background:linear-gradient(to top,rgba(0,0,0,0.85),transparent);color:#fff;font-size:16px;font-weight:bold;text-align:center;text-shadow:0 2px 6px rgba(0,0,0,.9)}.gallery-panel .card-back[data-v-58022c60]{transform:rotateY(180deg);background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%)}.gallery-panel .card-back .back-content[data-v-58022c60]{width:100%;height:100%;position:relative}.gallery-panel .card-back .back-content .back-image[data-v-58022c60]{width:100%;height:100%;object-fit:cover}.gallery-panel .card-back .back-content .back-info-panel[data-v-58022c60]{position:absolute;bottom:0;left:0;right:0;padding:20px 16px;background:linear-gradient(to top,rgba(0,0,0,0.9) 0%,rgba(0,0,0,0.7) 50%,transparent 100%);text-align:center}.gallery-panel .card-back .back-content .back-info-panel .back-name[data-v-58022c60]{font-size:18px;font-weight:bold;color:#a0c0ff;margin-bottom:8px;text-shadow:0 0 15px rgba(100,150,255,.6),0 2px 4px rgba(0,0,0,.8)}.gallery-panel .card-back .back-content .back-info-panel .back-text[data-v-58022c60]{font-size:14px;color:#d0e0f0;line-height:1.6;font-style:italic;text-shadow:0 1px 3px rgba(0,0,0,.8)}.gallery-panel .gallery-card[data-v-58022c60]::after{content:"点击翻转";position:absolute;top:10px;right:10px;padding:4px 10px;background:rgba(0,0,0,.6);color:#a0b8d0;font-size:11px;border-radius:12px;opacity:0;transition:opacity .3s;pointer-events:none;z-index:10}.gallery-panel .gallery-card[data-v-58022c60]:hover::after{opacity:1}.gallery-panel .gallery-card.flipped[data-v-58022c60]::after{content:"点击翻回"}.gallery-panel .empty-hint[data-v-58022c60]{text-align:center;padding:20px;color:#506070;font-style:italic}@media screen and (max-width:480px){.gallery-panel[data-v-58022c60]{padding:12px !important}.gallery-panel .gallery-container[data-v-58022c60]{gap:14px}.gallery-panel .gallery-card[data-v-58022c60]{width:200px}.gallery-panel .card-front .card-name-bar[data-v-58022c60]{padding:10px;font-size:14px}.gallery-panel .card-back .back-content .back-info-panel[data-v-58022c60]{padding:16px 12px}.gallery-panel .card-back .back-content .back-info-panel .back-name[data-v-58022c60]{font-size:15px}.gallery-panel .card-back .back-content .back-info-panel .back-text[data-v-58022c60]{font-size:12px}.gallery-panel .gallery-card[data-v-58022c60]::after{font-size:10px;padding:3px 8px}.preview-close[data-v-58022c60]{top:-40px;width:36px;height:36px;font-size:18px}.preview-name[data-v-58022c60]{font-size:16px;padding:6px 16px}}@media screen and (max-width:360px){.gallery-panel .gallery-card[data-v-58022c60]{width:160px}}
.header[data-v-77586aaa]{display:flex;justify-content:space-between;align-items:center;padding:20px 16px 12px 16px;min-height:80px;background:var(--header-bg);border-bottom:1px solid var(--border-color)}.header .header-left[data-v-77586aaa]{display:flex;gap:8px;align-items:center}.header .collapse-btn[data-v-77586aaa],.header .theme-btn[data-v-77586aaa],.header .preset-btn[data-v-77586aaa]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:6px;color:var(--text-accent);cursor:pointer;transition:all .2s}.header .collapse-btn[data-v-77586aaa]:hover,.header .theme-btn[data-v-77586aaa]:hover,.header .preset-btn[data-v-77586aaa]:hover{background:var(--button-hover);color:var(--text-primary);border-color:var(--border-active)}.header .collapse-btn i[data-v-77586aaa],.header .theme-btn i[data-v-77586aaa],.header .preset-btn i[data-v-77586aaa]{font-size:12px}.header .location-info[data-v-77586aaa]{display:flex;flex-direction:column;align-items:flex-end;gap:6px;margin-left:auto}.header .location-info .danger-badge[data-v-77586aaa]{font-size:10px;padding:2px 6px;border-radius:10px;color:#fff}.header .location-info .location[data-v-77586aaa]{display:flex;align-items:center;gap:8px}.header .location-info .location .location-hierarchy[data-v-77586aaa]{display:flex;align-items:center;gap:4px}.header .location-info .location .location-hierarchy .location-parent[data-v-77586aaa]{font-size:11px;opacity:.7}.header .location-info .location .location-hierarchy .location-separator[data-v-77586aaa]{font-size:11px;opacity:.5}.header .location-info .location .location-hierarchy .location-current[data-v-77586aaa]{font-size:13px;font-weight:500}@media screen and (max-width:480px){.header[data-v-77586aaa]{padding:16px 12px 10px 12px;min-height:65px}.header .header-left[data-v-77586aaa]{gap:6px}.header .collapse-btn[data-v-77586aaa],.header .theme-btn[data-v-77586aaa],.header .preset-btn[data-v-77586aaa]{width:26px;height:26px}.header .collapse-btn i[data-v-77586aaa],.header .theme-btn i[data-v-77586aaa],.header .preset-btn i[data-v-77586aaa]{font-size:11px}.header .location-info .danger-badge[data-v-77586aaa]{font-size:9px;padding:2px 5px}.header .location-info .location[data-v-77586aaa]{gap:6px}.header .location-info .location .location-hierarchy .location-parent[data-v-77586aaa]{font-size:10px}.header .location-info .location .location-hierarchy .location-current[data-v-77586aaa]{font-size:12px}}
.inventory-panel[data-v-176f7528]{padding:16px}.inventory-panel .inventory-section[data-v-176f7528]{margin-bottom:20px}.inventory-panel .inventory-section[data-v-176f7528]:last-child{margin-bottom:0}.inventory-panel .section-title[data-v-176f7528]{font-size:14px;font-weight:bold;color:var(--text-accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}.inventory-panel .section-title i[data-v-176f7528]{color:var(--accent-color)}.inventory-panel .items-grid[data-v-176f7528]{display:flex;flex-direction:column;gap:8px}.inventory-panel .item-card[data-v-176f7528]{padding:10px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px}.inventory-panel .item-card.treasure[data-v-176f7528]{border-color:var(--border-active);background:var(--button-active)}.inventory-panel .item-card .item-header[data-v-176f7528]{display:flex;justify-content:space-between;align-items:center}.inventory-panel .item-card .item-name[data-v-176f7528]{font-weight:500;color:var(--text-primary)}.inventory-panel .item-card .item-count[data-v-176f7528]{font-size:12px;color:var(--accent-color)}.inventory-panel .item-card .item-rank[data-v-176f7528]{font-size:11px;color:#ffc864;margin:4px 0}.inventory-panel .item-card .item-desc[data-v-176f7528]{font-size:11px;color:var(--text-secondary)}.inventory-panel .empty-hint[data-v-176f7528]{text-align:center;padding:20px;color:#506070;font-style:italic}@media screen and (max-width:480px){.inventory-panel[data-v-176f7528]{padding:12px}.inventory-panel .inventory-section[data-v-176f7528]{margin-bottom:16px}.inventory-panel .section-title[data-v-176f7528]{font-size:13px}.inventory-panel .item-card[data-v-176f7528]{padding:8px 10px}.inventory-panel .item-card .item-name[data-v-176f7528]{font-size:12px}.inventory-panel .item-card .item-count[data-v-176f7528]{font-size:11px}.inventory-panel .item-card .item-rank[data-v-176f7528]{font-size:10px}.inventory-panel .item-card .item-desc[data-v-176f7528]{font-size:10px}}
.map-panel[data-v-1034f2e4]{padding:16px}.map-panel .current-location[data-v-1034f2e4]{text-align:center;padding:20px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px;margin-bottom:16px}.map-panel .current-location .location-name[data-v-1034f2e4]{font-size:22px;font-weight:bold;color:#a0d0ff;margin-bottom:4px}.map-panel .current-location .location-layer[data-v-1034f2e4]{font-size:12px;color:var(--accent-color);margin-bottom:10px}.map-panel .current-location .location-desc[data-v-1034f2e4]{font-size:13px;color:var(--text-secondary);line-height:1.5}.map-panel .connections[data-v-1034f2e4]{margin-bottom:20px}.map-panel .connections .connections-title[data-v-1034f2e4]{font-size:13px;color:var(--text-secondary);margin-bottom:10px}.map-panel .connections .connections-list[data-v-1034f2e4]{display:flex;flex-wrap:wrap;gap:8px}.map-panel .connections .connections-list .connection-item[data-v-1034f2e4]{padding:6px 12px;background:var(--bg-secondary);border:1px solid;border-radius:15px;font-size:12px;color:var(--text-accent)}.map-panel .tasks-section[data-v-1034f2e4]{margin-bottom:20px}.map-panel .tasks-section .section-title[data-v-1034f2e4]{font-size:14px;font-weight:bold;color:var(--text-accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}.map-panel .tasks-section .section-title i[data-v-1034f2e4]{color:var(--accent-color)}.map-panel .tasks-section .tasks-list[data-v-1034f2e4]{display:flex;flex-direction:column;gap:10px}.map-panel .tasks-section .task-item[data-v-1034f2e4]{padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;border-left:3px solid}.map-panel .tasks-section .task-item.task-进行中[data-v-1034f2e4]{border-left-color:#4a9eff}.map-panel .tasks-section .task-item.task-已完成[data-v-1034f2e4]{border-left-color:#4a4;opacity:.7}.map-panel .tasks-section .task-item.task-已失败[data-v-1034f2e4]{border-left-color:#f44;opacity:.7}.map-panel .tasks-section .task-item .task-header[data-v-1034f2e4]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.map-panel .tasks-section .task-item .task-header .task-name[data-v-1034f2e4]{font-size:13px;font-weight:500;color:var(--text-primary)}.map-panel .tasks-section .task-item .task-header .task-type[data-v-1034f2e4]{font-size:10px;padding:2px 8px;border-radius:10px;font-weight:500}.map-panel .tasks-section .task-item .task-header .task-type.type-主线[data-v-1034f2e4]{background:rgba(255,100,100,.2);color:#ff6464}.map-panel .tasks-section .task-item .task-header .task-type.type-支线[data-v-1034f2e4]{background:rgba(100,150,255,.2);color:#6496ff}.map-panel .tasks-section .task-item .task-header .task-type.type-每日[data-v-1034f2e4]{background:rgba(100,200,100,.2);color:#64c864}.map-panel .tasks-section .task-item .task-header .task-type.type-临危受命[data-v-1034f2e4]{background:rgba(255,150,50,.2);color:#ff9632}.map-panel .tasks-section .task-item .task-target[data-v-1034f2e4]{font-size:12px;color:var(--text-secondary);margin-bottom:4px;line-height:1.4}.map-panel .tasks-section .task-item .task-status[data-v-1034f2e4]{font-size:11px;color:var(--text-accent)}.map-panel .reputation-section .section-title[data-v-1034f2e4]{font-size:14px;font-weight:bold;color:var(--text-accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}.map-panel .reputation-section .section-title i[data-v-1034f2e4]{color:var(--accent-color)}.map-panel .reputation-section .reputation-list[data-v-1034f2e4]{display:flex;flex-direction:column;gap:10px}.map-panel .reputation-section .reputation-item[data-v-1034f2e4]{padding:10px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.map-panel .reputation-section .reputation-item .reputation-faction[data-v-1034f2e4]{font-size:13px;font-weight:500;color:var(--text-primary);margin-bottom:6px}.map-panel .reputation-section .reputation-item .reputation-bar[data-v-1034f2e4]{height:6px;background:var(--progress-bg);border-radius:3px;overflow:hidden;margin-bottom:6px}.map-panel .reputation-section .reputation-item .reputation-bar .reputation-fill[data-v-1034f2e4]{height:100%;border-radius:3px;transition:width .3s ease}.map-panel .reputation-section .reputation-item .reputation-info[data-v-1034f2e4]{display:flex;justify-content:space-between;align-items:center;font-size:11px}.map-panel .reputation-section .reputation-item .reputation-info .reputation-value[data-v-1034f2e4]{color:var(--text-accent)}.map-panel .reputation-section .reputation-item .reputation-info .reputation-relation[data-v-1034f2e4]{color:var(--text-secondary)}.map-panel .empty-hint[data-v-1034f2e4]{text-align:center;padding:20px;color:#506070;font-style:italic}@media screen and (max-width:480px){.map-panel[data-v-1034f2e4]{padding:12px}.map-panel .current-location[data-v-1034f2e4]{padding:16px}.map-panel .current-location .location-name[data-v-1034f2e4]{font-size:18px}.map-panel .current-location .location-layer[data-v-1034f2e4]{font-size:11px}.map-panel .current-location .location-desc[data-v-1034f2e4]{font-size:12px}.map-panel .connections .connections-title[data-v-1034f2e4]{font-size:12px}.map-panel .connections .connections-list[data-v-1034f2e4]{gap:6px}.map-panel .connections .connections-list .connection-item[data-v-1034f2e4]{padding:5px 10px;font-size:11px}.map-panel .tasks-section .section-title[data-v-1034f2e4]{font-size:13px}.map-panel .tasks-section .task-item[data-v-1034f2e4]{padding:10px}.map-panel .tasks-section .task-item .task-name[data-v-1034f2e4]{font-size:12px}.map-panel .tasks-section .task-item .task-type[data-v-1034f2e4]{font-size:9px;padding:2px 6px}.map-panel .tasks-section .task-item .task-target[data-v-1034f2e4]{font-size:11px}.map-panel .tasks-section .task-item .task-status[data-v-1034f2e4]{font-size:10px}.map-panel .reputation-section .section-title[data-v-1034f2e4]{font-size:13px}.map-panel .reputation-section .reputation-item[data-v-1034f2e4]{padding:8px 10px}.map-panel .reputation-section .reputation-item .reputation-faction[data-v-1034f2e4]{font-size:12px}.map-panel .reputation-section .reputation-item .reputation-bar[data-v-1034f2e4]{height:5px}.map-panel .reputation-section .reputation-item .reputation-info[data-v-1034f2e4]{font-size:10px}}
.preset-panel[data-v-3ce1e94b]{padding:20px;overflow-y:auto;max-height:100%}.preset-panel .preset-header[data-v-3ce1e94b]{margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border-color)}.preset-panel .preset-header h3[data-v-3ce1e94b]{font-size:20px;font-weight:600;color:var(--text-accent);margin:0 0 8px 0;display:flex;align-items:center;gap:10px}.preset-panel .preset-header h3 i[data-v-3ce1e94b]{color:var(--accent-color)}.preset-panel .preset-header .preset-desc[data-v-3ce1e94b]{margin:0;font-size:13px;color:var(--text-secondary);opacity:.8}.preset-panel .preset-content[data-v-3ce1e94b]{display:flex;flex-direction:column;gap:20px;margin-bottom:24px}.preset-panel .preset-section[data-v-3ce1e94b]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px}.preset-panel .preset-section .section-title[data-v-3ce1e94b]{display:flex;align-items:center;gap:8px;font-size:15px;font-weight:600;color:var(--text-accent);margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.preset-panel .preset-section .section-title i[data-v-3ce1e94b]{color:var(--accent-color);font-size:14px}.preset-panel .preset-section .section-title .btn-add-small[data-v-3ce1e94b]{margin-left:auto;padding:4px 10px;background:var(--accent-color);color:#2c1810;border:none;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s}.preset-panel .preset-section .section-title .btn-add-small[data-v-3ce1e94b]:hover{background:#f4d03f;transform:scale(1.05)}.preset-panel .preset-section .empty-hint[data-v-3ce1e94b]{text-align:center;color:var(--text-secondary);font-size:13px;padding:20px;opacity:.7}.preset-panel .preset-section .item-card[data-v-3ce1e94b]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;padding:12px;margin-bottom:12px}.preset-panel .preset-section .item-card[data-v-3ce1e94b]:last-child{margin-bottom:0}.preset-panel .preset-section .item-card .item-header[data-v-3ce1e94b]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.preset-panel .preset-section .item-card .item-header .item-name-input[data-v-3ce1e94b]{flex:1;padding:6px 10px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-accent);font-size:14px;font-weight:600}.preset-panel .preset-section .item-card .item-header .item-name-input[data-v-3ce1e94b]:focus{outline:none;border-color:var(--accent-color)}.preset-panel .preset-section .item-card .item-header .btn-delete-small[data-v-3ce1e94b]{padding:4px 8px;background:rgba(220,53,69,.2);color:#dc3545;border:1px solid rgba(220,53,69,.3);border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s}.preset-panel .preset-section .item-card .item-header .btn-delete-small[data-v-3ce1e94b]:hover{background:rgba(220,53,69,.4);border-color:#dc3545}.preset-panel .preset-section .item-card .item-row[data-v-3ce1e94b]{display:flex;gap:12px;margin-bottom:8px}.preset-panel .preset-section .item-card .item-row[data-v-3ce1e94b]:last-child{margin-bottom:0}.preset-panel .preset-section .item-card .item-row.full[data-v-3ce1e94b]{flex-direction:column}.preset-panel .preset-section .item-card .item-row .item-field[data-v-3ce1e94b]{flex:1;display:flex;flex-direction:column;gap:4px}.preset-panel .preset-section .item-card .item-row .item-field.full[data-v-3ce1e94b]{width:100%}.preset-panel .preset-section .item-card .item-row .item-field label[data-v-3ce1e94b]{font-size:11px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.preset-panel .preset-section .item-card .item-row .item-field input[data-v-3ce1e94b],.preset-panel .preset-section .item-card .item-row .item-field select[data-v-3ce1e94b],.preset-panel .preset-section .item-card .item-row .item-field textarea[data-v-3ce1e94b]{padding:6px 10px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px}.preset-panel .preset-section .item-card .item-row .item-field input[data-v-3ce1e94b]:focus,.preset-panel .preset-section .item-card .item-row .item-field select[data-v-3ce1e94b]:focus,.preset-panel .preset-section .item-card .item-row .item-field textarea[data-v-3ce1e94b]:focus{outline:none;border-color:var(--accent-color)}.preset-panel .preset-section .item-card .item-row .item-field select[data-v-3ce1e94b]{cursor:pointer}.preset-panel .preset-section .item-card .item-row .item-field textarea[data-v-3ce1e94b]{resize:vertical;min-height:40px;font-family:inherit}.preset-panel .preset-section .form-row[data-v-3ce1e94b]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.preset-panel .preset-section .form-row[data-v-3ce1e94b]:last-child{margin-bottom:0}.preset-panel .preset-section .form-row label[data-v-3ce1e94b]{flex:0 0 100px;font-size:13px;color:var(--text-secondary);text-align:right}.preset-panel .preset-section .form-row .input-with-hint[data-v-3ce1e94b]{flex:1;display:flex;align-items:center;gap:12px}.preset-panel .preset-section .form-row .input-with-hint input[data-v-3ce1e94b]{flex:1;padding:8px 12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;transition:all .2s}.preset-panel .preset-section .form-row .input-with-hint input[data-v-3ce1e94b]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(255,215,0,.1)}.preset-panel .preset-section .form-row .input-with-hint input[data-v-3ce1e94b]::placeholder{color:var(--text-secondary);opacity:.5}.preset-panel .preset-section .form-row .input-with-hint .realm-hint[data-v-3ce1e94b]{flex:0 0 auto;font-size:13px;color:var(--accent-color);font-weight:600;white-space:nowrap}.preset-panel .preset-section .form-row input[data-v-3ce1e94b]{flex:1;padding:8px 12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;transition:all .2s}.preset-panel .preset-section .form-row input[data-v-3ce1e94b]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(255,215,0,.1)}.preset-panel .preset-section .form-row input[data-v-3ce1e94b]::placeholder{color:var(--text-secondary);opacity:.5}.preset-panel .preset-actions[data-v-3ce1e94b]{display:flex;gap:12px;padding-top:16px;border-top:2px solid var(--border-color)}.preset-panel .preset-actions.secondary[data-v-3ce1e94b]{padding-top:12px;border-top:1px solid var(--border-color);margin-top:8px}.preset-panel .preset-actions button[data-v-3ce1e94b]{flex:1;padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px}.preset-panel .preset-actions button i[data-v-3ce1e94b]{font-size:14px}.preset-panel .preset-actions .btn-apply[data-v-3ce1e94b]{background:linear-gradient(135deg,#d4af37 0%,#f4d03f 100%);color:#2c1810;box-shadow:0 2px 8px rgba(212,175,55,.3)}.preset-panel .preset-actions .btn-apply[data-v-3ce1e94b]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(212,175,55,.4)}.preset-panel .preset-actions .btn-apply[data-v-3ce1e94b]:active{transform:translateY(0)}.preset-panel .preset-actions .btn-reset[data-v-3ce1e94b]{background:var(--button-bg);color:var(--text-primary);border:1px solid var(--border-color)}.preset-panel .preset-actions .btn-reset[data-v-3ce1e94b]:hover{background:var(--button-hover);border-color:var(--accent-color)}.preset-panel .preset-actions .btn-reset[data-v-3ce1e94b]:active{background:var(--button-active)}.preset-panel .preset-actions .btn-export[data-v-3ce1e94b]{background:linear-gradient(135deg,#28a745 0%,#34ce57 100%);color:#fff;box-shadow:0 2px 8px rgba(40,167,69,.3)}.preset-panel .preset-actions .btn-export[data-v-3ce1e94b]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(40,167,69,.4)}.preset-panel .preset-actions .btn-export[data-v-3ce1e94b]:active{transform:translateY(0)}.preset-panel .preset-actions .btn-import[data-v-3ce1e94b]{background:linear-gradient(135deg,#17a2b8 0%,#20c997 100%);color:#fff;box-shadow:0 2px 8px rgba(23,162,184,.3)}.preset-panel .preset-actions .btn-import[data-v-3ce1e94b]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(23,162,184,.4)}.preset-panel .preset-actions .btn-import[data-v-3ce1e94b]:active{transform:translateY(0)}.preset-panel[data-v-3ce1e94b]::-webkit-scrollbar{width:6px}.preset-panel[data-v-3ce1e94b]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.preset-panel[data-v-3ce1e94b]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:3px}.preset-panel[data-v-3ce1e94b]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.section-hint[data-v-3ce1e94b]{font-size:12px;color:var(--text-secondary);margin-bottom:12px;opacity:.8}.companion-grid[data-v-3ce1e94b]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-bottom:16px}.companion-option[data-v-3ce1e94b]{display:flex;align-items:flex-start;gap:10px;padding:10px 12px;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;transition:all .2s}.companion-option[data-v-3ce1e94b]:hover{border-color:var(--accent-color);background:rgba(255,215,0,.05)}.companion-option.selected[data-v-3ce1e94b]{border-color:var(--accent-color);background:rgba(255,215,0,.1)}.companion-option.selected .companion-checkbox[data-v-3ce1e94b]{background:var(--accent-color);border-color:var(--accent-color);color:#2c1810}.companion-option .companion-checkbox[data-v-3ce1e94b]{flex:0 0 20px;width:20px;height:20px;border:2px solid var(--border-color);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;transition:all .2s}.companion-option .companion-info[data-v-3ce1e94b]{flex:1;min-width:0}.companion-option .companion-info .companion-name[data-v-3ce1e94b]{font-size:14px;font-weight:600;color:var(--text-accent);margin-bottom:4px}.companion-option .companion-info .companion-meta[data-v-3ce1e94b]{display:flex;gap:8px;margin-bottom:2px}.companion-option .companion-info .companion-meta .companion-realm[data-v-3ce1e94b]{font-size:11px;color:var(--text-secondary)}.companion-option .companion-info .companion-attr[data-v-3ce1e94b]{font-size:11px;color:var(--text-secondary);opacity:.8}.selected-companions[data-v-3ce1e94b]{border-top:1px solid var(--border-color);padding-top:16px}.selected-companions .selected-title[data-v-3ce1e94b]{font-size:13px;font-weight:600;color:var(--text-accent);margin-bottom:12px}.companion-card[data-v-3ce1e94b]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;margin-bottom:12px;overflow:hidden}.companion-card[data-v-3ce1e94b]:last-child{margin-bottom:0}.companion-card .companion-card-header[data-v-3ce1e94b]{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:rgba(255,215,0,.05);border-bottom:1px solid var(--border-color)}.companion-card .companion-card-header .companion-card-name[data-v-3ce1e94b]{font-size:14px;font-weight:600;color:var(--text-accent)}.companion-card .companion-card-body[data-v-3ce1e94b]{padding:12px}.companion-card .companion-card-body .form-row[data-v-3ce1e94b]{margin-bottom:12px}.companion-card .companion-card-body .form-row[data-v-3ce1e94b]:last-child{margin-bottom:0}.companion-card .companion-card-body .form-row label[data-v-3ce1e94b]{flex:0 0 80px}.companion-card .companion-card-body .form-row .favor-input-group[data-v-3ce1e94b]{flex:1;display:flex;align-items:center;gap:12px}.companion-card .companion-card-body .form-row .favor-input-group .favor-slider[data-v-3ce1e94b]{flex:1;height:6px;-webkit-appearance:none;appearance:none;background:linear-gradient(to right,#dc3545 0%,#ffc107 50%,#28a745 100%);border-radius:3px;cursor:pointer}.companion-card .companion-card-body .form-row .favor-input-group .favor-slider[data-v-3ce1e94b]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:var(--accent-color);border:2px solid #2c1810;cursor:pointer}.companion-card .companion-card-body .form-row .favor-input-group .favor-value[data-v-3ce1e94b]{flex:0 0 40px;text-align:center;font-weight:600;font-size:14px}.companion-card .companion-card-body .form-row .favor-input-group .favor-value.favor-high[data-v-3ce1e94b]{color:#28a745}.companion-card .companion-card-body .form-row .favor-input-group .favor-value.favor-good[data-v-3ce1e94b]{color:#6bcb77}.companion-card .companion-card-body .form-row .favor-input-group .favor-value.favor-neutral[data-v-3ce1e94b]{color:var(--text-secondary)}.companion-card .companion-card-body .form-row .favor-input-group .favor-value.favor-low[data-v-3ce1e94b]{color:#ffc107}.companion-card .companion-card-body .form-row .favor-input-group .favor-value.favor-hostile[data-v-3ce1e94b]{color:#dc3545}.companion-card .companion-card-body .form-row .relation-select[data-v-3ce1e94b]{flex:1;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;cursor:pointer}.companion-card .companion-card-body .form-row .relation-select[data-v-3ce1e94b]:focus{outline:none;border-color:var(--accent-color)}@media screen and (max-width:480px){.preset-panel[data-v-3ce1e94b]{padding:16px}.preset-panel .preset-header h3[data-v-3ce1e94b]{font-size:18px}.preset-panel .preset-section[data-v-3ce1e94b]{padding:12px}.preset-panel .preset-section .item-card[data-v-3ce1e94b]{padding:10px}.preset-panel .preset-section .item-card .item-row[data-v-3ce1e94b]{flex-direction:column;gap:8px}.preset-panel .preset-section .form-row label[data-v-3ce1e94b]{flex:0 0 80px;font-size:12px}.preset-panel .preset-section .form-row input[data-v-3ce1e94b]{font-size:12px;padding:6px 10px}.preset-panel .companion-grid[data-v-3ce1e94b]{grid-template-columns:1fr}.preset-panel .preset-actions[data-v-3ce1e94b]{flex-direction:column}.preset-panel .preset-actions button[data-v-3ce1e94b]{padding:10px 16px;font-size:13px}}
.skills-panel[data-v-5900eed4]{padding:16px}.skills-panel .skills-list[data-v-5900eed4]{display:flex;flex-direction:column;gap:12px}.skills-panel .skill-item[data-v-5900eed4]{padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.skills-panel .skill-item .skill-header[data-v-5900eed4]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.skills-panel .skill-item .skill-name[data-v-5900eed4]{font-size:14px;font-weight:bold;color:var(--accent-color)}.skills-panel .skill-item .skill-rank[data-v-5900eed4]{font-size:11px;color:#ffc864;padding:2px 8px;background:rgba(255,200,100,.1);border-radius:4px}.skills-panel .skill-item .skill-desc[data-v-5900eed4]{font-size:12px;color:var(--text-secondary);line-height:1.5;margin-bottom:4px}.skills-panel .skill-item .skill-proficiency[data-v-5900eed4]{font-size:11px;color:var(--text-accent)}.skills-panel .empty-hint[data-v-5900eed4]{text-align:center;padding:20px;color:#506070;font-style:italic}@media screen and (max-width:480px){.skills-panel[data-v-5900eed4]{padding:12px}.skills-panel .skills-list[data-v-5900eed4]{gap:10px}.skills-panel .skill-item[data-v-5900eed4]{padding:10px}.skills-panel .skill-item .skill-name[data-v-5900eed4]{font-size:13px}.skills-panel .skill-item .skill-rank[data-v-5900eed4]{font-size:10px}.skills-panel .skill-item .skill-desc[data-v-5900eed4]{font-size:11px}.skills-panel .skill-item .skill-proficiency[data-v-5900eed4]{font-size:10px}}
.tab-nav[data-v-5c864aea]{display:flex;padding:8px 12px;gap:4px;background:var(--tab-bg);border-bottom:1px solid var(--border-color);overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}.tab-nav[data-v-5c864aea]::-webkit-scrollbar{display:none}.tab-nav .tab-btn[data-v-5c864aea]{flex:1;min-width:60px;padding:8px 12px;background:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);border-radius:6px;color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:4px;white-space:nowrap}.tab-nav .tab-btn[data-v-5c864aea]:hover{background:var(--button-bg);color:var(--text-accent)}.tab-nav .tab-btn.active[data-v-5c864aea]{background:var(--tab-active);border-color:var(--border-active);color:var(--text-primary)}@media screen and (max-width:480px){.tab-nav[data-v-5c864aea]{padding:6px 8px;gap:2px;justify-content:center}.tab-nav .tab-btn[data-v-5c864aea]{flex:0 0 auto;min-width:auto;padding:6px 10px;font-size:11px;gap:3px}.tab-nav .tab-btn i[data-v-5c864aea]{font-size:12px}}@media screen and (max-width:360px){.tab-nav[data-v-5c864aea]{padding:5px 6px;gap:1px}.tab-nav .tab-btn[data-v-5c864aea]{padding:5px 8px;font-size:10px}.tab-nav .tab-btn .tab-label[data-v-5c864aea]{display:none}.tab-nav .tab-btn i[data-v-5c864aea]{font-size:14px}}
.theme-selector-overlay[data-v-666b5903]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:1000}.theme-selector[data-v-666b5903]{background:var(--bg-primary);border:2px solid var(--border-active);border-radius:12px;width:90%;max-width:500px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 40px rgba(0,0,0,.5)}.theme-selector .theme-selector-header[data-v-666b5903]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--header-bg);border-bottom:1px solid var(--border-color)}.theme-selector .theme-selector-header h3[data-v-666b5903]{margin:0;font-size:16px;color:var(--text-primary);display:flex;align-items:center;gap:8px}.theme-selector .theme-selector-header h3 i[data-v-666b5903]{color:var(--accent-color)}.theme-selector .theme-selector-header .close-btn[data-v-666b5903]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all .2s}.theme-selector .theme-selector-header .close-btn[data-v-666b5903]:hover{background:var(--button-hover);color:var(--text-primary);border-color:var(--border-active)}.theme-selector .theme-list[data-v-666b5903]{flex:1;overflow-y:auto;padding:12px}.theme-selector .theme-list[data-v-666b5903]::-webkit-scrollbar{width:6px}.theme-selector .theme-list[data-v-666b5903]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.theme-selector .theme-list[data-v-666b5903]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:3px}.theme-selector .theme-list[data-v-666b5903]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.theme-selector .theme-item[data-v-666b5903]{display:flex;align-items:center;gap:12px;padding:12px;margin-bottom:8px;background:var(--bg-secondary);border:2px solid rgba(0,0,0,0);border-radius:8px;cursor:pointer;transition:all .2s;position:relative}.theme-selector .theme-item[data-v-666b5903]:hover{background:var(--button-bg);border-color:var(--border-color)}.theme-selector .theme-item.active[data-v-666b5903]{border-color:var(--border-active);background:var(--button-active)}.theme-selector .theme-item .theme-preview[data-v-666b5903]{width:60px;height:60px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.theme-selector .theme-item .theme-preview .theme-preview-border[data-v-666b5903]{width:40px;height:40px;border:2px solid;border-radius:6px}.theme-selector .theme-item .theme-info[data-v-666b5903]{flex:1}.theme-selector .theme-item .theme-info .theme-name[data-v-666b5903]{font-size:14px;font-weight:bold;color:var(--text-primary);margin-bottom:4px}.theme-selector .theme-item .theme-info .theme-desc[data-v-666b5903]{font-size:12px;color:var(--text-secondary)}.theme-selector .theme-item .theme-check[data-v-666b5903]{color:var(--accent-color);font-size:18px}.theme-selector-fade-enter-active[data-v-666b5903],.theme-selector-fade-leave-active[data-v-666b5903]{transition:opacity .3s}.theme-selector-fade-enter-from[data-v-666b5903],.theme-selector-fade-leave-to[data-v-666b5903]{opacity:0}
.cultivation-status[data-v-b9964536]{width:100%;margin:0 auto;font-family:"Microsoft YaHei","PingFang SC",sans-serif;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;color:var(--text-primary);font-size:14px;transition:all .3s ease;display:flex;flex-direction:column;position:relative}.cultivation-status .pattern-overlay[data-v-b9964536]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:var(--pattern-overlay);background-size:100px 65px,85px 55px,110px 70px,90px 60px,75px 50px;background-position:5% 15%,85% 25%,15% 65%,75% 70%,45% 85%;background-repeat:no-repeat;pointer-events:none;opacity:.25;z-index:0}.cultivation-status .crane-decoration[data-v-b9964536]{position:absolute;top:22px;left:50%;transform:translateX(-50%);width:60px;height:60px;z-index:3;pointer-events:none;animation:crane-float-b9964536 4s ease-in-out infinite}.cultivation-status .crane-decoration img[data-v-b9964536]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 3px 12px rgba(0,0,0,0.4))}@keyframes crane-float-b9964536{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-8px)}}.cultivation-status[data-v-b9964536]>*{position:relative;z-index:1}.cultivation-status.collapsed[data-v-b9964536] .tab-nav,.cultivation-status.collapsed .content[data-v-b9964536]{display:none}.cultivation-status.collapsed[data-v-b9964536] .header{border-bottom:none}.content[data-v-b9964536]{flex:1;min-height:280px;max-height:600px;overflow-y:auto}.content[data-v-b9964536]::-webkit-scrollbar{width:6px}.content[data-v-b9964536]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.content[data-v-b9964536]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:3px}.content[data-v-b9964536]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.panel[data-v-b9964536]{padding:16px}@media screen and (max-width:480px){.cultivation-status[data-v-b9964536]{font-size:13px;border-radius:8px}.cultivation-status .crane-decoration[data-v-b9964536]{width:45px;height:45px;top:18px}.content[data-v-b9964536]{min-height:220px;max-height:450px}.panel[data-v-b9964536]{padding:12px}}@keyframes spin-b9964536{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>