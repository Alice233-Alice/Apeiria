<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{klona as a}from'https://testingcf.jsdelivr.net/npm/klona/+esm';var r={502(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,r]of t)a[e]=r;return a}}},n={};const o=Vue,l=z,c=['练气','筑基','金丹','元婴','化神','炼虚','合体','大乘','渡劫'],s=['初期','中期','后期','大圆满'],i=[100,100,100,100,200,200,200,200,400,400,400,400,800,800,800,800,1600,1600,1600,1600,3200,3200,3200,3200,6400,6400,6400,6400,12800,12800,12800,12800,25600,25600,25600,25600],d=[100,100,100,100,200,200,200,200,500,500,500,500,1e3,1e3,1e3,1e3,2e3,2e3,2e3,2e3,5e3,5e3,5e3,5e3,1e4,1e4,1e4,1e4,5e4,5e4,5e4,5e4,1e5,1e5,1e5,1e5],b=l.z.object({名称:l.z.string().prefault(''),描述:l.z.string().prefault(''),品阶:l.z.string().prefault(''),数量:l.z.coerce.number().transform(e=>Math.max(1,e)).prefault(1)}),g=l.z.object({所在地:l.z.string(),核心特点:l.z.string(),最高战力:l.z.string(),阵营:l.z.enum(['正道','魔道','中立']),规模:l.z.enum(['超大宗门','大宗门','小宗门','微型宗门','特殊势力']),备注:l.z.string().optional()}),p=l.z.object({品阶:l.z.enum(['凡阶','黄阶','玄阶','地阶','天阶','仙阶','圣阶']),属性:l.z.string().describe('如:金系、木系、火系等'),效果描述:l.z.string(),修炼要求:l.z.string().optional()}),f=l.z.object({品阶:l.z.enum(['凡器','法器','灵器','法宝','灵宝','仙器','圣器','道器']),类型:l.z.string().describe('如:剑、刀、枪、防御、飞行、储物等'),特性:l.z.string(),当前持有者:l.z.string().optional()}),u=l.z.object({所属区域:l.z.enum(['天层','神州','东苍','南炎','西庚','北冥','下层','四海']),类型:l.z.enum(['秘境','城镇','宗门','禁地','遗迹','自然地形']),危险度:l.z.coerce.number().transform(e=>_.clamp(e,0,100)),特点:l.z.string(),可获得资源:l.z.array(l.z.string()).prefault([])}),m=l.z.object({品质:l.z.enum(['劣等','下品','中品','上品','极品','天灵根','变异']),属性:l.z.string().describe('如:金、木、水、火、土、冰、雷、风、光、暗等'),修炼速度:l.z.string().describe('如:0.5倍、1倍、2倍、5倍等'),特性描述:l.z.string(),稀有度:l.z.enum(['常见','少见','罕见','稀有','传说'])}),v=l.z.object({品质:l.z.enum(['凡体','灵体','道体','圣体','神体']),特性描述:l.z.string(),优势:l.z.string(),劣势:l.z.string().optional(),稀有度:l.z.enum(['常见','少见','罕见','稀有','传说'])}),y=l.z.object({世界时钟:l.z.object({纪元:l.z.string().prefault('末法时代'),年份:l.z.coerce.number().prefault(1),月份:l.z.coerce.number().transform(e=>_.clamp(e,1,12)).prefault(1),日期:l.z.coerce.number().transform(e=>_.clamp(e,1,30)).prefault(1),时辰:l.z.string().prefault('子时')}),世界地图:l.z.record(l.z.string().describe('区域名'),l.z.object({layer:l.z.enum(['天层','地层','下层']).prefault('地层'),danger:l.z.coerce.number().transform(e=>_.clamp(e,0,100)),desc:l.z.string().prefault(''),connections:l.z.array(l.z.string()).prefault([])})).prefault({}),世界图志:l.z.record(l.z.string().describe('事件名'),l.z.object({状态:l.z.string().prefault(''),事件:l.z.string().prefault('')})).prefault({}),宗门势力库:l.z.record(l.z.string().describe('宗门名'),g).prefault({剑阁:{所在地:'神州·剑门关',核心特点:'剑修圣地，天下剑道源头',最高战力:'剑仙·南宫秋水（渡劫后期）',阵营:'正道',规模:'超大宗门',备注:'宗门悬空于万仞天堑之上，非剑心通明者不可登门，与魔道抗衡千年'},万法宗:{所在地:'神州·问道峰',核心特点:'包容并蓄，研究万法本源',最高战力:'道主·尘微散人（渡劫初期）',阵营:'正道',规模:'超大宗门',备注:'坐拥天下第一藏经阁，不论出身皆可入内求法，号称万流归宗，是修仙界理论与知识的最高殿堂，与剑宗交好'},金刚寺:{所在地:'神州·西天佛山',核心特点:'佛修圣地，炼体神通',最高战力:'方丈·玄悲（大乘中期）',阵营:'正道',规模:'大宗门',备注:'佛门魁首，镇压魔道'},药王谷:{所在地:'神农架',核心特点:'医修圣地，炼丹术独步天下',最高战力:'药王·孙思邈（大乘初期）',阵营:'正道',规模:'大宗门',备注:'人脉极广，正魔皆求其丹药'},儒门:{所在地:'神州·文圣山',核心特点:'修浩然正气，以文入道',最高战力:'文圣·孔夫子（大乘中期）',阵营:'正道',规模:'大宗门',备注:'影响力巨大，掌控世俗文脉'},青龙殿:{所在地:'东苍·青龙山脉',核心特点:'守护青龙遗脉，镇守青帝陵',最高战力:'青龙使·敖广（大乘初期）',阵营:'正道',规模:'大宗门',备注:'半人半妖，与妖族关系微妙'},玄武宗:{所在地:'北冥·玄冰山',核心特点:'镇守北冥，守护玄武圣兽',最高战力:'宗主·玄冥子（大乘后期）',阵营:'正道',规模:'大宗门',备注:'常年镇守归墟，极少外出'},建木宗:{所在地:'东苍·建木神树',核心特点:'崇拜建木，擅木系道法',最高战力:'木长老（合体中期）',阵营:'正道',规模:'小宗门',备注:'东苍实际管理者之一'},百花谷:{所在地:'百花秘境',核心特点:'全为女修，以花入道',最高战力:'花主·牡丹（合体后期）',阵营:'正道',规模:'小宗门',备注:'与各大宗门联姻众多'},血神教:{所在地:'血魔渊',核心特点:'修炼血道，以血炼法',最高战力:'血神老祖（渡劫中期）',阵营:'魔道',规模:'超大宗门',备注:'与剑阁对峙千年，死敌'},天魔宗:{所在地:'天魔山',核心特点:'正统魔修，修炼天魔大道',最高战力:'天魔宗主（大乘中期）',阵营:'魔道',规模:'大宗门',备注:'魔道中相对守规矩的一派'},妖盟:{所在地:'万妖森林',核心特点:'妖族联盟，与人类和平共处',最高战力:'妖王·白泽（渡劫中期）',阵营:'中立',规模:'超大宗门',备注:'维护妖族利益，不参与人族内斗'},大夏王朝:{所在地:'神州·中州皇城',核心特点:'世俗统治，皇室修仙',最高战力:'夏皇（大乘初期）',阵营:'中立',规模:'大宗门',备注:'名义上统御神州，实际受宗门制约'},九州商会:{所在地:'神州九大主城',核心特点:'商业联盟，掌控经济命脉',最高战力:'财神爷（大乘初期）',阵营:'中立',规模:'大宗门',备注:'只做生意，不问正魔'},离火宫:{所在地:'南炎·不灭火山',核心特点:'供奉朱雀圣兽，亦正亦邪',最高战力:'宫主·离天火（合体大圆满）',阵营:'中立',规模:'小宗门',备注:'态度摇摆，谁给好处帮谁'},铸剑山庄:{所在地:'南炎·地火熔炉',核心特点:'天下第一炼器宗门',最高战力:'庄主·欧冶子（合体后期）',阵营:'中立',规模:'小宗门',备注:'只认材料不认人，正魔客户都接'}}),功法库:l.z.record(l.z.string().describe('功法名'),p).prefault({引气诀:{品阶:'凡阶',属性:'通用',效果描述:'基础引气，各宗门入门功法'},五行诀:{品阶:'黄阶',属性:'五行',效果描述:'平衡五行，稳扎稳打'},筑基真解:{品阶:'玄阶',属性:'通用',效果描述:'完美筑基之法'},金丹大道:{品阶:'地阶',属性:'通用',效果描述:'凝结金丹的秘法'},万剑归宗诀:{品阶:'天阶',属性:'金系·剑道',效果描述:'剑阁镇宗功法，御万剑',修炼要求:'剑心通明'},庚金神雷:{品阶:'天阶',属性:'金系·雷系',效果描述:'金雷双修，威力巨大'},百花真经:{品阶:'地阶',属性:'木系',效果描述:'百花谷核心，以花入道'},建木通天诀:{品阶:'天阶',属性:'木系',效果描述:'建木宗镇宗，直达天听'},万木朝宗:{品阶:'仙阶',属性:'木系',效果描述:'青帝遗留，掌控万木',修炼要求:'残卷，需特殊传承'},玄冰诀:{品阶:'地阶',属性:'水系·冰系',效果描述:'万法宗冰系基础功法，心如冰清'},北冥真经:{品阶:'天阶',属性:'水系',效果描述:'玄武宗镇宗，吞噬转化'},海纳百川:{品阶:'仙阶',属性:'水系',效果描述:'归墟感悟，容纳万物',修炼要求:'残卷'},朱雀涅槃经:{品阶:'天阶',属性:'火系',效果描述:'离火宫镇宫，涅槃重生'},太阳真火:{品阶:'天阶',属性:'火系',效果描述:'极致阳火，焚尽万物'},祝融神火:{品阶:'仙阶',属性:'火系',效果描述:'火神遗留，威力无穷',修炼要求:'残卷'},不动明王身:{品阶:'天阶',属性:'土系·佛门',效果描述:'金刚寺镇寺，防御无敌'},九天雷神诀:{品阶:'天阶',属性:'雷系',效果描述:'雷系顶级，代天行罚'},虚空经:{品阶:'天阶',属性:'空间',效果描述:'空间属性，罕见难修'},轮回经:{品阶:'仙阶',属性:'轮回',效果描述:'涉及轮回，因果重大',修炼要求:'残卷，{{user}}专属'},万法归宗:{品阶:'天阶',属性:'通用',效果描述:'万法宗镇宗，模拟万法'},医仙宝典:{品阶:'天阶',属性:'医道',效果描述:'药王谷镇谷，活死人肉白骨'},天魔策:{品阶:'天阶',属性:'魔道',效果描述:'魔道至高，速成但隐患大'},斩轮回剑典:{品阶:'仙阶',属性:'剑道·轮回',效果描述:'{{user}}前世所创，斩断因果',修炼要求:'残卷，{{user}}专属'},剑意通神:{品阶:'仙阶',属性:'剑道',效果描述:'剑道至高，意即为剑',修炼要求:'剑道顿悟'}}),法宝库:l.z.record(l.z.string().describe('法宝名'),f).prefault({青锋剑:{品阶:'法器',类型:'剑',特性:'制式长剑，锋利耐用',当前持有者:'各宗门弟子标配'},秋水剑:{品阶:'灵器',类型:'剑',特性:'剑身如水，适合水系剑修',当前持有者:'玄武宗内门弟子'},离火剑:{品阶:'法宝',类型:'剑',特性:'蕴含离火，挥出火焰剑气',当前持有者:'离火宫真传弟子'},寒镜剑:{品阶:'法宝',类型:'剑',特性:'心镜能力，可映照人心',当前持有者:'凌寒镜'},红绡枪:{品阶:'法宝',类型:'枪',特性:'红绡舞天，破军杀阵',当前持有者:'战红绡'},青龙剑:{品阶:'灵宝',类型:'剑',特性:'蕴含青龙之魂，木属性',当前持有者:'青龙殿镇殿之宝'},白虎剑:{品阶:'灵宝',类型:'剑',特性:'杀伐之气冲天，金属性',当前持有者:'白虎圣殿镇殿'},朱雀剑:{品阶:'灵宝',类型:'剑',特性:'火焰化形，火属性',当前持有者:'离火宫镇宫之宝'},玄武剑:{品阶:'灵宝',类型:'剑',特性:'厚重防御，水属性',当前持有者:'玄武宗镇宗之宝'},斩轮回:{品阶:'仙器',类型:'剑',特性:'可斩因果（残破）',当前持有者:'{{user}}（需重铸）'},镇渊剑:{品阶:'仙器',类型:'剑',特性:'{{user}}本命剑，可随修为成长（未完成）',当前持有者:'{{user}}需自行炼制'},双鱼佩:{品阶:'仙器',类型:'法宝·护身',特性:'稳定时空法则，内藏小世界，可庇护神魂',当前持有者:'{{user}}（需认主）'},绯月神弓:{品阶:'法宝',类型:'弓',特性:'朱雀之力，远程攻击极强',当前持有者:'焰绯月'},碧玉瑶琴:{品阶:'法宝',类型:'琴',特性:'天籁之音，可治愈心魔',当前持有者:'叶挽歌'},千丝罗网:{品阶:'灵宝',类型:'法器',特性:'织梦控心，幻术神器',当前持有者:'幻千丝'},雪魄琉璃炉:{品阶:'灵宝',类型:'丹炉',特性:'冰雪之力加持，炼丹神器',当前持有者:'苏雪魄'},龙鳞护甲:{品阶:'灵宝',类型:'防御',特性:'真龙鳞片，防御极强',当前持有者:'敖清霜'},储物袋:{品阶:'法器',类型:'储物',特性:'基础储物，空间较小'},储物戒指:{品阶:'灵器',类型:'储物',特性:'空间较大，便于携带'},乾坤袋:{品阶:'法宝',类型:'储物',特性:'空间巨大，可装活物'},洞天法宝:{品阶:'灵宝',类型:'储物',特性:'内含小世界，可居住修炼'}}),地点库:l.z.record(l.z.string().describe('地点名'),u).prefault({天渊:{所属区域:'天层',类型:'禁地',危险度:95,特点:'悬浮裂隙，星辰坠落，连接域外',可获得资源:['星辰碎片','域外陨铁']},九天罡风带:{所属区域:'天层',类型:'禁地',危险度:90,特点:'狂暴罡风，元婴以下无法穿越',可获得资源:['罡风精华']},问道峰:{所属区域:'神州',类型:'宗门',危险度:10,特点:'万法宗所在，天下问道大会举办地，高九千丈',可获得资源:['功法典籍','灵药']},剑门关:{所属区域:'神州',类型:'宗门',危险度:15,特点:'剑阁山门，悬空于万仞天堑之上',可获得资源:['剑意感悟','飞剑']},藏书阁:{所属区域:'神州',类型:'宗门',危险度:5,特点:'万法宗九层古籍收藏，每层有守护灵',可获得资源:['功法','典籍','秘术']},酆都城:{所属区域:'神州',类型:'城镇',危险度:30,特点:'引魂司总部，阴阳交汇，白日人市夜晚鬼市',可获得资源:['幽冥材料','鬼修功法']},龙门瀑布:{所属区域:'神州',类型:'秘境',危险度:40,特点:'鲤鱼跃龙门之地，蕴含造化',可获得资源:['龙气','化龙机缘']},建木森林:{所属区域:'东苍',类型:'自然地形',危险度:50,特点:'无边原始森林，古树成精',可获得资源:['灵木','木系材料','妖兽内丹']},青帝陵:{所属区域:'东苍',类型:'遗迹',危险度:85,特点:'青帝遗迹，内有传承考验',可获得资源:['青帝传承','木系至宝']},百花秘境:{所属区域:'东苍',类型:'秘境',危险度:20,特点:'百花谷所在，四季花开',可获得资源:['灵花','花粉','花系功法']},不灭火山:{所属区域:'南炎',类型:'自然地形',危险度:80,特点:'中央火山，朱雀涅槃处',可获得资源:['朱雀真火','火系至宝']},地火窟:{所属区域:'南炎',类型:'自然地形',危险度:60,特点:'地火喷涌，适合炼器',可获得资源:['地心火','炼器材料']},涅槃台:{所属区域:'南炎',类型:'遗迹',危险度:70,特点:'朱雀涅槃留下的石台，蕴含涅槃真意',可获得资源:['涅槃感悟','不死鸟羽毛']},万剑冢:{所属区域:'西庚',类型:'禁地',危险度:85,特点:'上古战场遗址，剑意千年不散',可获得资源:['剑意感悟','古剑','剑修传承']},庚金矿脉:{所属区域:'西庚',类型:'自然地形',危险度:40,特点:'盛产庚金之精，炼制飞剑最佳',可获得资源:['庚金','金属矿石']},玄冰山:{所属区域:'北冥',类型:'宗门',危险度:50,特点:'玄武宗所在，黑色冰山永不融化',可获得资源:['玄冰','寒冰材料']},归墟海眼:{所属区域:'北冥',类型:'禁地',危险度:99,特点:'吞噬一切的漩涡，万物终结',可获得资源:['归墟感悟','混沌之力']},黄泉古迹:{所属区域:'下层',类型:'遗迹',危险度:90,特点:'九曲天河源头，通往幽冥',可获得资源:['黄泉水','幽冥宝物']},无尽炎渊:{所属区域:'下层',类型:'禁地',危险度:95,特点:'南炎地心火狱，火焰分层',可获得资源:['地心火','炎魔材料']}}),灵根库:l.z.record(l.z.string().describe('灵根名'),m).prefault({金天灵根:{品质:'天灵根',属性:'金',修炼速度:'5倍',特性描述:'纯粹金属性，锋锐无双，攻击力极强',稀有度:'传说'},木天灵根:{品质:'天灵根',属性:'木',修炼速度:'5倍',特性描述:'纯粹木属性，生生不息，恢复力极强',稀有度:'传说'},水天灵根:{品质:'天灵根',属性:'水',修炼速度:'5倍',特性描述:'纯粹水属性，柔韧包容，适应力极强',稀有度:'传说'},火天灵根:{品质:'天灵根',属性:'火',修炼速度:'5倍',特性描述:'纯粹火属性，爆发力极强，威力巨大',稀有度:'传说'},土天灵根:{品质:'天灵根',属性:'土',修炼速度:'5倍',特性描述:'纯粹土属性，厚重稳固，防御力极强',稀有度:'传说'},金木双灵根:{品质:'极品',属性:'金木',修炼速度:'3倍',特性描述:'金木相克又相生，适合修炼特殊功法',稀有度:'稀有'},水火双灵根:{品质:'极品',属性:'水火',修炼速度:'3倍',特性描述:'水火既济，阴阳调和，平衡发展',稀有度:'稀有'},金火双灵根:{品质:'极品',属性:'金火',修炼速度:'3倍',特性描述:'火炼真金，适合炼器和战斗',稀有度:'稀有'},木水双灵根:{品质:'极品',属性:'木水',修炼速度:'3倍',特性描述:'水生木，生机勃勃，恢复力强',稀有度:'稀有'},金木水三灵根:{品质:'上品',属性:'金木水',修炼速度:'2倍',特性描述:'三属性均衡，可修炼多种功法',稀有度:'罕见'},火土金三灵根:{品质:'上品',属性:'火土金',修炼速度:'2倍',特性描述:'火生土、土生金，攻守兼备',稀有度:'罕见'},金木水火四灵根:{品质:'中品',属性:'金木水火',修炼速度:'1倍',特性描述:'四属性修炼，进度较慢但全面',稀有度:'少见'},五行杂灵根:{品质:'下品',属性:'金木水火土',修炼速度:'0.5倍',特性描述:'五行俱全但杂乱，修炼缓慢',稀有度:'常见'},变异冰灵根:{品质:'变异',属性:'冰',修炼速度:'4倍',特性描述:'水属性变异，极寒之力，冻结万物',稀有度:'传说'},变异雷灵根:{品质:'变异',属性:'雷',修炼速度:'4倍',特性描述:'金属性变异，雷霆之力，毁灭一切',稀有度:'传说'},变异风灵根:{品质:'变异',属性:'风',修炼速度:'4倍',特性描述:'木属性变异，御风而行，速度无双',稀有度:'传说'},变异暗灵根:{品质:'变异',属性:'暗',修炼速度:'4倍',特性描述:'水属性变异，幽暗侵蚀，诡异莫测',稀有度:'传说'},变异光灵根:{品质:'变异',属性:'光',修炼速度:'4倍',特性描述:'火属性变异，圣光净化，克制邪祟',稀有度:'传说'},变异离火灵根:{品质:'变异',属性:'离火',修炼速度:'4倍',特性描述:'火属性变异，朱雀之火，涅槃重生',稀有度:'传说'},变异空间灵根:{品质:'变异',属性:'空间',修炼速度:'5倍',特性描述:'至高变异，掌控空间，极为稀有',稀有度:'传说'},变异时间灵根:{品质:'变异',属性:'时间',修炼速度:'5倍',特性描述:'至高变异，操控时间，万古难遇',稀有度:'传说'},变异混沌灵根:{品质:'变异',属性:'混沌',修炼速度:'5倍',特性描述:'至高变异，回归混沌，包容万物',稀有度:'传说'},变异轮回灵根:{品质:'变异',属性:'轮回',修炼速度:'5倍',特性描述:'至高变异，轮回之力，{{user}}专属',稀有度:'传说'},冰火双灵根:{品质:'变异',属性:'冰火',修炼速度:'3.5倍',特性描述:'冰火两极，极致对立又统一',稀有度:'传说'},冰雷双灵根:{品质:'变异',属性:'冰雷',修炼速度:'3.5倍',特性描述:'寒冰与雷霆，冻结后粉碎',稀有度:'传说'},暗幻双灵根:{品质:'变异',属性:'暗幻',修炼速度:'3.5倍',特性描述:'暗影与幻术，诡异莫测',稀有度:'传说'},水龙双灵根:{品质:'变异',属性:'水龙',修炼速度:'4倍',特性描述:'蕴含龙族血脉，掌控水系',稀有度:'传说'},冰丹双灵根:{品质:'变异',属性:'冰丹',修炼速度:'3.5倍',特性描述:'冰系与丹道，独特组合',稀有度:'传说'}}),体质库:l.z.record(l.z.string().describe('体质名'),v).prefault({凡体:{品质:'凡体',特性描述:'普通凡人体质，无特殊之处',优势:'无',稀有度:'常见'},玄冰灵体:{品质:'灵体',特性描述:'天生亲近冰属性，修炼冰系功法事半功倍',优势:'冰系法术威力+50%，冰系抗性+80%',劣势:'火系抗性-30%',稀有度:'罕见'},离火之体:{品质:'灵体',特性描述:'天生火焰体质，修炼火系功法速度极快',优势:'火系法术威力+50%，火系抗性+80%',劣势:'水系抗性-30%',稀有度:'罕见'},木灵之体:{品质:'灵体',特性描述:'亲近草木，拥有强大恢复能力',优势:'恢复速度+100%，木系法术威力+50%',劣势:'金系抗性-30%',稀有度:'罕见'},天籁之体:{品质:'灵体',特性描述:'天生音律体质，可用音律治愈心魔',优势:'音律神通，治愈心魔',劣势:'战斗力较弱',稀有度:'罕见'},花妖之体:{品质:'灵体',特性描述:'花妖化形，容貌倾城，天生魅惑',优势:'魅惑能力，控制花草',劣势:'离开灵气充沛之地会虚弱',稀有度:'稀有'},朱雀血脉:{品质:'道体',特性描述:'朱雀神兽血脉，可涅槃重生',优势:'火系法术威力+100%，涅槃能力',劣势:'过于骄傲容易轻敌',稀有度:'传说'},真龙血脉:{品质:'道体',特性描述:'真龙血脉，身体素质远超常人',优势:'身体素质+200%，龙族神通',劣势:'容易被龙族克制',稀有度:'传说'},先天战体:{品质:'道体',特性描述:'天生战斗体质，战斗天赋极高',优势:'战斗力+100%，战意凌厉',劣势:'不擅长其他方面',稀有度:'传说'},梦魇之体:{品质:'道体',特性描述:'可操控梦境，擅长幻术',优势:'幻术神通，情报收集',劣势:'正面战斗力一般，怕光明属性',稀有度:'传说'},雪魂之体:{品质:'道体',特性描述:'雪域神兽转世，冰系至强',优势:'冰系法术威力+150%，雪域神通',劣势:'前世道伤，修为受限',稀有度:'传说'},混沌圣体:{品质:'圣体',特性描述:'回归混沌本源，包容万物',优势:'可修炼任何功法，无属性限制',劣势:'修炼初期缓慢',稀有度:'传说'},先天道体:{品质:'圣体',特性描述:'先天与道合一，悟性无双',优势:'悟性+300%，修炼速度+200%',劣势:'容易遭天妒',稀有度:'传说'},不灭金身:{品质:'圣体',特性描述:'肉身不灭，防御无敌',优势:'防御力+500%，几乎不死',劣势:'速度较慢',稀有度:'传说'},轮回之体:{品质:'神体',特性描述:'掌控轮回，{{user}}专属体质',优势:'轮回神通，可斩因果',劣势:'遭天道忌惮',稀有度:'传说'},时空之体:{品质:'神体',特性描述:'掌控时空，万古难遇',优势:'时空神通，逆转因果',劣势:'消耗极大',稀有度:'传说'}}),本尊:l.z.object({等级:l.z.coerce.number().transform(e=>_.clamp(e,1,36)),修为:l.z.coerce.number().transform(e=>Math.max(0,e)),灵根:l.z.string().prefault('五行杂灵根'),体质:l.z.string().prefault('凡体'),功法:l.z.string().prefault('无'),本命兵器:l.z.string().prefault('无'),神通列表:l.z.record(l.z.string().describe('神通名'),l.z.string().describe('神通描述')).prefault({}),灵石:l.z.coerce.number().transform(e=>Math.max(0,e)),已活岁月:l.z.coerce.number().transform(e=>Math.max(0,e)),尝试突破:l.z.boolean().prefault(!1),行踪:l.z.object({当前区域:l.z.string().prefault('未知之地'),所属层级:l.z.string().optional(),环境描述:l.z.string().optional(),危险度:l.z.coerce.number().optional(),可用通道:l.z.array(l.z.string()).optional(),导航信息:l.z.string().optional()}),身份:l.z.object({姓名:l.z.string().prefault('无名氏'),宗门:l.z.string().prefault('散修'),出身:l.z.string().prefault('凡人')}),背包:l.z.record(l.z.string().describe('物品名'),b).prefault({}).transform(e=>_.pickBy(e,({数量:e})=>e>0)),法宝:l.z.record(l.z.string().describe('法宝名'),b).prefault({}).transform(e=>_.pickBy(e,({数量:e})=>e>0)),杂物袋:l.z.record(l.z.string().describe('杂物名'),b).prefault({}).transform(e=>_.pickBy(e,({数量:e})=>e>0))}).transform(e=>{const t=e.等级,a=i[t-1]??100,r=d[t-1]??100,n=Math.floor((t-1)/4),o=`${c[n]??'练气'}${s[(t-1)%4]??'初期'}`,l=`${e.已活岁月}/${r}`,b=e.尝试突破?'突破中':e.修为>=a?'瓶颈期':'修炼中',g=`${(e.修为/a*100).toFixed(1)}%`;return{...e,突破阈值:a,寿元上限:r,境界描述:o,寿元状态:l,状态:b,进度:g}}),红颜角色库:l.z.record(l.z.string().describe('角色名'),l.z.object({等级:l.z.coerce.number().transform(e=>_.clamp(e,1,36)),灵根:l.z.string(),体质:l.z.string(),年龄:l.z.string().describe('如: 24岁 或 外表26岁,实际218岁'),所属:l.z.string(),功法:l.z.string(),本命兵器:l.z.string(),神通:l.z.array(l.z.string()).prefault([]),性格:l.z.string(),背景:l.z.string(),特殊设定:l.z.string().optional(),角色类型:l.z.enum(['核心红颜','重要红颜','次要红颜'])})).prefault({凌寒镜:{等级:11,灵根:'变异冰灵根(极品)',体质:'玄冰灵体',年龄:'24岁',所属:'万法宗·问道峰真传弟子',功法:'《玄冰诀》(地阶上品)、《心镜明悟诀》(天阶下品)',本命兵器:'北冥天晶弓（灵器上品）',神通:['冰镜映心','千里冰封','心如明镜'],性格:'清冷孤绝 | 心如明镜 | 不染尘埃 | 内心细腻 | 重情重义',背景:'玄冰门世家覆灭后投奔万法宗,天生心镜能力可看穿人心虚伪,二十岁突破金丹成为问道峰百年来最年轻真传',特殊设定:'心镜能力让她看透太多人心险恶导致内心孤独,心镜若被情绪波动影响会失效',角色类型:'核心红颜'},虞汐颜:{等级:12,灵根:'水/阴阳变异灵根',体质:'阴阳双鱼体',年龄:'化形3年(本体存在万载)',所属:'散修(实为{{user}}的随身玉佩)',功法:'《双生造化诀》(天阶极品)、《阴阳流转经》',本命兵器:'阴阳双鱼佩(本体,可化作护盾或利刃)',神通:['枯木逢春(虞汐)','夺命红妆(虞颜)','双鱼游梦','阴阳轮转'],性格:'虞汐:温柔治愈|天真纯善|胆小软萌; 虞颜:腹黑毒舌|傲娇护短|杀伐果断',背景:'上古大能遗留的阴阳双鱼佩,吸纳天地灵气万载化形,一体双魂(虞汐/虞颜),被{{user}}唤醒后认主',特殊设定:'一体双魂可自由切换,虞汐代表生与善擅长治愈,虞颜代表死与恶擅长杀伐,本体双鱼佩是上古仙府钥匙,可在玉佩形态和人形态间切换',角色类型:'核心红颜'},白清弦:{等级:29,灵根:'金天灵根(天灵根)',体质:'先天剑体',年龄:'外表30岁,实际328岁',所属:'散修·剑道宗师(可设定为任意宗门长老或客卿)',功法:'《剑意通神》(仙阶)、《天音剑诀》(天阶上品)',本命兵器:'清弦琴剑(灵宝上品,琴剑合一)',神通:['琴剑双杀','剑意如歌','万剑归心'],性格:'清冷出尘 | 琴心剑胆 | 慈悲温柔 | 护短深情 | 暗藏执念',背景:'修仙界闻名的白衣剑仙,琴剑双修的传奇人物,年少成名百岁化神,剑道天赋冠绝当代,白衣如雪抱琴持剑飘然若仙',特殊设定:'真实境界为大乘初期(等级29),但隐藏实力显示为化神后期(等级19);琴剑双绝剑道造诣极高,琴音可辅助可杀敌,抚琴时眼神温柔拔剑时杀意凛然,对{{user}}有禁忌之情,身份灵活可为任意宗门长老或散修',角色类型:'核心红颜'},焰绯月:{等级:12,灵根:'变异离火灵根(极品)',体质:'朱雀血脉',年龄:'25岁',所属:'南炎离火宫·圣女',功法:'《朱雀涅槃经》(天阶上品)',本命兵器:'绯月神弓(法宝上品)',神通:['离火焚天','朱雀真身','凤凰涅槃'],性格:'骄傲自信 | 热情如火 | 直来直去 | 好胜心强 | 重视荣誉',背景:'南炎离火宫圣女,朱雀血脉觉醒者,天生骄傲自视甚高,好胜心强',特殊设定:'火系法术威力极强远程攻击冠绝同辈,但过于骄傲容易轻敌且防御相对较弱',角色类型:'重要红颜'},幻千丝:{等级:13,灵根:'暗幻双灵根',体质:'梦魇之体',年龄:'外表20岁,实际未知',所属:'散修·幽冥修士',功法:'《织梦天罗》(天阶中品)',本命兵器:'千丝罗网(灵宝下品)',神通:['织梦为笼','心魔幻境','千丝束缚'],性格:'神秘莫测 | 亦正亦邪 | 难以捉摸 | 玩世不恭 | 好奇心强',背景:'身份神秘的幽冥修士,擅长幻术和梦境操控,行踪不定立场不明',特殊设定:'擅长幻术心理战情报收集暗杀和潜入,但正面战斗力一般且怕光明属性克制',角色类型:'重要红颜'},花想容:{等级:8,灵根:'木灵根',体质:'花妖之体',年龄:'外表12岁',所属:'建木宗·弟子',功法:'《百花真经》(地阶下品)',本命兵器:'牡丹花瓣(法器)',神通:['花海领域','治愈花粉','魅惑之香'],性格:'天真烂漫 | 容色倾城 | 单纯可爱 | 好奇心强 | 依赖性强',背景:'千年牡丹花妖化形因缘际会拜入建木宗,天性单纯不知人心险恶,容貌倾城',特殊设定:'控制花草治愈能力容貌倾城天生魅惑,但战斗经验不足过于单纯容易被骗离开灵气充沛之地会虚弱',角色类型:'次要红颜'},敖清霜:{等级:14,灵根:'水龙双灵根',体质:'真龙血脉',年龄:'150岁(外表20岁)',所属:'北冥龙宫·三公主',功法:'《沧海龙吟》(天阶上品)',本命兵器:'龙鳞护甲(灵宝中品)',神通:['龙族变化','呼风唤雨','龙威震慑'],性格:'高贵优雅 | 腹黑狡黠 | 好奇心强 | 向往自由 | 喜欢冒险',背景:'北冥龙宫三公主真龙血脉,厌倦宫廷生活化名敖灵儿混入人间历练',特殊设定:'龙族神通水系法术身体素质远超人类寿元极长,但害怕身份暴露且不擅长隐藏情绪容易露馅',角色类型:'次要红颜'}}),红颜:l.z.record(l.z.string().describe('红颜名'),l.z.object({等级:l.z.coerce.number().transform(e=>_.clamp(e,1,36)).prefault(1),修为:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),灵根:l.z.string().prefault('五行杂灵根'),体质:l.z.string().prefault('凡体'),功法:l.z.string().prefault('无'),本命兵器:l.z.string().prefault('无'),神通列表:l.z.record(l.z.string().describe('神通名'),l.z.string().describe('神通描述')).prefault({}),灵石:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),已活岁月:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),尝试突破:l.z.boolean().prefault(!1),好感度:l.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),关系:l.z.string().prefault('陌生人'),重要性:l.z.string().prefault('路人')}).transform(e=>{const t=e.等级,a=i[t-1]??100,r=d[t-1]??100,n=Math.floor((t-1)/4),o=`${c[n]??'练气'}${s[(t-1)%4]??'初期'}`,l=`${e.已活岁月}/${r}`,b=e.尝试突破?'突破中':e.修为>=a?'瓶颈期':'修炼中',g=`${(e.修为/a*100).toFixed(1)}%`;return{...e,突破阈值:a,寿元上限:r,境界描述:o,寿元状态:l,状态:b,进度:g}})).prefault({}),NPC图鉴:l.z.record(l.z.string().describe('NPC名'),l.z.object({等级:l.z.coerce.number().transform(e=>_.clamp(e,1,36)).prefault(1),修为:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),灵根:l.z.string().prefault('五行杂灵根'),体质:l.z.string().prefault('凡体'),功法:l.z.string().prefault('无'),本命兵器:l.z.string().prefault('无'),神通列表:l.z.record(l.z.string().describe('神通名'),l.z.string().describe('神通描述')).prefault({}),灵石:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),已活岁月:l.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),尝试突破:l.z.boolean().prefault(!1),所在宗门:l.z.string().prefault('散修')})).prefault({}),任务列表:l.z.record(l.z.string().describe('任务名'),l.z.object({类型:l.z.enum(['主线','支线','每日','临危受命']),说明:l.z.string().describe('面向{{user}}的任务背景或细则'),目标:l.z.string().describe('明确可执行的目标描述'),奖励:l.z.string(),惩罚:l.z.string().describe('失败后触发的负面效果'),状态:l.z.enum(['进行中','已完成','已失败']).prefault('进行中')})).prefault({}),声望系统:l.z.record(l.z.string().describe('势力名'),l.z.object({声望值:l.z.coerce.number().transform(e=>_.clamp(e,-100,100)),称号:l.z.string().optional(),关系描述:l.z.string()})).prefault({})}),h={火:{effect:'灼烧',visual:'烈焰',nature:'爆裂',color:'#ff4444'},水:{effect:'缠绕',visual:'激流',nature:'柔韧',color:'#4488ff'},冰:{effect:'冻结',visual:'寒霜',nature:'极寒',color:'#88ddff'},雷:{effect:'麻痹',visual:'紫电',nature:'狂暴',color:'#aa44ff'},风:{effect:'切割',visual:'罡风',nature:'无形',color:'#88ff88'},土:{effect:'镇压',visual:'岩铠',nature:'厚重',color:'#aa8844'},木:{effect:'寄生',visual:'藤蔓',nature:'生生不息',color:'#44aa44'},金:{effect:'穿透',visual:'锐金',nature:'锋利',color:'#ffdd44'},暗:{effect:'腐蚀',visual:'黑雾',nature:'诡谲',color:'#442244'},光:{effect:'净化',visual:'圣辉',nature:'神圣',color:'#ffffaa'},混沌:{effect:'湮灭',visual:'灰光',nature:'虚无',color:'#888888'}};function N(e){return['#888888','#44aa44','#4488ff','#aa44ff','#ff4444','#ffaa00','#ffdd44','#ffffff','#ff88ff'][Math.floor((e-1)/4)]||'#888888'}function E(e){return e>=90?'#ff0000':e>=70?'#ff4400':e>=50?'#ff8800':e>=30?'#ffcc00':'#44aa44'}const V={孟十七:{normal:{front:'https://files.catbox.moe/c1su29.jpg',back:'https://files.catbox.moe/c1su29.jpg'},shy:'https://files.catbox.moe/8doe0f.jpg',smile:'https://files.catbox.moe/8doe0f.jpg',angry:'https://files.catbox.moe/c1su29.jpg',cry:'https://files.catbox.moe/c1su29.jpg',surprise:'https://files.catbox.moe/8doe0f.jpg'},白清弦:{normal:{front:'random_front',back:'random_back'}},虞汐颜:{normal:{front:'random_dual_front',back:'random_dual_back'}}},k={白清弦:{front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦1.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦2.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦3.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦4.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦5.png'],back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦6.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦7.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦8.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦9.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦10.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦11.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦12.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦13.png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦14.png']},虞汐颜:{虞汐_front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (1).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (16).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (2).png'],虞汐_back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (17).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (4).png'],虞颜_front:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (15).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (14).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (13).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (12).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (11).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (10).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (9).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (8).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (7).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (6).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (1).png'],虞颜_back:['https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (5).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (4).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (3).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (2).png','https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (18).png']}},B='normal',x='https://files.catbox.moe/placeholder.jpg';let S=null,C=!1;function M(e,t){const a=k[e];if(!a)return console.warn(`[图鉴] 未找到角色 "${e}" 的图片池`),x;const r=a[t];if(!r||0===r.length)return console.warn(`[图鉴] 角色 "${e}" 的 ${t} 图片池为空`),x;return r[Math.floor(Math.random()*r.length)]}function D(e){const t=k['虞汐颜'];if(!t)return console.warn('[图鉴] 未找到虞汐颜的图片池'),{url:x,soulName:'虞汐颜'};if('front'===e){if(C)return console.info('[图鉴] 虞汐颜卡片已生成，跳过重复生成'),null;C=!0;const e=Math.random()<.5?'虞汐':'虞颜';S=e;const a=t[`${e}_front`];if(!a||0===a.length)return console.warn(`[图鉴] 虞汐颜的 ${e} 正面图片池为空`),{url:x,soulName:e};const r=Math.floor(Math.random()*a.length);return console.info(`[图鉴] 虞汐颜正面选择: ${e}`),{url:a[r],soulName:e}}{const e='虞汐'===S?'虞颜':'虞汐',a=t[`${e}_back`];if(!a||0===a.length)return console.warn(`[图鉴] 虞汐颜的 ${e} 背面图片池为空`),{url:x,soulName:e};const r=Math.floor(Math.random()*a.length);return console.info(`[图鉴] 虞汐颜背面选择: ${e}`),{url:a[r],soulName:e}}}function w(e,t){if('string'==typeof e)return{front:e,back:e};if('虞汐颜'===t&&'random_dual_front'===e.front){const e=D('front');if(null===e)return null;const t=D('back');return null===t?null:{front:e.url,back:t.url,frontName:e.soulName,backName:t.soulName}}let a=e.front,r=e.back??e.front;return'random_front'===a&&(a=M(t,'front')),'random_back'===r&&(r=M(t,'back')),{front:a,back:r}}function A(e,t,a){const r=V[e];if(!r)return{front:x,back:x};const n=r[t]??r[B];if(!n)return{front:x,back:x};const o=w(n,e);return null===o?null:{front:o.front,back:o.back,frontName:o.frontName,backName:o.backName}}const j={cloudImage:'url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)',cloudsMulti:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)\n  ',cloudsWithStars:'\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\n    radial-gradient(circle at 25% 20%, rgba(255, 255, 255, 0.15) 1px, transparent 1px),\n    radial-gradient(circle at 75% 35%, rgba(255, 255, 255, 0.12) 1.5px, transparent 1.5px),\n    radial-gradient(circle at 35% 75%, rgba(255, 255, 255, 0.1) 1px, transparent 1px)\n  ',stars:'\n    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),\n    radial-gradient(circle at 80% 60%, rgba(255, 255, 255, 0.25) 1.5px, transparent 1.5px),\n    radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.2) 1px, transparent 1px),\n    radial-gradient(circle at 60% 20%, rgba(255, 255, 255, 0.15) 2px, transparent 2px)\n  ',texture:'\n    repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 10px,\n      rgba(255, 255, 255, 0.03) 10px,\n      rgba(255, 255, 255, 0.03) 20px\n    )\n  ',landscape:'\n    linear-gradient(180deg,\n      transparent 0%,\n      rgba(255, 255, 255, 0.02) 30%,\n      rgba(255, 255, 255, 0.05) 50%,\n      rgba(255, 255, 255, 0.02) 70%,\n      transparent 100%\n    )\n  ',lotus:'\n    radial-gradient(ellipse 120px 80px at 50% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 50%)\n  '},T=[{id:'default',name:'玄青仙境',description:'深邃玄青，如夜空星辰',colors:{bgPrimary:'linear-gradient(180deg, rgba(49, 66, 117, 0.95) 0%, rgba(15, 20, 35, 0.98) 100%)',bgSecondary:'rgba(30, 40, 60, 0.5)',border:'rgba(100, 150, 200, 0.3)',borderActive:'rgba(100, 150, 200, 0.6)',textPrimary:'#e0e8f0',textSecondary:'#8090a0',textAccent:'#a0b8d0',accent:'#88aacc',accentGlow:'rgba(100, 150, 255, 0.3)',buttonBg:'rgba(100, 150, 200, 0.2)',buttonHover:'rgba(100, 150, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',progressBg:'rgba(50, 60, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(60, 80, 120, 0.4) 0%, rgba(80, 60, 100, 0.4) 100%)',tabBg:'rgba(30, 40, 60, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',footerBg:'rgba(20, 30, 45, 0.8)'},patterns:{overlay:j.cloudsWithStars}},{id:'purple',name:'紫霞仙踪',description:'紫气东来，霞光万道',colors:{bgPrimary:'linear-gradient(180deg, rgba(80, 40, 100, 0.95) 0%, rgba(30, 15, 40, 0.98) 100%)',bgSecondary:'rgba(50, 30, 70, 0.5)',border:'rgba(150, 100, 200, 0.3)',borderActive:'rgba(180, 120, 220, 0.6)',textPrimary:'#f0e0f8',textSecondary:'#a080b0',textAccent:'#c0a0d0',accent:'#aa88cc',accentGlow:'rgba(150, 100, 255, 0.4)',buttonBg:'rgba(150, 100, 200, 0.2)',buttonHover:'rgba(150, 100, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',progressBg:'rgba(60, 40, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(80, 50, 100, 0.4) 0%, rgba(100, 40, 120, 0.4) 100%)',tabBg:'rgba(50, 30, 70, 0.5)',tabActive:'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',footerBg:'rgba(30, 20, 50, 0.8)'},patterns:{overlay:j.cloudsMulti}},{id:'red',name:'赤炎烈焰',description:'烈火焚天，赤炎千里',colors:{bgPrimary:'linear-gradient(180deg, rgba(100, 40, 40, 0.95) 0%, rgba(40, 15, 15, 0.98) 100%)',bgSecondary:'rgba(70, 30, 30, 0.5)',border:'rgba(200, 100, 100, 0.3)',borderActive:'rgba(220, 120, 120, 0.6)',textPrimary:'#f8e0e0',textSecondary:'#b08080',textAccent:'#d0a0a0',accent:'#cc8888',accentGlow:'rgba(255, 100, 100, 0.4)',buttonBg:'rgba(200, 100, 100, 0.2)',buttonHover:'rgba(200, 100, 100, 0.3)',buttonActive:'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',progressBg:'rgba(80, 40, 40, 0.8)',headerBg:'linear-gradient(90deg, rgba(100, 50, 50, 0.4) 0%, rgba(120, 40, 40, 0.4) 100%)',tabBg:'rgba(70, 30, 30, 0.5)',tabActive:'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',footerBg:'rgba(50, 20, 20, 0.8)'},patterns:{overlay:j.cloudsMulti}},{id:'cyan',name:'碧海青天',description:'碧波荡漾，海天一色',colors:{bgPrimary:'linear-gradient(180deg, rgba(40, 80, 100, 0.95) 0%, rgba(15, 30, 40, 0.98) 100%)',bgSecondary:'rgba(30, 60, 70, 0.5)',border:'rgba(100, 180, 200, 0.3)',borderActive:'rgba(120, 200, 220, 0.6)',textPrimary:'#e0f0f8',textSecondary:'#80a0b0',textAccent:'#a0c0d0',accent:'#88ccdd',accentGlow:'rgba(100, 200, 255, 0.4)',buttonBg:'rgba(100, 180, 200, 0.2)',buttonHover:'rgba(100, 180, 200, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',progressBg:'rgba(40, 60, 80, 0.8)',headerBg:'linear-gradient(90deg, rgba(50, 80, 100, 0.4) 0%, rgba(40, 100, 120, 0.4) 100%)',tabBg:'rgba(30, 60, 70, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',footerBg:'rgba(20, 40, 50, 0.8)'},patterns:{overlay:j.cloudsWithStars}},{id:'gold',name:'金辉灿烂',description:'金光璀璨，辉映九天',colors:{bgPrimary:'linear-gradient(180deg, rgba(80, 70, 40, 0.95) 0%, rgba(30, 25, 15, 0.98) 100%)',bgSecondary:'rgba(60, 50, 30, 0.5)',border:'rgba(200, 180, 100, 0.3)',borderActive:'rgba(220, 200, 120, 0.6)',textPrimary:'#f8f0e0',textSecondary:'#b0a080',textAccent:'#d0c0a0',accent:'#ccaa88',accentGlow:'rgba(255, 200, 100, 0.4)',buttonBg:'rgba(200, 180, 100, 0.2)',buttonHover:'rgba(200, 180, 100, 0.3)',buttonActive:'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',progressBg:'rgba(60, 50, 40, 0.8)',headerBg:'linear-gradient(90deg, rgba(80, 70, 50, 0.4) 0%, rgba(100, 80, 40, 0.4) 100%)',tabBg:'rgba(60, 50, 30, 0.5)',tabActive:'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',footerBg:'rgba(40, 35, 20, 0.8)'},patterns:{overlay:j.cloudsMulti}},{id:'green',name:'翠竹清风',description:'竹影婆娑，清风徐来',colors:{bgPrimary:'linear-gradient(180deg, rgba(40, 80, 60, 0.95) 0%, rgba(15, 30, 25, 0.98) 100%)',bgSecondary:'rgba(30, 60, 50, 0.5)',border:'rgba(100, 180, 150, 0.3)',borderActive:'rgba(120, 200, 170, 0.6)',textPrimary:'#e0f8f0',textSecondary:'#80b0a0',textAccent:'#a0d0c0',accent:'#88ccaa',accentGlow:'rgba(100, 255, 200, 0.4)',buttonBg:'rgba(100, 180, 150, 0.2)',buttonHover:'rgba(100, 180, 150, 0.3)',buttonActive:'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',progressBg:'rgba(40, 60, 50, 0.8)',headerBg:'linear-gradient(90deg, rgba(50, 80, 70, 0.4) 0%, rgba(40, 100, 80, 0.4) 100%)',tabBg:'rgba(30, 60, 50, 0.5)',tabActive:'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',footerBg:'rgba(20, 40, 35, 0.8)'},patterns:{overlay:j.cloudsMulti}}];function P(e){return T.find(t=>t.id===e)}function F(e){C=!1,S=null,console.info('[图鉴] 虞汐颜会话缓存已重置');const t=[];for(const a of e){const e=A(a.name,a.img_code,a.back_img_code);null!==e?t.push({name:a.name,front:e.front,back:e.back,backText:a.back_text||'',isFlipped:!1,frontName:e.frontName,backName:e.backName}):console.info(`[图鉴] 跳过重复的 ${a.name} 卡片`)}return t}const I=t('data',errorCatched(()=>{const e=getCurrentMessageId(),t=(0,o.ref)(null),r=(0,o.ref)([]),n=new Map,l=(a=0)=>{try{const a=getVariables({type:'message',message_id:e}),r=_.get(a,'stat_data',null);if(r&&Object.keys(r).length>0)t.value=y.parse(r);else if(null==r){const e=y.parse({});return t.value=e,console.info('[踏月寻仙] 使用默认值初始化变量数据',{等级:e.本尊.等级,灵根:e.本尊.灵根,体质:e.本尊.体质,功法:e.本尊.功法}),toastr.info('当前楼层无数据，已使用默认值初始化','踏月寻仙'),void d()}console.info('[踏月寻仙] 成功加载变量数据',{等级:t.value?.本尊.等级,灵根:t.value?.本尊.灵根,体质:t.value?.本尊.体质,功法:t.value?.本尊.功法}),d()}catch(e){console.error('[踏月寻仙] 初始化数据失败',e),a<5?(console.info(`[踏月寻仙] 数据未就绪，200ms后第${a+1}次重试`),setTimeout(()=>{l(a+1)},200)):(console.warn('[踏月寻仙] 重试次数已用完，尝试手动触发MVU解析'),c())}},c=async()=>{try{await waitGlobalInitialized('Mvu');const a=getChatMessages(e);if(0===a.length)return console.warn('[踏月寻仙] 无法获取当前消息内容'),void s();const r=a[0].message||'';console.info('[踏月寻仙] 尝试手动触发MVU解析，消息长度:',r.length);const n=Mvu.getMvuData({type:'message',message_id:e}),o=await Mvu.parseMessage(r,n);await Mvu.replaceMvuData(o,{type:'message',message_id:e}),console.info('[踏月寻仙] MVU手动解析完成，重新加载数据'),setTimeout(()=>{const a=getVariables({type:'message',message_id:e}),r=_.get(a,'stat_data',null);r&&Object.keys(r).length>0?(t.value=y.parse(r),console.info('[踏月寻仙] ✅ 手动解析后成功加载数据'),toastr.success('已成功初始化状态数据','踏月寻仙'),d()):(console.warn('[踏月寻仙] 手动解析后仍无数据，使用备用方案'),s())},500)}catch(e){console.error('[踏月寻仙] 手动触发MVU解析失败',e),s()}},s=()=>{console.warn('[踏月寻仙] 启用备用方案');const r=getChatMessages(e);if(r.length>0&&'user'===r[0].role)return console.warn('[踏月寻仙] 当前是用户输入楼层，不自动继承数据，等待 MVU 解析'),t.value=y.parse({}),toastr.info('等待变量初始化...','踏月寻仙'),void d();const n=i();n?(t.value=n,updateVariablesWith(e=>(_.set(e,'stat_data',a(n)),e),{type:'message',message_id:e}),console.info('[踏月寻仙] 成功继承上一楼层数据并保存到当前楼层'),toastr.success('已自动继承上一楼层的状态数据','踏月寻仙')):(console.warn('[踏月寻仙] 无法继承数据，使用默认值'),t.value=y.parse({}),toastr.info('使用默认状态数据','踏月寻仙')),d()},i=()=>{try{const t=getChatMessages('0-{{lastMessageId}}'),a=t.findIndex(t=>t.message_id===e);if(-1===a)return console.warn('[踏月寻仙] 无法找到当前楼层索引'),null;for(let e=a-1;e>=0;e--){const a=t[e].message_id,r=getVariables({type:'message',message_id:a}),n=_.get(r,'stat_data',null);if(n){const e=y.parse(n);return console.info(`[踏月寻仙] 从第 ${a} 楼继承数据`),e}}return console.warn('[踏月寻仙] 前面的楼层都没有有效数据'),null}catch(e){return console.error('[踏月寻仙] 继承数据时出错',e),null}},d=()=>{try{const t=getChatMessages(e);if(t.length>0){const a=t[0].message||'',o=`${e}_${a.length}`;if(n.has(o))return r.value=n.get(o),void console.info('[图鉴] 使用缓存的角色卡片');const l=function(e){try{const t=e.match(/<visual_cards>\s*([\s\S]*?)\s*<\/visual_cards>/);if(!t)return[];const a=t[1].trim();if(!a)return[];const r=JSON.parse(a);return Array.isArray(r)?r.filter(e=>e.name&&e.img_code&&'string'==typeof e.back_text):(console.warn('[图鉴] visual_cards 不是数组'),[])}catch(e){return console.error('[图鉴] 解析 visual_cards 失败',e),[]}}(a);if(l.length>0){const e=F(l);r.value=e,n.set(o,e),b(e),console.info('[图鉴] 解析到角色卡片',e.length,'张')}else r.value=[]}}catch(e){console.error('[图鉴] 解析消息卡片失败',e),toastr.warning(`解析角色卡片失败: ${e instanceof Error?e.message:'未知错误'}`,'图鉴')}},b=e=>{e.forEach(e=>{(new Image).src=e.front;(new Image).src=e.back}),console.info('[图鉴] 开始预加载',2*e.length,'张图片')};waitGlobalInitialized('Mvu').then(()=>{console.info('[踏月寻仙] MVU 框架已初始化，开始加载数据'),l()}).catch(()=>{console.warn('[踏月寻仙] MVU 框架未加载，直接初始化'),l()}),eventOn(tavern_events.MESSAGE_UPDATED,t=>{t===e&&(console.info('[踏月寻仙] 检测到消息更新，重新加载数据'),setTimeout(()=>l(),200))}),eventOn(tavern_events.MESSAGE_DELETED,e=>{console.info('[踏月寻仙] 检测到消息删除（可能是重新roll），准备重新初始化')}),eventOn(tavern_events.MESSAGE_RECEIVED,t=>{t===e&&(console.info('[踏月寻仙] 检测到新消息接收，重新加载数据'),setTimeout(()=>l(),500))}),waitGlobalInitialized('Mvu').then(()=>{console.info('[踏月寻仙] 开始监听 MVU 变量更新事件'),eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,(e,a)=>{try{const a=_.get(e,'stat_data',null);console.info('[踏月寻仙] MVU 变量更新事件触发',{has_stat_data:null!==a&&Object.keys(a).length>0,new_stat_data:a}),a&&Object.keys(a).length>0?(t.value=null,(0,o.nextTick)(()=>{const e=y.parse(a);t.value=e,console.info('[踏月寻仙] ✅ MVU 变量已强制更新',{等级:e.本尊.等级,灵根:e.本尊.灵根,体质:e.本尊.体质,功法:e.本尊.功法,本命兵器:e.本尊.本命兵器,灵石:e.本尊.灵石})})):console.warn('[踏月寻仙] stat_data 为空，跳过更新')}catch(e){console.error('[踏月寻仙] 处理 MVU 变量更新失败',e)}})}).catch(e=>{console.warn('[踏月寻仙] MVU 框架未加载，将仅显示静态数据',e)});const g=(0,o.computed)(()=>t.value?.世界时钟??{纪元:'末法时代',年份:1}),p=(0,o.computed)(()=>t.value?.世界地图??{}),f=(0,o.computed)(()=>t.value?.世界图志??{}),u=(0,o.computed)(()=>t.value?.本尊??y.parse({}).本尊),m=(0,o.computed)(()=>t.value?.红颜??{}),v=(0,o.computed)(()=>t.value?.NPC图鉴??{}),h=(0,o.computed)(()=>null!==t.value),N=(0,o.computed)(()=>r.value.length>0);return{rawData:t,世界时钟:g,世界地图:p,世界图志:f,本尊:u,红颜:m,NPC图鉴:v,hasData:h,refresh:l,galleryCards:r,hasGalleryCards:N,toggleCardFlip:e=>{r.value[e]&&(r.value[e].isFlipped=!r.value[e].isFlipped)},parseCurrentMessageCards:d}})),G=t('theme',()=>{const e=(0,o.ref)('default'),t=(0,o.computed)(()=>P(e.value)||T[0]),a=(0,o.computed)(()=>T);return(()=>{try{const t=getCurrentMessageId(),a=getVariables({type:'message',message_id:t}),r=_.get(a,'ui_theme_id','default');'string'==typeof r&&P(r)?(e.value=r,console.info('[主题] 加载已保存的主题:',r)):(e.value='default',console.info('[主题] 使用默认主题'))}catch(t){console.warn('[主题] 加载主题失败，使用默认主题',t),e.value='default'}})(),{currentThemeId:e,currentTheme:t,availableThemes:a,setTheme:a=>{if(P(a)){e.value=a;try{const e=getCurrentMessageId();updateVariablesWith(e=>(_.set(e,'ui_theme_id',a),e),{type:'message',message_id:e}),console.info('[主题] 主题已切换并保存:',a),toastr.success(`已切换至「${t.value.name}」主题`,'踏月寻仙')}catch(e){console.error('[主题] 保存主题失败',e),toastr.warning('主题切换成功，但保存失败','踏月寻仙')}}else console.warn('[主题] 无效的主题ID:',a)}}}),O={class:'header'},U={class:'header-left'},L=['title'],H={class:'world-time'},W={class:'theme-selector-header'},R={class:'theme-list'},J=['onClick'],q={class:'theme-info'},K={class:'theme-name'},Q={class:'theme-desc'},X={key:0,class:'fa-solid fa-check theme-check'},Y={class:'tab-nav'},Z=['onClick'],ee={class:'content'},te={key:0,class:'panel cultivation-panel'},ae={class:'identity-section'},re={class:'identity-name'},ne={class:'identity-info'},oe={class:'realm-section'},le={class:'realm-status'},ce={class:'progress-section'},se={class:'progress-label'},ie={class:'progress-bar'},de={class:'progress-percent'},be={class:'stats-grid'},ge={class:'stat-item'},pe={class:'stat-item'},fe={class:'stat-value'},ue={class:'stat-item'},me={class:'stat-value'},ve={class:'stat-item'},ye={class:'stat-value'},he={class:'stat-item'},ze={class:'stat-value gold'},Ne={class:'stat-item'},Ee={class:'stat-value'},Ve={class:'panel skills-panel'},ke={class:'skills-list'},Be={class:'skill-name'},_e={class:'skill-desc'},xe={key:0,class:'empty-hint'},Se={class:'panel inventory-panel'},Ce={class:'inventory-section'},Me={class:'items-grid'},De={class:'item-name'},we={class:'item-rank'},Ae={class:'item-desc'},je={key:0,class:'empty-hint'},$e={class:'inventory-section'},Te={class:'items-grid'},Pe={class:'item-header'},Fe={class:'item-name'},Ie={class:'item-count'},Ge={class:'item-rank'},Oe={class:'item-desc'},Ue={key:0,class:'empty-hint'},Le={class:'panel companions-panel'},He={class:'companions-list'},We={class:'companion-header'},Re={class:'companion-name'},Je={class:'companion-relation'},qe={class:'relation-value'},Ke={class:'companion-favor'},Qe={class:'favor-bar'},Xe={class:'favor-value'},Ye={key:0,class:'empty-hint'},Ze={class:'panel map-panel'},et={class:'current-location'},tt={class:'location-name'},at={class:'location-layer'},rt={class:'location-desc'},nt={class:'connections'},ot={class:'connections-list'},lt={key:0,class:'empty-hint',style:{padding:'10px'}},ct={class:'panel gallery-panel'},st={key:0,class:'gallery-container'},it=['onClick'],dt={class:'card-inner'},bt={class:'card-face card-front'},gt=['src','alt'],pt={class:'card-name-bar'},ft={class:'card-face card-back'},ut={class:'back-content'},mt=['src','alt'],vt={class:'back-info-panel'},yt={class:'back-name'},ht={class:'back-text'},zt={key:1,class:'empty-hint'},Nt={class:'footer'},Et={class:'footer-item'},Vt={class:'footer-item'},kt=(0,o.defineComponent)({__name:'app',setup(e){const t=I(),a=G(),r=[{id:'cultivation',label:'修炼',icon:'fa-solid fa-yin-yang'},{id:'skills',label:'神通',icon:'fa-solid fa-hand-sparkles'},{id:'inventory',label:'储物',icon:'fa-solid fa-box-open'},{id:'companions',label:'红颜',icon:'fa-solid fa-heart'},{id:'map',label:'行踪',icon:'fa-solid fa-map'},{id:'gallery',label:'图鉴',icon:'fa-solid fa-images'}],n=(0,o.ref)('gallery'),l=(0,o.ref)(!1),c=(0,o.ref)(!1),s=()=>{l.value=!l.value},i=()=>{c.value=!c.value},d=(0,o.computed)(()=>{const e=a.currentTheme;return{'--bg-primary':e.colors.bgPrimary,'--bg-secondary':e.colors.bgSecondary,'--border-color':e.colors.border,'--border-active':e.colors.borderActive,'--text-primary':e.colors.textPrimary,'--text-secondary':e.colors.textSecondary,'--text-accent':e.colors.textAccent,'--accent-color':e.colors.accent,'--accent-glow':e.colors.accentGlow,'--button-bg':e.colors.buttonBg,'--button-hover':e.colors.buttonHover,'--button-active':e.colors.buttonActive,'--progress-bg':e.colors.progressBg,'--header-bg':e.colors.headerBg,'--tab-bg':e.colors.tabBg,'--tab-active':e.colors.tabActive,'--footer-bg':e.colors.footerBg,'--pattern-overlay':e.patterns.overlay||'none'}}),b=(0,o.computed)(()=>N(t.本尊.等级)),g=(0,o.computed)(()=>function(e){for(const[t,a]of Object.entries(h))if(e.includes(t))return a.color;return'#aaaaaa'}(t.本尊.灵根)),p=(0,o.computed)(()=>E(t.本尊.行踪.危险度??10)),f=(0,o.computed)(()=>{const e=t.本尊.行踪.所属层级;return'天层'===e?'#88ddff':'下层'===e?'#ff4444':'#44aa44'}),u=e=>{const a=t.世界地图[e];return a?E(a.danger):'#888888'};return(e,m)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)(['cultivation-status',{collapsed:(0,o.unref)(l)}]),style:(0,o.normalizeStyle)((0,o.unref)(d))},[(0,o.createCommentVNode)(' 背景图案层 '),m[24]||(m[24]=(0,o.createElementVNode)('div',{class:'pattern-overlay'},null,-1)),(0,o.createCommentVNode)(' 仙鹤装饰 - 顶部中央 '),m[25]||(m[25]=(0,o.createElementVNode)('div',{class:'crane-decoration'},[(0,o.createElementVNode)('img',{src:'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/仙鹤.png',alt:'仙鹤'})],-1)),(0,o.createCommentVNode)(' 顶部：折叠按钮 + 世界时钟与位置 '),(0,o.createElementVNode)('div',O,[(0,o.createElementVNode)('div',U,[(0,o.createElementVNode)('button',{class:'collapse-btn',onClick:s,title:(0,o.unref)(l)?'展开状态栏':'收起状态栏'},[(0,o.createElementVNode)('i',{class:(0,o.normalizeClass)((0,o.unref)(l)?'fa-solid fa-chevron-down':'fa-solid fa-chevron-up')},null,2)],8,L),(0,o.createElementVNode)('button',{class:'theme-btn',onClick:i,title:'切换主题'},[...m[3]||(m[3]=[(0,o.createElementVNode)('i',{class:'fa-solid fa-palette'},null,-1)])])]),(0,o.createElementVNode)('div',H,[m[4]||(m[4]=(0,o.createElementVNode)('i',{class:'fa-solid fa-moon'},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).世界时钟.纪元)+' · 第'+(0,o.toDisplayString)((0,o.unref)(t).世界时钟.年份)+'年',1)]),(0,o.createElementVNode)('div',{class:'location',style:(0,o.normalizeStyle)({color:(0,o.unref)(f)})},[m[5]||(m[5]=(0,o.createElementVNode)('i',{class:'fa-solid fa-location-dot'},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.行踪.当前区域),1),(0,o.createElementVNode)('span',{class:'danger-badge',style:(0,o.normalizeStyle)({backgroundColor:(0,o.unref)(p)})},' 危险度 '+(0,o.toDisplayString)((0,o.unref)(t).本尊.行踪.危险度??10),5)],4)]),(0,o.createCommentVNode)(' 主题选择器弹窗 '),(0,o.createVNode)(o.Transition,{name:'theme-selector-fade'},{default:(0,o.withCtx)(()=>[(0,o.unref)(c)?((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:0,class:'theme-selector-overlay',onClick:m[2]||(m[2]=e=>c.value=!1)},[(0,o.createElementVNode)('div',{class:'theme-selector',onClick:m[1]||(m[1]=(0,o.withModifiers)(()=>{},['stop']))},[(0,o.createElementVNode)('div',W,[m[7]||(m[7]=(0,o.createElementVNode)('h3',null,[(0,o.createElementVNode)('i',{class:'fa-solid fa-palette'}),(0,o.createTextVNode)(' 选择主题')],-1)),(0,o.createElementVNode)('button',{class:'close-btn',onClick:m[0]||(m[0]=e=>c.value=!1)},[...m[6]||(m[6]=[(0,o.createElementVNode)('i',{class:'fa-solid fa-times'},null,-1)])])]),(0,o.createElementVNode)('div',R,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(a).availableThemes,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.id,class:(0,o.normalizeClass)(['theme-item',{active:e.id===(0,o.unref)(a).currentThemeId}]),onClick:t=>{return r=e.id,a.setTheme(r),void(c.value=!1);var r}},[(0,o.createElementVNode)('div',{class:'theme-preview',style:(0,o.normalizeStyle)({background:e.colors.bgPrimary})},[(0,o.createElementVNode)('div',{class:'theme-preview-border',style:(0,o.normalizeStyle)({borderColor:e.colors.border})},null,4)],4),(0,o.createElementVNode)('div',q,[(0,o.createElementVNode)('div',K,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)('div',Q,(0,o.toDisplayString)(e.description),1)]),e.id===(0,o.unref)(a).currentThemeId?((0,o.openBlock)(),(0,o.createElementBlock)('i',X)):(0,o.createCommentVNode)('v-if',!0)],10,J))),128))])])])):(0,o.createCommentVNode)('v-if',!0)]),_:1}),(0,o.createCommentVNode)(' 主体：标签页导航 '),(0,o.createElementVNode)('div',Y,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r,e=>(0,o.createElementVNode)('button',{key:e.id,class:(0,o.normalizeClass)(['tab-btn',{active:(0,o.unref)(n)===e.id}]),onClick:t=>n.value=e.id},[(0,o.createElementVNode)('i',{class:(0,o.normalizeClass)(e.icon)},null,2),(0,o.createTextVNode)(' '+(0,o.toDisplayString)(e.label),1)],10,Z)),64))]),(0,o.createCommentVNode)(' 内容区域 '),(0,o.createElementVNode)('div',ee,[(0,o.createCommentVNode)(' 修炼面板 '),'cultivation'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)('div',te,[(0,o.createElementVNode)('div',ae,[(0,o.createElementVNode)('div',re,(0,o.toDisplayString)((0,o.unref)(t).本尊.身份.姓名),1),(0,o.createElementVNode)('div',ne,[(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.身份.宗门),1),m[8]||(m[8]=(0,o.createElementVNode)('span',{class:'divider'},'·',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.身份.出身),1)])]),(0,o.createElementVNode)('div',oe,[(0,o.createElementVNode)('div',{class:'realm-title',style:(0,o.normalizeStyle)({color:(0,o.unref)(b)})},[m[9]||(m[9]=(0,o.createElementVNode)('i',{class:'fa-solid fa-yin-yang'},null,-1)),(0,o.createTextVNode)(' '+(0,o.toDisplayString)((0,o.unref)(t).本尊.境界描述),1)],4),(0,o.createElementVNode)('div',le,(0,o.toDisplayString)((0,o.unref)(t).本尊.状态),1)]),(0,o.createElementVNode)('div',ce,[(0,o.createElementVNode)('div',se,[m[10]||(m[10]=(0,o.createElementVNode)('span',null,'修为进度',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.修为)+' / '+(0,o.toDisplayString)((0,o.unref)(t).本尊.突破阈值),1)]),(0,o.createElementVNode)('div',ie,[(0,o.createElementVNode)('div',{class:'progress-fill',style:(0,o.normalizeStyle)({width:(0,o.unref)(t).本尊.进度,backgroundColor:(0,o.unref)(b)})},null,4)]),(0,o.createElementVNode)('div',de,(0,o.toDisplayString)((0,o.unref)(t).本尊.进度),1)]),(0,o.createElementVNode)('div',be,[(0,o.createElementVNode)('div',ge,[m[11]||(m[11]=(0,o.createElementVNode)('div',{class:'stat-label'},'灵根',-1)),(0,o.createElementVNode)('div',{class:'stat-value',style:(0,o.normalizeStyle)({color:(0,o.unref)(g)})},(0,o.toDisplayString)((0,o.unref)(t).本尊.灵根),5)]),(0,o.createElementVNode)('div',pe,[m[12]||(m[12]=(0,o.createElementVNode)('div',{class:'stat-label'},'体质',-1)),(0,o.createElementVNode)('div',fe,(0,o.toDisplayString)((0,o.unref)(t).本尊.体质),1)]),(0,o.createElementVNode)('div',ue,[m[13]||(m[13]=(0,o.createElementVNode)('div',{class:'stat-label'},'功法',-1)),(0,o.createElementVNode)('div',me,(0,o.toDisplayString)((0,o.unref)(t).本尊.功法),1)]),(0,o.createElementVNode)('div',ve,[m[14]||(m[14]=(0,o.createElementVNode)('div',{class:'stat-label'},'本命兵器',-1)),(0,o.createElementVNode)('div',ye,(0,o.toDisplayString)((0,o.unref)(t).本尊.本命兵器),1)]),(0,o.createElementVNode)('div',he,[m[15]||(m[15]=(0,o.createElementVNode)('div',{class:'stat-label'},'灵石',-1)),(0,o.createElementVNode)('div',ze,(0,o.toDisplayString)((0,o.unref)(t).本尊.灵石),1)]),(0,o.createElementVNode)('div',Ne,[m[16]||(m[16]=(0,o.createElementVNode)('div',{class:'stat-label'},'寿元',-1)),(0,o.createElementVNode)('div',Ee,(0,o.toDisplayString)((0,o.unref)(t).本尊.寿元状态),1)])])])):'skills'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createCommentVNode)(' 神通面板 '),(0,o.createElementVNode)('div',Ve,[(0,o.createElementVNode)('div',ke,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).本尊.神通列表,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'skill-item'},[(0,o.createElementVNode)('div',Be,(0,o.toDisplayString)(t),1),(0,o.createElementVNode)('div',_e,(0,o.toDisplayString)(e),1)]))),128)),(0,o.unref)(t).本尊.神通列表&&0!==Object.keys((0,o.unref)(t).本尊.神通列表).length?(0,o.createCommentVNode)('v-if',!0):((0,o.openBlock)(),(0,o.createElementBlock)('div',xe,' 尚未领悟任何神通 '))])])],2112)):'inventory'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[(0,o.createCommentVNode)(' 储物面板 '),(0,o.createElementVNode)('div',Se,[(0,o.createElementVNode)('div',Ce,[m[17]||(m[17]=(0,o.createElementVNode)('div',{class:'section-title'},[(0,o.createElementVNode)('i',{class:'fa-solid fa-gem'}),(0,o.createTextVNode)(' 法宝 ')],-1)),(0,o.createElementVNode)('div',Me,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).本尊.法宝,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'item-card treasure'},[(0,o.createElementVNode)('div',De,(0,o.toDisplayString)(e.名称),1),(0,o.createElementVNode)('div',we,(0,o.toDisplayString)(e.品阶),1),(0,o.createElementVNode)('div',Ae,(0,o.toDisplayString)(e.描述),1)]))),128)),0===Object.keys((0,o.unref)(t).本尊.法宝).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',je,'空空如也')):(0,o.createCommentVNode)('v-if',!0)])]),(0,o.createElementVNode)('div',$e,[m[18]||(m[18]=(0,o.createElementVNode)('div',{class:'section-title'},[(0,o.createElementVNode)('i',{class:'fa-solid fa-box-open'}),(0,o.createTextVNode)(' 储物戒 ')],-1)),(0,o.createElementVNode)('div',Te,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).本尊.背包,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'item-card'},[(0,o.createElementVNode)('div',Pe,[(0,o.createElementVNode)('span',Fe,(0,o.toDisplayString)(e.名称),1),(0,o.createElementVNode)('span',Ie,'×'+(0,o.toDisplayString)(e.数量),1)]),(0,o.createElementVNode)('div',Ge,(0,o.toDisplayString)(e.品阶),1),(0,o.createElementVNode)('div',Oe,(0,o.toDisplayString)(e.描述),1)]))),128)),0===Object.keys((0,o.unref)(t).本尊.背包).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ue,'空空如也')):(0,o.createCommentVNode)('v-if',!0)])])])],2112)):'companions'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:3},[(0,o.createCommentVNode)(' 红颜面板 '),(0,o.createElementVNode)('div',Le,[(0,o.createElementVNode)('div',He,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).红颜,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'companion-card'},[(0,o.createElementVNode)('div',We,[(0,o.createElementVNode)('span',Re,(0,o.toDisplayString)(t),1),(0,o.createElementVNode)('span',{class:'companion-realm',style:(0,o.normalizeStyle)({color:(0,o.unref)(N)(e.等级)})},(0,o.toDisplayString)(e.境界描述),5)]),(0,o.createElementVNode)('div',Je,[m[19]||(m[19]=(0,o.createElementVNode)('span',{class:'relation-label'},'关系:',-1)),(0,o.createElementVNode)('span',qe,(0,o.toDisplayString)(e.关系),1)]),(0,o.createElementVNode)('div',Ke,[m[20]||(m[20]=(0,o.createElementVNode)('div',{class:'favor-label'},'好感度',-1)),(0,o.createElementVNode)('div',Qe,[(0,o.createElementVNode)('div',{class:'favor-fill',style:(0,o.normalizeStyle)({width:`${Math.abs(e.好感度)}%`,backgroundColor:e.好感度>=0?'#ff6b9d':'#6b7fff'})},null,4)]),(0,o.createElementVNode)('div',Xe,(0,o.toDisplayString)(e.好感度),1)])]))),128)),0===Object.keys((0,o.unref)(t).红颜).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ye,'孑然一身，尚无红颜知己')):(0,o.createCommentVNode)('v-if',!0)])])],2112)):'map'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:4},[(0,o.createCommentVNode)(' 地图面板 '),(0,o.createElementVNode)('div',Ze,[(0,o.createElementVNode)('div',et,[(0,o.createElementVNode)('div',tt,(0,o.toDisplayString)((0,o.unref)(t).本尊.行踪.当前区域),1),(0,o.createElementVNode)('div',at,(0,o.toDisplayString)((0,o.unref)(t).本尊.行踪.所属层级),1),(0,o.createElementVNode)('div',rt,(0,o.toDisplayString)((0,o.unref)(t).本尊.行踪.环境描述),1)]),(0,o.createElementVNode)('div',nt,[m[21]||(m[21]=(0,o.createElementVNode)('div',{class:'connections-title'},'可通往：',-1)),(0,o.createElementVNode)('div',ot,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).本尊.行踪.可用通道,e=>((0,o.openBlock)(),(0,o.createElementBlock)('span',{key:e,class:'connection-item',style:(0,o.normalizeStyle)({borderColor:u(e)})},(0,o.toDisplayString)(e),5))),128)),(0,o.unref)(t).本尊.行踪.可用通道&&0!==(0,o.unref)(t).本尊.行踪.可用通道.length?(0,o.createCommentVNode)('v-if',!0):((0,o.openBlock)(),(0,o.createElementBlock)('div',lt,' 尚未探明通道 '))])])])],2112)):'gallery'===(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:5},[(0,o.createCommentVNode)(' 图鉴面板 - 按比例展示卡片 '),(0,o.createElementVNode)('div',ct,[(0,o.unref)(t).hasGalleryCards?((0,o.openBlock)(),(0,o.createElementBlock)('div',st,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).galleryCards,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:(0,o.normalizeClass)(['gallery-card',{flipped:e.isFlipped}]),onClick:e=>(0,o.unref)(t).toggleCardFlip(a)},[(0,o.createElementVNode)('div',dt,[(0,o.createCommentVNode)(' 正面 '),(0,o.createElementVNode)('div',bt,[(0,o.createElementVNode)('img',{src:e.front,alt:e.frontName||e.name},null,8,gt),(0,o.createElementVNode)('div',pt,(0,o.toDisplayString)(e.frontName||e.name),1)]),(0,o.createCommentVNode)(' 背面 '),(0,o.createElementVNode)('div',ft,[(0,o.createElementVNode)('div',ut,[(0,o.createElementVNode)('img',{src:e.back,alt:e.backName||e.name,class:'back-image'},null,8,mt),(0,o.createElementVNode)('div',vt,[(0,o.createElementVNode)('div',yt,(0,o.toDisplayString)(e.backName||e.name),1),(0,o.createElementVNode)('div',ht,'「'+(0,o.toDisplayString)(e.backText)+'」',1)])])])])],10,it))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('div',zt,' 当前场景暂无角色卡片 '))])],2112)):(0,o.createCommentVNode)('v-if',!0)]),(0,o.createCommentVNode)(' 底部：快捷信息 '),(0,o.createElementVNode)('div',Nt,[(0,o.createElementVNode)('div',Et,[m[22]||(m[22]=(0,o.createElementVNode)('i',{class:'fa-solid fa-coins'},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.灵石)+' 灵石',1)]),(0,o.createElementVNode)('div',Vt,[m[23]||(m[23]=(0,o.createElementVNode)('i',{class:'fa-solid fa-heart'},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(t).本尊.寿元状态),1)])])],6))}});var Bt=function e(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}};return r[t](o,o.exports,e),o.exports}(502);const _t=(0,Bt.A)(kt,[['__scopeId','data-v-7c4d25d8']]);$(()=>{const t=e(),a=(0,o.createApp)(_t);a.use(t),a.mount('#app'),console.info('[踏月寻仙] 状态栏界面已加载')});
//# sourceMappingURL=index.js.map</script><style>.cultivation-status[data-v-7c4d25d8]{width:100%;margin:0 auto;font-family:"Microsoft YaHei","PingFang SC",sans-serif;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;color:var(--text-primary);font-size:14px;transition:all .3s ease;display:flex;flex-direction:column;position:relative}.cultivation-status .pattern-overlay[data-v-7c4d25d8]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:var(--pattern-overlay);background-size:100px 65px,85px 55px,110px 70px,90px 60px,75px 50px;background-position:5% 15%,85% 25%,15% 65%,75% 70%,45% 85%;background-repeat:no-repeat;pointer-events:none;opacity:.25;z-index:0}.cultivation-status .crane-decoration[data-v-7c4d25d8]{position:absolute;top:22px;left:50%;transform:translateX(-50%);width:60px;height:60px;z-index:3;pointer-events:none;animation:crane-float-7c4d25d8 4s ease-in-out infinite}.cultivation-status .crane-decoration img[data-v-7c4d25d8]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 3px 12px rgba(0,0,0,0.4))}@keyframes crane-float-7c4d25d8{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-8px)}}.cultivation-status[data-v-7c4d25d8]>*{position:relative;z-index:1}.cultivation-status.collapsed .tab-nav[data-v-7c4d25d8],.cultivation-status.collapsed .content[data-v-7c4d25d8]{display:none}.cultivation-status.collapsed .header[data-v-7c4d25d8]{border-bottom:none}.header[data-v-7c4d25d8]{display:flex;justify-content:space-between;align-items:center;padding:20px 16px 12px 16px;min-height:80px;background:var(--header-bg);border-bottom:1px solid var(--border-color)}.header .header-left[data-v-7c4d25d8]{display:flex;gap:8px;align-items:center}.header .collapse-btn[data-v-7c4d25d8],.header .theme-btn[data-v-7c4d25d8]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:6px;color:var(--text-accent);cursor:pointer;transition:all .2s}.header .collapse-btn[data-v-7c4d25d8]:hover,.header .theme-btn[data-v-7c4d25d8]:hover{background:var(--button-hover);color:var(--text-primary);border-color:var(--border-active)}.header .collapse-btn i[data-v-7c4d25d8],.header .theme-btn i[data-v-7c4d25d8]{font-size:12px}.header .world-time[data-v-7c4d25d8]{display:flex;align-items:center;gap:6px;color:var(--text-accent)}.header .world-time i[data-v-7c4d25d8]{color:var(--accent-color)}.header .location[data-v-7c4d25d8]{display:flex;align-items:center;gap:8px;margin-left:auto}.header .location .danger-badge[data-v-7c4d25d8]{font-size:10px;padding:2px 6px;border-radius:10px;color:#fff}.theme-selector-overlay[data-v-7c4d25d8]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:1000}.theme-selector[data-v-7c4d25d8]{background:var(--bg-primary);border:2px solid var(--border-active);border-radius:12px;width:90%;max-width:500px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 40px rgba(0,0,0,.5)}.theme-selector .theme-selector-header[data-v-7c4d25d8]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--header-bg);border-bottom:1px solid var(--border-color)}.theme-selector .theme-selector-header h3[data-v-7c4d25d8]{margin:0;font-size:16px;color:var(--text-primary);display:flex;align-items:center;gap:8px}.theme-selector .theme-selector-header h3 i[data-v-7c4d25d8]{color:var(--accent-color)}.theme-selector .theme-selector-header .close-btn[data-v-7c4d25d8]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all .2s}.theme-selector .theme-selector-header .close-btn[data-v-7c4d25d8]:hover{background:var(--button-hover);color:var(--text-primary);border-color:var(--border-active)}.theme-selector .theme-list[data-v-7c4d25d8]{flex:1;overflow-y:auto;padding:12px}.theme-selector .theme-list[data-v-7c4d25d8]::-webkit-scrollbar{width:6px}.theme-selector .theme-list[data-v-7c4d25d8]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.theme-selector .theme-list[data-v-7c4d25d8]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:3px}.theme-selector .theme-list[data-v-7c4d25d8]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.theme-selector .theme-item[data-v-7c4d25d8]{display:flex;align-items:center;gap:12px;padding:12px;margin-bottom:8px;background:var(--bg-secondary);border:2px solid rgba(0,0,0,0);border-radius:8px;cursor:pointer;transition:all .2s;position:relative}.theme-selector .theme-item[data-v-7c4d25d8]:hover{background:var(--button-bg);border-color:var(--border-color)}.theme-selector .theme-item.active[data-v-7c4d25d8]{border-color:var(--border-active);background:var(--button-active)}.theme-selector .theme-item .theme-preview[data-v-7c4d25d8]{width:60px;height:60px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.theme-selector .theme-item .theme-preview .theme-preview-border[data-v-7c4d25d8]{width:40px;height:40px;border:2px solid;border-radius:6px}.theme-selector .theme-item .theme-info[data-v-7c4d25d8]{flex:1}.theme-selector .theme-item .theme-info .theme-name[data-v-7c4d25d8]{font-size:14px;font-weight:bold;color:var(--text-primary);margin-bottom:4px}.theme-selector .theme-item .theme-info .theme-desc[data-v-7c4d25d8]{font-size:12px;color:var(--text-secondary)}.theme-selector .theme-item .theme-check[data-v-7c4d25d8]{color:var(--accent-color);font-size:18px}.theme-selector-fade-enter-active[data-v-7c4d25d8],.theme-selector-fade-leave-active[data-v-7c4d25d8]{transition:opacity .3s}.theme-selector-fade-enter-from[data-v-7c4d25d8],.theme-selector-fade-leave-to[data-v-7c4d25d8]{opacity:0}.tab-nav[data-v-7c4d25d8]{display:flex;padding:8px 12px;gap:4px;background:var(--tab-bg);border-bottom:1px solid var(--border-color);overflow-x:auto}.tab-nav[data-v-7c4d25d8]::-webkit-scrollbar{display:none}.tab-nav .tab-btn[data-v-7c4d25d8]{flex:1;min-width:60px;padding:8px 12px;background:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);border-radius:6px;color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:4px;white-space:nowrap}.tab-nav .tab-btn[data-v-7c4d25d8]:hover{background:var(--button-bg);color:var(--text-accent)}.tab-nav .tab-btn.active[data-v-7c4d25d8]{background:var(--tab-active);border-color:var(--border-active);color:var(--text-primary)}.content[data-v-7c4d25d8]{flex:1;min-height:280px;max-height:600px;overflow-y:auto}.content[data-v-7c4d25d8]::-webkit-scrollbar{width:6px}.content[data-v-7c4d25d8]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.content[data-v-7c4d25d8]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:3px}.content[data-v-7c4d25d8]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.panel[data-v-7c4d25d8]{padding:16px}.cultivation-panel .identity-section[data-v-7c4d25d8]{text-align:center;margin-bottom:16px}.cultivation-panel .identity-section .identity-name[data-v-7c4d25d8]{font-size:20px;font-weight:bold;color:var(--text-primary);text-shadow:0 0 10px var(--accent-glow)}.cultivation-panel .identity-section .identity-info[data-v-7c4d25d8]{color:var(--text-secondary);font-size:12px;margin-top:4px}.cultivation-panel .identity-section .identity-info .divider[data-v-7c4d25d8]{margin:0 6px;opacity:.5}.cultivation-panel .realm-section[data-v-7c4d25d8]{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:16px}.cultivation-panel .realm-section .realm-title[data-v-7c4d25d8]{font-size:18px;font-weight:bold;display:flex;align-items:center;gap:6px}.cultivation-panel .realm-section .realm-title i[data-v-7c4d25d8]{animation:spin-7c4d25d8 10s linear infinite}.cultivation-panel .realm-section .realm-status[data-v-7c4d25d8]{font-size:12px;padding:3px 8px;background:var(--button-bg);border:1px solid var(--border-color);border-radius:4px;color:var(--accent-color)}.cultivation-panel .progress-section[data-v-7c4d25d8]{margin-bottom:20px}.cultivation-panel .progress-section .progress-label[data-v-7c4d25d8]{display:flex;justify-content:space-between;font-size:12px;color:var(--text-secondary);margin-bottom:6px}.cultivation-panel .progress-section .progress-bar[data-v-7c4d25d8]{height:8px;background:var(--progress-bg);border-radius:4px;overflow:hidden}.cultivation-panel .progress-section .progress-bar .progress-fill[data-v-7c4d25d8]{height:100%;border-radius:4px;transition:width .5s ease;box-shadow:0 0 10px currentColor}.cultivation-panel .progress-section .progress-percent[data-v-7c4d25d8]{text-align:right;font-size:11px;color:var(--text-secondary);margin-top:4px}.cultivation-panel .stats-grid[data-v-7c4d25d8]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.cultivation-panel .stats-grid .stat-item[data-v-7c4d25d8]{text-align:center;padding:10px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.cultivation-panel .stats-grid .stat-item .stat-label[data-v-7c4d25d8]{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.cultivation-panel .stats-grid .stat-item .stat-value[data-v-7c4d25d8]{font-size:13px;font-weight:500;color:var(--text-primary)}.cultivation-panel .stats-grid .stat-item .stat-value.gold[data-v-7c4d25d8]{color:gold}.skills-panel .skills-list[data-v-7c4d25d8]{display:flex;flex-direction:column;gap:12px}.skills-panel .skill-item[data-v-7c4d25d8]{padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.skills-panel .skill-item .skill-name[data-v-7c4d25d8]{font-size:14px;font-weight:bold;color:var(--accent-color);margin-bottom:6px}.skills-panel .skill-item .skill-desc[data-v-7c4d25d8]{font-size:12px;color:var(--text-secondary);line-height:1.5}.inventory-panel .inventory-section[data-v-7c4d25d8]{margin-bottom:20px}.inventory-panel .inventory-section[data-v-7c4d25d8]:last-child{margin-bottom:0}.inventory-panel .section-title[data-v-7c4d25d8]{font-size:14px;font-weight:bold;color:var(--text-accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}.inventory-panel .section-title i[data-v-7c4d25d8]{color:var(--accent-color)}.inventory-panel .items-grid[data-v-7c4d25d8]{display:flex;flex-direction:column;gap:8px}.inventory-panel .item-card[data-v-7c4d25d8]{padding:10px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px}.inventory-panel .item-card.treasure[data-v-7c4d25d8]{border-color:var(--border-active);background:var(--button-active)}.inventory-panel .item-card .item-header[data-v-7c4d25d8]{display:flex;justify-content:space-between;align-items:center}.inventory-panel .item-card .item-name[data-v-7c4d25d8]{font-weight:500;color:var(--text-primary)}.inventory-panel .item-card .item-count[data-v-7c4d25d8]{font-size:12px;color:var(--accent-color)}.inventory-panel .item-card .item-rank[data-v-7c4d25d8]{font-size:11px;color:#ffc864;margin:4px 0}.inventory-panel .item-card .item-desc[data-v-7c4d25d8]{font-size:11px;color:var(--text-secondary)}.companions-panel .companions-list[data-v-7c4d25d8]{display:flex;flex-direction:column;gap:12px}.companions-panel .companion-card[data-v-7c4d25d8]{padding:12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.companions-panel .companion-card .companion-header[data-v-7c4d25d8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.companions-panel .companion-card .companion-header .companion-name[data-v-7c4d25d8]{font-size:15px;font-weight:bold;color:#ffb0c0}.companions-panel .companion-card .companion-header .companion-realm[data-v-7c4d25d8]{font-size:12px}.companions-panel .companion-card .companion-relation[data-v-7c4d25d8]{font-size:12px;color:var(--text-secondary);margin-bottom:8px}.companions-panel .companion-card .companion-relation .relation-value[data-v-7c4d25d8]{color:var(--text-accent);margin-left:4px}.companions-panel .companion-card .companion-favor[data-v-7c4d25d8]{display:flex;align-items:center;gap:8px}.companions-panel .companion-card .companion-favor .favor-label[data-v-7c4d25d8]{font-size:11px;color:var(--text-secondary);min-width:42px}.companions-panel .companion-card .companion-favor .favor-bar[data-v-7c4d25d8]{flex:1;height:6px;background:var(--progress-bg);border-radius:3px;overflow:hidden}.companions-panel .companion-card .companion-favor .favor-bar .favor-fill[data-v-7c4d25d8]{height:100%;border-radius:3px;transition:width .3s ease}.companions-panel .companion-card .companion-favor .favor-value[data-v-7c4d25d8]{font-size:12px;color:var(--text-accent);min-width:30px;text-align:right}.map-panel .current-location[data-v-7c4d25d8]{text-align:center;padding:20px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px;margin-bottom:16px}.map-panel .current-location .location-name[data-v-7c4d25d8]{font-size:22px;font-weight:bold;color:#a0d0ff;margin-bottom:4px}.map-panel .current-location .location-layer[data-v-7c4d25d8]{font-size:12px;color:var(--accent-color);margin-bottom:10px}.map-panel .current-location .location-desc[data-v-7c4d25d8]{font-size:13px;color:var(--text-secondary);line-height:1.5}.map-panel .connections .connections-title[data-v-7c4d25d8]{font-size:13px;color:var(--text-secondary);margin-bottom:10px}.map-panel .connections .connections-list[data-v-7c4d25d8]{display:flex;flex-wrap:wrap;gap:8px}.map-panel .connections .connections-list .connection-item[data-v-7c4d25d8]{padding:6px 12px;background:var(--bg-secondary);border:1px solid;border-radius:15px;font-size:12px;color:var(--text-accent)}.gallery-panel[data-v-7c4d25d8]{padding:16px !important}.gallery-panel .gallery-container[data-v-7c4d25d8]{display:flex;flex-direction:row;justify-content:center;gap:20px;overflow-x:auto;overflow-y:hidden;padding-bottom:10px}.gallery-panel .gallery-container[data-v-7c4d25d8]::-webkit-scrollbar{height:8px}.gallery-panel .gallery-container[data-v-7c4d25d8]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.gallery-panel .gallery-container[data-v-7c4d25d8]::-webkit-scrollbar-thumb{background:var(--button-bg);border-radius:4px}.gallery-panel .gallery-container[data-v-7c4d25d8]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.gallery-panel .gallery-card[data-v-7c4d25d8]{flex-shrink:0;width:280px;aspect-ratio:2/3;perspective:1000px;cursor:pointer}.gallery-panel .card-inner[data-v-7c4d25d8]{position:relative;width:100%;height:100%;transition:transform .6s ease;transform-style:preserve-3d;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.5)}.gallery-panel .gallery-card.flipped .card-inner[data-v-7c4d25d8]{transform:rotateY(180deg)}.gallery-panel .card-face[data-v-7c4d25d8]{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:12px;overflow:hidden;border:2px solid var(--border-color)}.gallery-panel .card-front img[data-v-7c4d25d8]{width:100%;height:100%;object-fit:cover}.gallery-panel .card-front .card-name-bar[data-v-7c4d25d8]{position:absolute;bottom:0;left:0;right:0;padding:12px;background:linear-gradient(to top,rgba(0,0,0,0.85),transparent);color:#fff;font-size:16px;font-weight:bold;text-align:center;text-shadow:0 2px 6px rgba(0,0,0,.9)}.gallery-panel .card-back[data-v-7c4d25d8]{transform:rotateY(180deg);background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%)}.gallery-panel .card-back .back-content[data-v-7c4d25d8]{width:100%;height:100%;position:relative}.gallery-panel .card-back .back-content .back-image[data-v-7c4d25d8]{width:100%;height:100%;object-fit:cover}.gallery-panel .card-back .back-content .back-info-panel[data-v-7c4d25d8]{position:absolute;bottom:0;left:0;right:0;padding:20px 16px;background:linear-gradient(to top,rgba(0,0,0,0.9) 0%,rgba(0,0,0,0.7) 50%,transparent 100%);text-align:center}.gallery-panel .card-back .back-content .back-info-panel .back-name[data-v-7c4d25d8]{font-size:18px;font-weight:bold;color:#a0c0ff;margin-bottom:8px;text-shadow:0 0 15px rgba(100,150,255,.6),0 2px 4px rgba(0,0,0,.8)}.gallery-panel .card-back .back-content .back-info-panel .back-text[data-v-7c4d25d8]{font-size:14px;color:#d0e0f0;line-height:1.6;font-style:italic;text-shadow:0 1px 3px rgba(0,0,0,.8)}.gallery-panel .gallery-card[data-v-7c4d25d8]::after{content:"点击翻转";position:absolute;top:10px;right:10px;padding:4px 10px;background:rgba(0,0,0,.6);color:#a0b8d0;font-size:11px;border-radius:12px;opacity:0;transition:opacity .3s;pointer-events:none;z-index:10}.gallery-panel .gallery-card[data-v-7c4d25d8]:hover::after{opacity:1}.gallery-panel .gallery-card.flipped[data-v-7c4d25d8]::after{content:"点击翻回"}.empty-hint[data-v-7c4d25d8]{text-align:center;padding:20px;color:#506070;font-style:italic}.footer[data-v-7c4d25d8]{display:flex;justify-content:space-around;padding:10px 16px;background:var(--footer-bg);border-top:1px solid var(--border-color)}.footer .footer-item[data-v-7c4d25d8]{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-secondary)}.footer .footer-item i[data-v-7c4d25d8]{color:var(--accent-color)}@keyframes spin-7c4d25d8{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>