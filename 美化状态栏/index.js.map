{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/踏月寻仙-测试版/schema.ts","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/src/踏月寻仙-测试版/character-assets.ts","src://tavern_helper_template/src/踏月寻仙-测试版/themes.ts","src://tavern_helper_template/src/踏月寻仙-测试版/store.ts","webpack://tavern_helper_template/./src/踏月寻仙-测试版/app.vue?3d78","webpack://tavern_helper_template/src/踏月寻仙-测试版/app.vue?43c3","src://tavern_helper_template/src/踏月寻仙-测试版/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = z;","// ============================================================================\n// 踏月寻仙 - MVU 变量结构定义 (Zod Schema for MVU Variables)\n// ============================================================================\n// 修炼境界等级与境界描述映射\n// 等级 1-4:   练气（初期、中期、后期、大圆满）\n// 等级 5-8:   筑基（初期、中期、后期、大圆满）\n// 等级 9-12:  金丹（初期、中期、后期、大圆满）\n// 等级 13-16: 元婴（初期、中期、后期、大圆满）\n// 等级 17-20: 化神（初期、中期、后期、大圆满）\n// 等级 21-24: 炼虚（初期、中期、后期、大圆满）\n// 等级 25-28: 合体（初期、中期、后期、大圆满）\n// 等级 29-32: 大乘（初期、中期、后期、大圆满）\n// 等级 33-36: 渡劫（初期、中期、后期、大圆满）\nconst REALM_NAMES = ['练气', '筑基', '金丹', '元婴', '化神', '炼虚', '合体', '大乘', '渡劫'];\nconst REALM_STAGES = ['初期', '中期', '后期', '大圆满'];\n// 修炼境界等级与突破阈值映射\nconst REALM_THRESHOLDS = [100, 100, 100, 100, 200, 200, 200, 200, 400, 400, 400, 400, 800, 800, 800, 800, 1600, 1600, 1600, 1600, 3200, 3200, 3200, 3200, 6400, 6400, 6400, 6400, 12800, 12800, 12800, 12800, 25600, 25600, 25600, 25600];\n// 修炼境界等级与寿元上限映射\nconst REALM_LIFESPANS = [100, 100, 100, 100, 200, 200, 200, 200, 500, 500, 500, 500, 1000, 1000, 1000, 1000, 2000, 2000, 2000, 2000, 5000, 5000, 5000, 5000, 10000, 10000, 10000, 10000, 50000, 50000, 50000, 50000, 100000, 100000, 100000, 100000];\n// 物品 Schema\nconst ItemSchema = z.object({\n    名称: z.string().prefault(''),\n    描述: z.string().prefault(''),\n    品阶: z.string().prefault(''),\n    数量: z.coerce.number().transform(v => Math.max(1, v)).prefault(1), // 默认为 1 且最小为 1，避免被过滤\n});\n// 宗门势力 Schema - 优化版\nconst FactionSchema = z.object({\n    地: z.string().describe('所在地'),\n    特: z.string().describe('核心特点'),\n    力: z.string().describe('最高战力'),\n    营: z.enum(['正', '魔', '中']),\n    模: z.enum(['超大', '大', '小', '微', '特']),\n});\n// 功法 Schema - 优化版\nconst TechniqueSchema = z.object({\n    阶: z.enum(['凡', '黄', '玄', '地', '天', '仙', '圣']),\n    性: z.string().describe('属性'),\n    效: z.string().describe('效果'),\n});\n// 法宝兵器 Schema - 优化版\nconst TreasureSchema = z.object({\n    阶: z.enum(['凡器', '法器', '灵器', '法宝', '灵宝', '仙器', '圣器', '道器']),\n    类: z.string().describe('类型'),\n    特: z.string().describe('特性'),\n});\n// 地点 Schema - 优化版\nconst LocationSchema = z.object({\n    域: z.enum(['天层', '神州', '东苍', '南炎', '西庚', '北冥', '下层', '四海']),\n    类: z.enum(['秘境', '城镇', '宗门', '禁地', '遗迹', '地形']),\n    危: z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n    特: z.string().describe('特点'),\n    资: z.array(z.string()).prefault([]),\n});\n// 灵根 Schema - 优化版\nconst SpiritRootSchema = z.object({\n    质: z.enum(['劣', '下', '中', '上', '极', '天', '异']),\n    性: z.string().describe('属性'),\n    速: z.string().describe('修炼倍率'),\n    特: z.string().describe('特性'),\n    稀: z.enum(['常', '少', '罕', '稀', '传']),\n});\n// 体质 Schema - 优化版\nconst PhysiqueSchema = z.object({\n    质: z.enum(['凡', '灵', '道', '圣', '神']),\n    特: z.string().describe('特性'),\n    优: z.string().describe('优势'),\n    稀: z.enum(['常', '少', '罕', '稀', '传']),\n});\n// 完整的 MVU 变量结构 - 完全参考角色卡示例的结构\nexport const Schema = z.object({\n    世界时钟: z.object({\n        纪元: z.string().prefault('末法时代'),\n        年份: z.coerce.number().prefault(1),\n        月份: z.coerce.number().transform(v => _.clamp(v, 1, 12)).prefault(1),\n        日期: z.coerce.number().transform(v => _.clamp(v, 1, 30)).prefault(1),\n        时辰: z.string().prefault('子时'),\n    }),\n    世界地图: z.record(z.string().describe('区域名'), z.object({\n        layer: z.enum(['天层', '地层', '下层']).prefault('地层'),\n        danger: z.coerce.number().transform(v => _.clamp(v, 0, 100)),\n        desc: z.string().prefault(''),\n        connections: z.array(z.string()).prefault([]),\n    })).prefault({}),\n    世界图志: z.record(z.string().describe('事件名'), z.object({\n        状态: z.string().prefault(''),\n        事件: z.string().prefault(''),\n    })).prefault({}),\n    宗门势力库: z.record(z.string().describe('宗门名'), FactionSchema).prefault({\n        // 正道\n        剑阁: { 地: '神州剑门关', 特: '剑道源头', 力: '渡劫后期', 营: '正', 模: '超大' },\n        万法宗: { 地: '神州问道峰', 特: '万法本源', 力: '渡劫初期', 营: '正', 模: '超大' },\n        金刚寺: { 地: '西天佛山', 特: '佛修炼体', 力: '大乘中期', 营: '正', 模: '大' },\n        药王谷: { 地: '神农架', 特: '医炼丹药', 力: '大乘初期', 营: '正', 模: '大' },\n        儒门: { 地: '文圣山', 特: '浩然正气', 力: '大乘中期', 营: '正', 模: '大' },\n        青龙殿: { 地: '东苍青龙山', 特: '守护青帝', 力: '大乘初期', 营: '正', 模: '大' },\n        玄武宗: { 地: '北冥玄冰山', 特: '镇守归墟', 力: '大乘后期', 营: '正', 模: '大' },\n        建木宗: { 地: '东苍建木树', 特: '木系道法', 力: '合体中期', 营: '正', 模: '小' },\n        百花谷: { 地: '百花秘境', 特: '女修花道', 力: '合体后期', 营: '正', 模: '小' },\n        // 魔道\n        血神教: { 地: '血魔渊', 特: '血道炼法', 力: '渡劫中期', 营: '魔', 模: '超大' },\n        天魔宗: { 地: '天魔山', 特: '天魔大道', 力: '大乘中期', 营: '魔', 模: '大' },\n        // 中立\n        妖盟: { 地: '万妖森林', 特: '妖族联盟', 力: '渡劫中期', 营: '中', 模: '超大' },\n        大夏王朝: { 地: '中州皇城', 特: '世俗统治', 力: '大乘初期', 营: '中', 模: '大' },\n        九州商会: { 地: '九大主城', 特: '商业联盟', 力: '大乘初期', 营: '中', 模: '大' },\n        离火宫: { 地: '南炎火山', 特: '朱雀供奉', 力: '合体圆满', 营: '中', 模: '小' },\n        铸剑山庄: { 地: '南炎地火', 特: '炼器第一', 力: '合体后期', 营: '中', 模: '小' },\n    }),\n    功法库: z.record(z.string().describe('功法名'), TechniqueSchema).prefault({\n        // 基础\n        引气诀: { 阶: '凡', 性: '通用', 效: '基础入门' },\n        五行诀: { 阶: '黄', 性: '五行', 效: '平衡五行' },\n        筑基真解: { 阶: '玄', 性: '通用', 效: '完美筑基' },\n        金丹大道: { 阶: '地', 性: '通用', 效: '凝结金丹' },\n        // 五行系\n        万剑归宗诀: { 阶: '天', 性: '金剑', 效: '剑阁镇宗御万剑' },\n        庚金神雷: { 阶: '天', 性: '金雷', 效: '金雷双修' },\n        百花真经: { 阶: '地', 性: '木', 效: '百花谷以花入道' },\n        建木通天诀: { 阶: '天', 性: '木', 效: '建木宗镇宗' },\n        万木朝宗: { 阶: '仙', 性: '木', 效: '青帝遗留掌控万木' },\n        玄冰诀: { 阶: '地', 性: '水冰', 效: '万法宗心如冰清' },\n        北冥真经: { 阶: '天', 性: '水', 效: '玄武宗吞噬转化' },\n        海纳百川: { 阶: '仙', 性: '水', 效: '归墟容纳万物' },\n        朱雀涅槃经: { 阶: '天', 性: '火', 效: '离火宫涅槃重生' },\n        太阳真火: { 阶: '天', 性: '火', 效: '极致阳火' },\n        祝融神火: { 阶: '仙', 性: '火', 效: '火神遗留' },\n        不动明王身: { 阶: '天', 性: '土佛', 效: '金刚寺防御无敌' },\n        // 特殊\n        九天雷神诀: { 阶: '天', 性: '雷', 效: '代天行罚' },\n        虚空经: { 阶: '天', 性: '空间', 效: '空间属性罕见' },\n        轮回经: { 阶: '仙', 性: '轮回', 效: '{{user}}专属因果重大' },\n        万法归宗: { 阶: '天', 性: '通用', 效: '万法宗模拟万法' },\n        医仙宝典: { 阶: '天', 性: '医道', 效: '药王谷活死人' },\n        天魔策: { 阶: '天', 性: '魔道', 效: '速成隐患大' },\n        斩轮回剑典: { 阶: '仙', 性: '剑轮回', 效: '{{user}}前世斩因果' },\n        剑意通神: { 阶: '仙', 性: '剑道', 效: '意即为剑' },\n    }),\n    法宝库: z.record(z.string().describe('法宝名'), TreasureSchema).prefault({\n        // 剑类\n        青锋剑: { 阶: '法器', 类: '剑', 特: '制式长剑' },\n        秋水剑: { 阶: '灵器', 类: '剑', 特: '水系剑修' },\n        离火剑: { 阶: '法宝', 类: '剑', 特: '火焰剑气' },\n        寒镜剑: { 阶: '法宝', 类: '剑', 特: '映照人心' },\n        红绡枪: { 阶: '法宝', 类: '枪', 特: '破军杀阵' },\n        青龙剑: { 阶: '灵宝', 类: '剑', 特: '青龙魂木性' },\n        白虎剑: { 阶: '灵宝', 类: '剑', 特: '杀伐金性' },\n        朱雀剑: { 阶: '灵宝', 类: '剑', 特: '火焰化形' },\n        玄武剑: { 阶: '灵宝', 类: '剑', 特: '防御水性' },\n        斩轮回: { 阶: '仙器', 类: '剑', 特: '斩因果残破' },\n        镇渊剑: { 阶: '仙器', 类: '剑', 特: '{{user}}本命可成长' },\n        双鱼佩: { 阶: '仙器', 类: '护身', 特: '时空小世界' },\n        // 特殊\n        绯月神弓: { 阶: '法宝', 类: '弓', 特: '朱雀远程' },\n        碧玉瑶琴: { 阶: '法宝', 类: '琴', 特: '治愈心魔' },\n        千丝罗网: { 阶: '灵宝', 类: '法器', 特: '织梦幻术' },\n        雪魄琉璃炉: { 阶: '灵宝', 类: '丹炉', 特: '冰雪炼丹' },\n        龙鳞护甲: { 阶: '灵宝', 类: '防御', 特: '真龙鳞片' },\n        // 储物\n        储物袋: { 阶: '法器', 类: '储物', 特: '基础空间小' },\n        储物戒: { 阶: '灵器', 类: '储物', 特: '空间大便携' },\n        乾坤袋: { 阶: '法宝', 类: '储物', 特: '巨大装活物' },\n        洞天宝: { 阶: '灵宝', 类: '储物', 特: '小世界可居' },\n    }),\n    地点库: z.record(z.string().describe('地点名'), LocationSchema).prefault({\n        // 天层\n        天渊: { 域: '天层', 类: '禁地', 危: 95, 特: '星辰裂隙连域外', 资: ['星辰碎片', '陨铁'] },\n        罡风带: { 域: '天层', 类: '禁地', 危: 90, 特: '罡风元婴难越', 资: ['罡风精华'] },\n        // 神州\n        问道峰: { 域: '神州', 类: '宗门', 危: 10, 特: '万法宗高九千丈', 资: ['功法', '灵药'] },\n        剑门关: { 域: '神州', 类: '宗门', 危: 15, 特: '剑阁悬空天堑', 资: ['剑意', '飞剑'] },\n        藏书阁: { 域: '神州', 类: '宗门', 危: 5, 特: '九层古籍守护灵', 资: ['功法', '秘术'] },\n        酆都城: { 域: '神州', 类: '城镇', 危: 30, 特: '阴阳交汇鬼市', 资: ['幽冥材料'] },\n        龙门瀑: { 域: '神州', 类: '秘境', 危: 40, 特: '鲤鱼跃龙门', 资: ['龙气', '化龙机缘'] },\n        // 东苍\n        建木林: { 域: '东苍', 类: '地形', 危: 50, 特: '原始林古树精', 资: ['灵木', '妖丹'] },\n        青帝陵: { 域: '东苍', 类: '遗迹', 危: 85, 特: '青帝传承考验', 资: ['青帝传承'] },\n        百花境: { 域: '东苍', 类: '秘境', 危: 20, 特: '四季花开', 资: ['灵花', '花粉'] },\n        // 南炎\n        不灭火山: { 域: '南炎', 类: '地形', 危: 80, 特: '朱雀涅槃处', 资: ['朱雀火'] },\n        地火窟: { 域: '南炎', 类: '地形', 危: 60, 特: '地火炼器', 资: ['地心火'] },\n        涅槃台: { 域: '南炎', 类: '遗迹', 危: 70, 特: '涅槃真意', 资: ['涅槃感悟'] },\n        // 西庚\n        万剑冢: { 域: '西庚', 类: '禁地', 危: 85, 特: '战场剑意不散', 资: ['剑意', '古剑'] },\n        庚金脉: { 域: '西庚', 类: '地形', 危: 40, 特: '庚金炼剑', 资: ['庚金'] },\n        // 北冥\n        玄冰山: { 域: '北冥', 类: '宗门', 危: 50, 特: '玄武宗冰山', 资: ['玄冰'] },\n        归墟眼: { 域: '北冥', 类: '禁地', 危: 99, 特: '吞噬万物终结', 资: ['归墟感悟'] },\n        // 下层\n        黄泉迹: { 域: '下层', 类: '遗迹', 危: 90, 特: '天河通幽冥', 资: ['黄泉水'] },\n        炎渊: { 域: '下层', 类: '禁地', 危: 95, 特: '地心火狱', 资: ['地心火'] },\n    }),\n    灵根库: z.record(z.string().describe('灵根名'), SpiritRootSchema).prefault({\n        // 五行天灵根\n        金天根: { 质: '天', 性: '金', 速: '5倍', 特: '锋锐攻击强', 稀: '传' },\n        木天根: { 质: '天', 性: '木', 速: '5倍', 特: '生息恢复强', 稀: '传' },\n        水天根: { 质: '天', 性: '水', 速: '5倍', 特: '包容适应强', 稀: '传' },\n        火天根: { 质: '天', 性: '火', 速: '5倍', 特: '爆发威力大', 稀: '传' },\n        土天根: { 质: '天', 性: '土', 速: '5倍', 特: '厚重防御强', 稀: '传' },\n        // 双灵根\n        金木双根: { 质: '极', 性: '金木', 速: '3倍', 特: '克生特殊法', 稀: '稀' },\n        水火双根: { 质: '极', 性: '水火', 速: '3倍', 特: '既济阴阳和', 稀: '稀' },\n        金火双根: { 质: '极', 性: '金火', 速: '3倍', 特: '炼金器战斗', 稀: '稀' },\n        木水双根: { 质: '极', 性: '木水', 速: '3倍', 特: '水生木恢复', 稀: '稀' },\n        // 多灵根\n        三灵根: { 质: '上', 性: '三系', 速: '2倍', 特: '均衡多功法', 稀: '罕' },\n        四灵根: { 质: '中', 性: '四系', 速: '1倍', 特: '缓慢但全面', 稀: '少' },\n        五行杂根: { 质: '下', 性: '五行', 速: '0.5倍', 特: '杂乱修炼慢', 稀: '常' },\n        // 变异灵根\n        冰根: { 质: '异', 性: '冰', 速: '4倍', 特: '水变极寒冻', 稀: '传' },\n        雷根: { 质: '异', 性: '雷', 速: '4倍', 特: '金变雷霆灭', 稀: '传' },\n        风根: { 质: '异', 性: '风', 速: '4倍', 特: '木变速度快', 稀: '传' },\n        暗根: { 质: '异', 性: '暗', 速: '4倍', 特: '水变幽暗蚀', 稀: '传' },\n        光根: { 质: '异', 性: '光', 速: '4倍', 特: '火变圣光净', 稀: '传' },\n        离火根: { 质: '异', 性: '离火', 速: '4倍', 特: '朱雀涅槃生', 稀: '传' },\n        空间根: { 质: '异', 性: '空间', 速: '5倍', 特: '至高掌空间', 稀: '传' },\n        时间根: { 质: '异', 性: '时间', 速: '5倍', 特: '至高控时间', 稀: '传' },\n        混沌根: { 质: '异', 性: '混沌', 速: '5倍', 特: '至高混沌容', 稀: '传' },\n        轮回根: { 质: '异', 性: '轮回', 速: '5倍', 特: '{{user}}专属', 稀: '传' },\n        // 复合变异\n        冰火双根: { 质: '异', 性: '冰火', 速: '3.5倍', 特: '两极对立统', 稀: '传' },\n        冰雷双根: { 质: '异', 性: '冰雷', 速: '3.5倍', 特: '冻结后粉碎', 稀: '传' },\n        暗幻双根: { 质: '异', 性: '暗幻', 速: '3.5倍', 特: '暗影幻术诡', 稀: '传' },\n        水龙双根: { 质: '异', 性: '水龙', 速: '4倍', 特: '龙脉掌水系', 稀: '传' },\n        冰丹双根: { 质: '异', 性: '冰丹', 速: '3.5倍', 特: '冰丹独特组', 稀: '传' },\n    }),\n    体质库: z.record(z.string().describe('体质名'), PhysiqueSchema).prefault({\n        // 凡体\n        凡体: { 质: '凡', 特: '普通无特殊', 优: '无', 稀: '常' },\n        // 灵体\n        玄冰体: { 质: '灵', 特: '冰系法威+50%抗+80%', 优: '冰系强', 稀: '罕' },\n        离火体: { 质: '灵', 特: '火系法威+50%抗+80%', 优: '火系强', 稀: '罕' },\n        木灵体: { 质: '灵', 特: '恢复+100%木法+50%', 优: '恢复强', 稀: '罕' },\n        天籁体: { 质: '灵', 特: '音律治愈心魔', 优: '音律神通', 稀: '罕' },\n        花妖体: { 质: '灵', 特: '倾城魅惑控花草', 优: '魅惑控制', 稀: '稀' },\n        // 道体\n        朱雀脉: { 质: '道', 特: '火法+100%涅槃生', 优: '涅槃重生', 稀: '传' },\n        真龙脉: { 质: '道', 特: '体质+200%龙神通', 优: '龙族神通', 稀: '传' },\n        战体: { 质: '道', 特: '战力+100%战意厉', 优: '战斗天赋', 稀: '传' },\n        梦魇体: { 质: '道', 特: '操梦幻术情报', 优: '幻术神通', 稀: '传' },\n        雪魂体: { 质: '道', 特: '冰法+150%雪神通', 优: '冰系至强', 稀: '传' },\n        // 圣体\n        混沌体: { 质: '圣', 特: '修任何法无限制', 优: '包容万物', 稀: '传' },\n        道体: { 质: '圣', 特: '悟+300%速+200%', 优: '悟性无双', 稀: '传' },\n        金身: { 质: '圣', 特: '防+500%几乎不死', 优: '防御无敌', 稀: '传' },\n        // 神体\n        轮回体: { 质: '神', 特: '{{user}}专属轮回通', 优: '斩因果', 稀: '传' },\n        时空体: { 质: '神', 特: '时空通逆因果', 优: '时空神通', 稀: '传' },\n    }),\n    本尊: z\n        .object({\n        等级: z.coerce.number().transform(v => _.clamp(v, 1, 36)),\n        修为: z.coerce.number().transform(v => Math.max(0, v)),\n        灵根: z.string().prefault('五行杂灵根'),\n        体质: z.string().prefault('凡体'),\n        功法: z.string().prefault('无'),\n        本命兵器: z.string().prefault('无'),\n        神通列表: z.record(z.string().describe('神通名'), z.string().describe('神通描述')).prefault({}),\n        灵石: z.coerce.number().transform(v => Math.max(0, v)),\n        已活岁月: z.coerce.number().transform(v => Math.max(0, v)),\n        尝试突破: z.boolean().prefault(false),\n        行踪: z.object({\n            当前区域: z.string().prefault('未知之地'),\n            所属层级: z.string().optional(),\n            环境描述: z.string().optional(),\n            危险度: z.coerce.number().optional(),\n            可用通道: z.array(z.string()).optional(),\n            导航信息: z.string().optional(),\n        }),\n        身份: z.object({\n            姓名: z.string().prefault('无名氏'),\n            宗门: z.string().prefault('散修'),\n            出身: z.string().prefault('凡人'),\n        }),\n        背包: z\n            .record(z.string().describe('物品名'), ItemSchema)\n            .prefault({})\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n        法宝: z\n            .record(z.string().describe('法宝名'), ItemSchema)\n            .prefault({})\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n        杂物袋: z\n            .record(z.string().describe('杂物名'), ItemSchema)\n            .prefault({})\n            .transform(data => _.pickBy(data, ({ 数量 }) => 数量 > 0)),\n    })\n        .transform(data => {\n        const level = data.等级;\n        const 突破阈值 = REALM_THRESHOLDS[level - 1] ?? 100;\n        const 寿元上限 = REALM_LIFESPANS[level - 1] ?? 100;\n        const majorIdx = Math.floor((level - 1) / 4);\n        const minorIdx = (level - 1) % 4;\n        const 境界描述 = `${REALM_NAMES[majorIdx] ?? '练气'}${REALM_STAGES[minorIdx] ?? '初期'}`;\n        const 寿元状态 = `${data.已活岁月}/${寿元上限}`;\n        const 状态 = data.尝试突破 ? '突破中' : data.修为 >= 突破阈值 ? '瓶颈期' : '修炼中';\n        const 进度 = `${((data.修为 / 突破阈值) * 100).toFixed(1)}%`;\n        return {\n            ...data,\n            突破阈值,\n            寿元上限,\n            境界描述,\n            寿元状态,\n            状态,\n            进度,\n        };\n    }),\n    红颜角色库: z.record(z.string().describe('角色名'), z.object({\n        级: z.coerce.number().transform(v => _.clamp(v, 1, 36)),\n        根: z.string().describe('灵根'),\n        质: z.string().describe('体质'),\n        龄: z.string().describe('年龄'),\n        属: z.string().describe('所属'),\n        法: z.string().describe('功法'),\n        器: z.string().describe('本命兵器'),\n        通: z.array(z.string()).prefault([]),\n        型: z.enum(['核心', '重要', '次要']),\n    })).prefault({\n        凌寒镜: { 级: 11, 根: '冰根极', 质: '玄冰体', 龄: '24', 属: '万法宗真传', 法: '玄冰诀地/心镜天', 器: '北冥弓灵', 通: ['冰镜映心', '千里冰封'], 型: '核心' },\n        虞汐颜: { 级: 12, 根: '水阴阳异', 质: '双鱼体', 龄: '化形3年', 属: '{{user}}玉佩', 法: '双生天极/阴阳', 器: '双鱼佩本体', 通: ['枯木春', '夺命妆', '双鱼梦'], 型: '核心' },\n        白清弦: { 级: 29, 根: '金天根', 质: '剑体', 龄: '外30实328', 属: '散修剑宗师', 法: '剑意仙/天音天', 器: '清弦琴剑灵宝', 通: ['琴剑杀', '剑意歌', '万剑心'], 型: '核心' },\n        焰绯月: { 级: 12, 根: '离火根极', 质: '朱雀脉', 龄: '25', 属: '离火宫圣女', 法: '朱雀天', 器: '绯月弓法宝', 通: ['离火天', '朱雀身', '凤凰槃'], 型: '重要' },\n        幻千丝: { 级: 13, 根: '暗幻双根', 质: '梦魇体', 龄: '外20未知', 属: '散修幽冥', 法: '织梦天', 器: '千丝网灵宝', 通: ['织梦笼', '心魔境', '千丝缚'], 型: '重要' },\n        花想容: { 级: 8, 根: '木根', 质: '花妖体', 龄: '外12', 属: '建木宗', 法: '百花地', 器: '牡丹瓣', 通: ['花海域', '治愈粉', '魅惑香'], 型: '次要' },\n        敖清霜: { 级: 14, 根: '水龙双根', 质: '真龙脉', 龄: '外20实150', 属: '龙宫三公主', 法: '沧海天', 器: '龙鳞甲灵宝', 通: ['龙变化', '呼风雨', '龙威慑'], 型: '次要' },\n    }),\n    红颜: z\n        .record(z.string().describe('红颜名'), z\n        .object({\n        等级: z.coerce.number().transform(v => _.clamp(v, 1, 36)).prefault(1),\n        修为: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        灵根: z.string().prefault('五行杂灵根'),\n        体质: z.string().prefault('凡体'),\n        功法: z.string().prefault('无'),\n        本命兵器: z.string().prefault('无'),\n        神通列表: z.record(z.string().describe('神通名'), z.string().describe('神通描述')).prefault({}),\n        灵石: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        已活岁月: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        尝试突破: z.boolean().prefault(false),\n        好感度: z.coerce.number().transform(v => _.clamp(v, -100, 100)).prefault(0),\n        关系: z.string().prefault('陌生人'),\n        重要性: z.string().prefault('路人'),\n    })\n        .transform(data => {\n        const level = data.等级;\n        const 突破阈值 = REALM_THRESHOLDS[level - 1] ?? 100;\n        const 寿元上限 = REALM_LIFESPANS[level - 1] ?? 100;\n        const majorIdx = Math.floor((level - 1) / 4);\n        const minorIdx = (level - 1) % 4;\n        const 境界描述 = `${REALM_NAMES[majorIdx] ?? '练气'}${REALM_STAGES[minorIdx] ?? '初期'}`;\n        const 寿元状态 = `${data.已活岁月}/${寿元上限}`;\n        const 状态 = data.尝试突破 ? '突破中' : data.修为 >= 突破阈值 ? '瓶颈期' : '修炼中';\n        const 进度 = `${((data.修为 / 突破阈值) * 100).toFixed(1)}%`;\n        return {\n            ...data,\n            突破阈值,\n            寿元上限,\n            境界描述,\n            寿元状态,\n            状态,\n            进度,\n        };\n    }))\n        .prefault({}),\n    NPC图鉴: z.record(z.string().describe('NPC名'), z.object({\n        等级: z.coerce.number().transform(v => _.clamp(v, 1, 36)).prefault(1),\n        修为: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        灵根: z.string().prefault('五行杂灵根'),\n        体质: z.string().prefault('凡体'),\n        功法: z.string().prefault('无'),\n        本命兵器: z.string().prefault('无'),\n        神通列表: z.record(z.string().describe('神通名'), z.string().describe('神通描述')).prefault({}),\n        灵石: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        已活岁月: z.coerce.number().transform(v => Math.max(0, v)).prefault(0),\n        尝试突破: z.boolean().prefault(false),\n        所在宗门: z.string().prefault('散修'),\n    })).prefault({}),\n    任务列表: z.record(z.string().describe('任务名'), z.object({\n        类型: z.enum(['主线', '支线', '每日', '临危受命']),\n        说明: z.string().describe('面向{{user}}的任务背景或细则'),\n        目标: z.string().describe('明确可执行的目标描述'),\n        奖励: z.string(),\n        惩罚: z.string().describe('失败后触发的负面效果'),\n        状态: z.enum(['进行中', '已完成', '已失败']).prefault('进行中'),\n    })).prefault({}),\n    声望系统: z.record(z.string().describe('势力名'), z.object({\n        声望值: z.coerce.number().transform(v => _.clamp(v, -100, 100)),\n        称号: z.string().optional(),\n        关系描述: z.string(),\n    })).prefault({}),\n});\n// 配置常量\nexport const CONFIG = {\n    REALMS: {\n        MAJOR: REALM_NAMES,\n        MINOR: REALM_STAGES,\n    },\n    ELEMENTS: {\n        火: { effect: '灼烧', visual: '烈焰', nature: '爆裂', color: '#ff4444' },\n        水: { effect: '缠绕', visual: '激流', nature: '柔韧', color: '#4488ff' },\n        冰: { effect: '冻结', visual: '寒霜', nature: '极寒', color: '#88ddff' },\n        雷: { effect: '麻痹', visual: '紫电', nature: '狂暴', color: '#aa44ff' },\n        风: { effect: '切割', visual: '罡风', nature: '无形', color: '#88ff88' },\n        土: { effect: '镇压', visual: '岩铠', nature: '厚重', color: '#aa8844' },\n        木: { effect: '寄生', visual: '藤蔓', nature: '生生不息', color: '#44aa44' },\n        金: { effect: '穿透', visual: '锐金', nature: '锋利', color: '#ffdd44' },\n        暗: { effect: '腐蚀', visual: '黑雾', nature: '诡谲', color: '#442244' },\n        光: { effect: '净化', visual: '圣辉', nature: '神圣', color: '#ffffaa' },\n        混沌: { effect: '湮灭', visual: '灰光', nature: '虚无', color: '#888888' },\n    },\n};\n// 获取灵根元素颜色\nexport function getRootColor(root) {\n    for (const [elem, data] of Object.entries(CONFIG.ELEMENTS)) {\n        if (root.includes(elem)) {\n            return data.color;\n        }\n    }\n    return '#aaaaaa'; // 默认灰色\n}\n// 获取境界等级颜色\nexport function getRealmColor(level) {\n    const majorIdx = Math.floor((level - 1) / 4);\n    const colors = [\n        '#888888', // 练气 - 灰色\n        '#44aa44', // 筑基 - 绿色\n        '#4488ff', // 金丹 - 蓝色\n        '#aa44ff', // 元婴 - 紫色\n        '#ff4444', // 化神 - 红色\n        '#ffaa00', // 炼虚 - 橙色\n        '#ffdd44', // 合体 - 金色\n        '#ffffff', // 大乘 - 白色\n        '#ff88ff', // 渡劫 - 粉色\n    ];\n    return colors[majorIdx] || '#888888';\n}\n// 获取危险度颜色\nexport function getDangerColor(danger) {\n    if (danger >= 90)\n        return '#ff0000';\n    if (danger >= 70)\n        return '#ff4400';\n    if (danger >= 50)\n        return '#ff8800';\n    if (danger >= 30)\n        return '#ffcc00';\n    return '#44aa44';\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = _;","// ============================================================================\n// 角色图片资源配置 (Character Assets Configuration)\n// 在这里配置所有角色的图片资源（正面和背面）\n// ============================================================================\n\n/**\n * 单个表情的图片配置\n */\nexport interface ExpressionImages {\n    /** 正面图片 URL */\n    front: string;\n    /** 背面图片 URL（可选，如果不填则使用正面图片） */\n    back?: string;\n}\n\n/**\n * 角色图片资源配置\n * 格式: { 角色名: { 表情代号: { front: 正面URL, back: 背面URL } } }\n *\n * 使用方法:\n * 1. 为每个角色创建一个对象\n * 2. 为每个表情/状态配置对应的正面和背面图片URL\n * 3. AI 输出时会根据 img_code 自动匹配对应的图片\n * 4. 如果不需要不同的背面图片，可以只填写 front，或使用简写形式\n */\nexport const CHARACTER_ASSETS: Record<string, Record<string, ExpressionImages | string>> = {\n    // ============================================================================\n    // 示例角色：孟十七\n    // ============================================================================\n    孟十七: {\n        // 完整配置示例（有不同的正面和背面）\n        normal: {\n            front: 'https://files.catbox.moe/c1su29.jpg', // 日常/平静 - 正面\n            back: 'https://files.catbox.moe/c1su29.jpg', // 日常/平静 - 背面（可以是不同的图片）\n        },\n        // 简写形式（正面和背面使用相同图片）\n        shy: 'https://files.catbox.moe/8doe0f.jpg', // 害羞/脸红\n        smile: 'https://files.catbox.moe/8doe0f.jpg', // 微笑/开心\n        angry: 'https://files.catbox.moe/c1su29.jpg', // 生气/鼓嘴\n        cry: 'https://files.catbox.moe/c1su29.jpg', // 哭泣/委屈\n        surprise: 'https://files.catbox.moe/8doe0f.jpg', // 惊讶/瞪眼\n    },\n\n    // ============================================================================\n    // 白清弦 - 剑道宗师\n    // ============================================================================\n    白清弦: {\n        // 随机选择正面和背面图片\n        normal: {\n            front: 'random_front', // 特殊标记，表示从正面图片池中随机选择\n            back: 'random_back',   // 特殊标记，表示从背面图片池中随机选择\n        },\n    },\n\n    // ============================================================================\n    // 虞汐颜 - 一体双魂（虞汐白头发/虞颜黑头发）\n    // ============================================================================\n    虞汐颜: {\n        // 随机选择正面和背面图片\n        // 特殊逻辑：正面虞汐时背面虞颜，正面虞颜时背面虞汐\n        normal: {\n            front: 'random_dual_front', // 特殊标记，随机选择虞汐或虞颜的正面\n            back: 'random_dual_back',   // 特殊标记，自动选择另一个魂体的背面\n        },\n    },\n\n    // ============================================================================\n    // 添加更多角色示例\n    // ============================================================================\n    // 角色名2: {\n    //   // 完整配置（不同的正面和背面）\n    //   normal: {\n    //     front: '正面图片URL',\n    //     back: '背面图片URL',\n    //   },\n    //   // 简写配置（正面和背面相同）\n    //   happy: '图片URL',\n    //   sad: '图片URL',\n    //   // ... 更多表情\n    // },\n};\n\n/**\n * 角色图片池 - 用于随机选择\n * 格式: { 角色名: { front: [正面图片URL列表], back: [背面图片URL列表] } }\n */\nexport const CHARACTER_IMAGE_POOLS: Record<string, { front: string[]; back: string[] }> = {\n    白清弦: {\n        front: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦1.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦2.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦3.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦4.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦5.png',\n        ],\n        back: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦6.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦7.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦8.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦9.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦10.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦11.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦12.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦13.png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/白清弦14.png',\n        ],\n    },\n    虞汐颜: {\n        // 虞汐的图片（白头发）\n        虞汐_front: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (1).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (15).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (16).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (6).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (5).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (3).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (2).png',\n        ],\n        虞汐_back: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (17).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (8).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (7).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞汐 (4).png',\n        ],\n        // 虞颜的图片（黑头发）\n        虞颜_front: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (15).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (14).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (13).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (12).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (11).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (10).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (9).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (8).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (7).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (6).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (1).png',\n        ],\n        虞颜_back: [\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (5).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (4).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (3).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (2).png',\n            'https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/虞颜 (18).png',\n        ],\n    } as any,\n};\n\n/**\n * 默认表情 - 当 AI 输出的 img_code 不存在时使用\n */\nexport const DEFAULT_EXPRESSION = 'normal';\n\n/**\n * 默认卡片背景 - 当角色没有配置图片时使用的占位图\n */\nexport const DEFAULT_PLACEHOLDER = 'https://files.catbox.moe/placeholder.jpg';\n\n/**\n * 从图片池中随机选择一张图片\n * 虞汐颜专用：缓存当前选择的魂体，以便正面和背面使用不同的魂体\n */\nlet cachedDualSoul: '虞汐' | '虞颜' | null = null;\n\n/**\n * 会话缓存：记录已经为虞汐颜生成过的卡片\n * 避免在同一个消息楼层中生成多张虞汐颜卡片\n */\nlet dualSoulSessionUsed = false;\n\nfunction getRandomImage(characterName: string, type: 'front' | 'back'): string {\n    const pool = CHARACTER_IMAGE_POOLS[characterName];\n    if (!pool) {\n        console.warn(`[图鉴] 未找到角色 \"${characterName}\" 的图片池`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    const images = pool[type];\n    if (!images || images.length === 0) {\n        console.warn(`[图鉴] 角色 \"${characterName}\" 的 ${type} 图片池为空`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    // 随机选择一张图片\n    const randomIndex = Math.floor(Math.random() * images.length);\n    return images[randomIndex];\n}\n\n/**\n * 虞汐颜专用：获取一体双魂的图片和名字\n * 正面虞汐时背面虞颜，正面虞颜时背面虞汐\n *\n * 重要：每次调用此函数时，只会生成一对卡片（正面+背面）\n * 如果已经生成过，则返回 null，避免重复生成\n */\nfunction getDualSoulImage(type: 'front' | 'back'): { url: string; soulName: string } | null {\n    const pool = CHARACTER_IMAGE_POOLS['虞汐颜'] as any;\n    if (!pool) {\n        console.warn(`[图鉴] 未找到虞汐颜的图片池`);\n        return { url: DEFAULT_PLACEHOLDER, soulName: '虞汐颜' };\n    }\n\n    if (type === 'front') {\n        // 如果已经生成过虞汐颜卡片，返回 null\n        if (dualSoulSessionUsed) {\n            console.info(`[图鉴] 虞汐颜卡片已生成，跳过重复生成`);\n            return null;\n        }\n\n        // 标记为已使用\n        dualSoulSessionUsed = true;\n\n        // 正面：随机选择虞汐或虞颜\n        const soul = Math.random() < 0.5 ? '虞汐' : '虞颜';\n        cachedDualSoul = soul;\n        const images = pool[`${soul}_front`];\n        if (!images || images.length === 0) {\n            console.warn(`[图鉴] 虞汐颜的 ${soul} 正面图片池为空`);\n            return { url: DEFAULT_PLACEHOLDER, soulName: soul };\n        }\n        const randomIndex = Math.floor(Math.random() * images.length);\n        console.info(`[图鉴] 虞汐颜正面选择: ${soul}`);\n        return { url: images[randomIndex], soulName: soul };\n    } else {\n        // 背面：使用另一个魂体\n        const soul = cachedDualSoul === '虞汐' ? '虞颜' : '虞汐';\n        const images = pool[`${soul}_back`];\n        if (!images || images.length === 0) {\n            console.warn(`[图鉴] 虞汐颜的 ${soul} 背面图片池为空`);\n            return { url: DEFAULT_PLACEHOLDER, soulName: soul };\n        }\n        const randomIndex = Math.floor(Math.random() * images.length);\n        console.info(`[图鉴] 虞汐颜背面选择: ${soul}`);\n        return { url: images[randomIndex], soulName: soul };\n    }\n}\n\n/**\n * 标准化表情配置（将简写形式转换为完整形式）\n * 对于虞汐颜，还会返回对应的魂体名字\n *\n * 如果虞汐颜已经生成过卡片，则返回 null\n */\nfunction normalizeExpressionImages(config: ExpressionImages | string, characterName: string): (ExpressionImages & { frontName?: string; backName?: string }) | null {\n    if (typeof config === 'string') {\n        return { front: config, back: config };\n    }\n\n    // 处理虞汐颜的特殊逻辑\n    if (characterName === '虞汐颜') {\n        if (config.front === 'random_dual_front') {\n            const frontResult = getDualSoulImage('front');\n\n            // 如果返回 null，说明已经生成过了\n            if (frontResult === null) {\n                return null;\n            }\n\n            const backResult = getDualSoulImage('back');\n            if (backResult === null) {\n                return null;\n            }\n\n            return {\n                front: frontResult.url,\n                back: backResult.url,\n                frontName: frontResult.soulName,\n                backName: backResult.soulName\n            };\n        }\n    }\n\n    // 处理普通随机图片\n    let front = config.front;\n    let back = config.back ?? config.front;\n\n    if (front === 'random_front') {\n        front = getRandomImage(characterName, 'front');\n    }\n    if (back === 'random_back') {\n        back = getRandomImage(characterName, 'back');\n    }\n\n    return { front, back };\n}\n\n\n/**\n * 获取角色正面图片URL\n * @param characterName 角色名\n * @param imgCode 表情代号\n * @returns 正面图片URL\n */\nexport function getCharacterImage(characterName: string, imgCode: string): string {\n    const character = CHARACTER_ASSETS[characterName];\n    if (!character) {\n        console.warn(`[图鉴] 未找到角色 \"${characterName}\" 的图片配置`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    const config = character[imgCode] ?? character[DEFAULT_EXPRESSION];\n    if (!config) {\n        console.warn(`[图鉴] 角色 \"${characterName}\" 没有表情 \"${imgCode}\" 的图片`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    const normalized = normalizeExpressionImages(config, characterName);\n    return normalized ? normalized.front : DEFAULT_PLACEHOLDER;\n}\n\n/**\n * 获取角色背面图片URL\n * @param characterName 角色名\n * @param imgCode 表情代号\n * @returns 背面图片URL\n */\nexport function getCharacterBackImage(characterName: string, imgCode: string): string {\n    const character = CHARACTER_ASSETS[characterName];\n    if (!character) {\n        console.warn(`[图鉴] 未找到角色 \"${characterName}\" 的图片配置`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    const config = character[imgCode] ?? character[DEFAULT_EXPRESSION];\n    if (!config) {\n        console.warn(`[图鉴] 角色 \"${characterName}\" 没有表情 \"${imgCode}\" 的图片`);\n        return DEFAULT_PLACEHOLDER;\n    }\n\n    const normalized = normalizeExpressionImages(config, characterName);\n    return normalized ? normalized.back! : DEFAULT_PLACEHOLDER;\n}\n\n/**\n * 获取角色正面和背面图片URL\n * 对于虞汐颜，会返回对应的魂体名字\n *\n * 重要：每次页面加载时，虞汐颜只会生成一张卡片\n * @param characterName 角色名\n * @param frontImgCode 正面表情代号\n * @param backImgCode 背面表情代号（可选，默认与正面相同）\n * @returns { front: 正面URL, back: 背面URL, frontName?: 正面名字, backName?: 背面名字 } 或 null（如果虞汐颜已生成）\n */\nexport function getCharacterImages(\n    characterName: string,\n    frontImgCode: string,\n    backImgCode?: string,\n): { front: string; back: string; frontName?: string; backName?: string } | null {\n    const character = CHARACTER_ASSETS[characterName];\n    if (!character) {\n        return { front: DEFAULT_PLACEHOLDER, back: DEFAULT_PLACEHOLDER };\n    }\n\n    const config = character[frontImgCode] ?? character[DEFAULT_EXPRESSION];\n    if (!config) {\n        return { front: DEFAULT_PLACEHOLDER, back: DEFAULT_PLACEHOLDER };\n    }\n\n    const normalized = normalizeExpressionImages(config, characterName);\n\n    // 如果返回 null（虞汐颜已生成），则返回 null\n    if (normalized === null) {\n        return null;\n    }\n\n    return {\n        front: normalized.front,\n        back: normalized.back!,\n        frontName: normalized.frontName,\n        backName: normalized.backName\n    };\n}\n\n/**\n * 重置虞汐颜的会话缓存\n * 在新的消息楼层或页面重新加载时调用\n */\nexport function resetDualSoulSession() {\n    dualSoulSessionUsed = false;\n    cachedDualSoul = null;\n    console.info('[图鉴] 虞汐颜会话缓存已重置');\n}\n\n/**\n * 获取角色所有可用的表情列表\n * @param characterName 角色名\n * @returns 表情代号列表\n */\nexport function getAvailableExpressions(characterName: string): string[] {\n    const character = CHARACTER_ASSETS[characterName];\n    return character ? Object.keys(character) : [];\n}\n\n/**\n * 检查角色是否已配置\n * @param characterName 角色名\n * @returns 是否已配置\n */\nexport function isCharacterConfigured(characterName: string): boolean {\n    return characterName in CHARACTER_ASSETS;\n}","// ============================================================================\r\n// 踏月寻仙 - 主题配置系统 (Theme Configuration System)\r\n// 版本: 1.0\r\n// ============================================================================\r\n\r\n/**\r\n * 主题配置接口\r\n */\r\nexport interface Theme {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    colors: {\r\n        // 主要背景色\r\n        bgPrimary: string;\r\n        bgSecondary: string;\r\n        // 边框颜色\r\n        border: string;\r\n        borderActive: string;\r\n        // 文字颜色\r\n        textPrimary: string;\r\n        textSecondary: string;\r\n        textAccent: string;\r\n        // 强调色\r\n        accent: string;\r\n        accentGlow: string;\r\n        // 按钮颜色\r\n        buttonBg: string;\r\n        buttonHover: string;\r\n        buttonActive: string;\r\n        // 进度条颜色\r\n        progressBg: string;\r\n        // 头部颜色\r\n        headerBg: string;\r\n        // 标签颜色\r\n        tabBg: string;\r\n        tabActive: string;\r\n        // 底部颜色\r\n        footerBg: string;\r\n    };\r\n    patterns: {\r\n        // 背景图案 (CSS background-image)\r\n        overlay?: string;\r\n        // 装饰图案类名\r\n        decoration?: string;\r\n    };\r\n}\r\n\r\n/**\r\n * CSS 图案生成器\r\n */\r\nexport const patterns = {\r\n    // 祥云图片 - 用于主要装饰\r\n    cloudImage: `url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)`,\r\n\r\n    // 祥云图案（多层叠加）- 用于丰富背景层次\r\n    cloudsMulti: `\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png)\r\n  `,\r\n\r\n    // 祥云 + 星辰组合\r\n    cloudsWithStars: `\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    url(https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/古风祥云云朵85.png),\r\n    radial-gradient(circle at 25% 20%, rgba(255, 255, 255, 0.15) 1px, transparent 1px),\r\n    radial-gradient(circle at 75% 35%, rgba(255, 255, 255, 0.12) 1.5px, transparent 1.5px),\r\n    radial-gradient(circle at 35% 75%, rgba(255, 255, 255, 0.1) 1px, transparent 1px)\r\n  `,\r\n\r\n    // 星辰图案\r\n    stars: `\r\n    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),\r\n    radial-gradient(circle at 80% 60%, rgba(255, 255, 255, 0.25) 1.5px, transparent 1.5px),\r\n    radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.2) 1px, transparent 1px),\r\n    radial-gradient(circle at 60% 20%, rgba(255, 255, 255, 0.15) 2px, transparent 2px)\r\n  `,\r\n\r\n    // 纹理图案\r\n    texture: `\r\n    repeating-linear-gradient(\r\n      45deg,\r\n      transparent,\r\n      transparent 10px,\r\n      rgba(255, 255, 255, 0.03) 10px,\r\n      rgba(255, 255, 255, 0.03) 20px\r\n    )\r\n  `,\r\n\r\n    // 山水图案\r\n    landscape: `\r\n    linear-gradient(180deg,\r\n      transparent 0%,\r\n      rgba(255, 255, 255, 0.02) 30%,\r\n      rgba(255, 255, 255, 0.05) 50%,\r\n      rgba(255, 255, 255, 0.02) 70%,\r\n      transparent 100%\r\n    )\r\n  `,\r\n\r\n    // 莲花图案\r\n    lotus: `\r\n    radial-gradient(ellipse 120px 80px at 50% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 50%)\r\n  `,\r\n};\r\n\r\n/**\r\n * 预设主题列表\r\n */\r\nexport const themes: Theme[] = [\r\n    // 默认主题 - 玄青\r\n    {\r\n        id: 'default',\r\n        name: '玄青仙境',\r\n        description: '深邃玄青，如夜空星辰',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(49, 66, 117, 0.95) 0%, rgba(15, 20, 35, 0.98) 100%)',\r\n            bgSecondary: 'rgba(30, 40, 60, 0.5)',\r\n            border: 'rgba(100, 150, 200, 0.3)',\r\n            borderActive: 'rgba(100, 150, 200, 0.6)',\r\n            textPrimary: '#e0e8f0',\r\n            textSecondary: '#8090a0',\r\n            textAccent: '#a0b8d0',\r\n            accent: '#88aacc',\r\n            accentGlow: 'rgba(100, 150, 255, 0.3)',\r\n            buttonBg: 'rgba(100, 150, 200, 0.2)',\r\n            buttonHover: 'rgba(100, 150, 200, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',\r\n            progressBg: 'rgba(50, 60, 80, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(60, 80, 120, 0.4) 0%, rgba(80, 60, 100, 0.4) 100%)',\r\n            tabBg: 'rgba(30, 40, 60, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(80, 120, 180, 0.3) 0%, rgba(100, 80, 160, 0.3) 100%)',\r\n            footerBg: 'rgba(20, 30, 45, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsWithStars,\r\n        },\r\n    },\r\n\r\n    // 紫霞主题\r\n    {\r\n        id: 'purple',\r\n        name: '紫霞仙踪',\r\n        description: '紫气东来，霞光万道',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(80, 40, 100, 0.95) 0%, rgba(30, 15, 40, 0.98) 100%)',\r\n            bgSecondary: 'rgba(50, 30, 70, 0.5)',\r\n            border: 'rgba(150, 100, 200, 0.3)',\r\n            borderActive: 'rgba(180, 120, 220, 0.6)',\r\n            textPrimary: '#f0e0f8',\r\n            textSecondary: '#a080b0',\r\n            textAccent: '#c0a0d0',\r\n            accent: '#aa88cc',\r\n            accentGlow: 'rgba(150, 100, 255, 0.4)',\r\n            buttonBg: 'rgba(150, 100, 200, 0.2)',\r\n            buttonHover: 'rgba(150, 100, 200, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',\r\n            progressBg: 'rgba(60, 40, 80, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(80, 50, 100, 0.4) 0%, rgba(100, 40, 120, 0.4) 100%)',\r\n            tabBg: 'rgba(50, 30, 70, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(120, 80, 160, 0.3) 0%, rgba(140, 60, 180, 0.3) 100%)',\r\n            footerBg: 'rgba(30, 20, 50, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsMulti,\r\n        },\r\n    },\r\n\r\n    // 赤炎主题\r\n    {\r\n        id: 'red',\r\n        name: '赤炎烈焰',\r\n        description: '烈火焚天，赤炎千里',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(100, 40, 40, 0.95) 0%, rgba(40, 15, 15, 0.98) 100%)',\r\n            bgSecondary: 'rgba(70, 30, 30, 0.5)',\r\n            border: 'rgba(200, 100, 100, 0.3)',\r\n            borderActive: 'rgba(220, 120, 120, 0.6)',\r\n            textPrimary: '#f8e0e0',\r\n            textSecondary: '#b08080',\r\n            textAccent: '#d0a0a0',\r\n            accent: '#cc8888',\r\n            accentGlow: 'rgba(255, 100, 100, 0.4)',\r\n            buttonBg: 'rgba(200, 100, 100, 0.2)',\r\n            buttonHover: 'rgba(200, 100, 100, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',\r\n            progressBg: 'rgba(80, 40, 40, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(100, 50, 50, 0.4) 0%, rgba(120, 40, 40, 0.4) 100%)',\r\n            tabBg: 'rgba(70, 30, 30, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(160, 80, 80, 0.3) 0%, rgba(180, 60, 60, 0.3) 100%)',\r\n            footerBg: 'rgba(50, 20, 20, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsMulti,\r\n        },\r\n    },\r\n\r\n    // 碧海主题\r\n    {\r\n        id: 'cyan',\r\n        name: '碧海青天',\r\n        description: '碧波荡漾，海天一色',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(40, 80, 100, 0.95) 0%, rgba(15, 30, 40, 0.98) 100%)',\r\n            bgSecondary: 'rgba(30, 60, 70, 0.5)',\r\n            border: 'rgba(100, 180, 200, 0.3)',\r\n            borderActive: 'rgba(120, 200, 220, 0.6)',\r\n            textPrimary: '#e0f0f8',\r\n            textSecondary: '#80a0b0',\r\n            textAccent: '#a0c0d0',\r\n            accent: '#88ccdd',\r\n            accentGlow: 'rgba(100, 200, 255, 0.4)',\r\n            buttonBg: 'rgba(100, 180, 200, 0.2)',\r\n            buttonHover: 'rgba(100, 180, 200, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',\r\n            progressBg: 'rgba(40, 60, 80, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(50, 80, 100, 0.4) 0%, rgba(40, 100, 120, 0.4) 100%)',\r\n            tabBg: 'rgba(30, 60, 70, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(80, 140, 160, 0.3) 0%, rgba(60, 160, 180, 0.3) 100%)',\r\n            footerBg: 'rgba(20, 40, 50, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsWithStars,\r\n        },\r\n    },\r\n\r\n    // 金辉主题\r\n    {\r\n        id: 'gold',\r\n        name: '金辉灿烂',\r\n        description: '金光璀璨，辉映九天',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(80, 70, 40, 0.95) 0%, rgba(30, 25, 15, 0.98) 100%)',\r\n            bgSecondary: 'rgba(60, 50, 30, 0.5)',\r\n            border: 'rgba(200, 180, 100, 0.3)',\r\n            borderActive: 'rgba(220, 200, 120, 0.6)',\r\n            textPrimary: '#f8f0e0',\r\n            textSecondary: '#b0a080',\r\n            textAccent: '#d0c0a0',\r\n            accent: '#ccaa88',\r\n            accentGlow: 'rgba(255, 200, 100, 0.4)',\r\n            buttonBg: 'rgba(200, 180, 100, 0.2)',\r\n            buttonHover: 'rgba(200, 180, 100, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',\r\n            progressBg: 'rgba(60, 50, 40, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(80, 70, 50, 0.4) 0%, rgba(100, 80, 40, 0.4) 100%)',\r\n            tabBg: 'rgba(60, 50, 30, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(160, 140, 80, 0.3) 0%, rgba(180, 160, 60, 0.3) 100%)',\r\n            footerBg: 'rgba(40, 35, 20, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsMulti,\r\n        },\r\n    },\r\n\r\n    // 翠竹主题\r\n    {\r\n        id: 'green',\r\n        name: '翠竹清风',\r\n        description: '竹影婆娑，清风徐来',\r\n        colors: {\r\n            bgPrimary: 'linear-gradient(180deg, rgba(40, 80, 60, 0.95) 0%, rgba(15, 30, 25, 0.98) 100%)',\r\n            bgSecondary: 'rgba(30, 60, 50, 0.5)',\r\n            border: 'rgba(100, 180, 150, 0.3)',\r\n            borderActive: 'rgba(120, 200, 170, 0.6)',\r\n            textPrimary: '#e0f8f0',\r\n            textSecondary: '#80b0a0',\r\n            textAccent: '#a0d0c0',\r\n            accent: '#88ccaa',\r\n            accentGlow: 'rgba(100, 255, 200, 0.4)',\r\n            buttonBg: 'rgba(100, 180, 150, 0.2)',\r\n            buttonHover: 'rgba(100, 180, 150, 0.3)',\r\n            buttonActive: 'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',\r\n            progressBg: 'rgba(40, 60, 50, 0.8)',\r\n            headerBg: 'linear-gradient(90deg, rgba(50, 80, 70, 0.4) 0%, rgba(40, 100, 80, 0.4) 100%)',\r\n            tabBg: 'rgba(30, 60, 50, 0.5)',\r\n            tabActive: 'linear-gradient(135deg, rgba(80, 140, 120, 0.3) 0%, rgba(60, 160, 140, 0.3) 100%)',\r\n            footerBg: 'rgba(20, 40, 35, 0.8)',\r\n        },\r\n        patterns: {\r\n            overlay: patterns.cloudsMulti,\r\n        },\r\n    },\r\n];\r\n\r\n/**\r\n * 根据ID获取主题\r\n */\r\nexport function getThemeById(id: string): Theme | undefined {\r\n    return themes.find(t => t.id === id);\r\n}\r\n\r\n/**\r\n * 获取默认主题\r\n */\r\nexport function getDefaultTheme(): Theme {\r\n    return themes[0];\r\n}","import _ from 'lodash';\nimport { getCharacterImages, resetDualSoulSession } from './character-assets';\nimport { Schema } from './schema';\nimport { getDefaultTheme, getThemeById, themes } from './themes';\n/**\n * 从消息内容中解析 <visual_cards> 标签\n * @param content 消息内容\n * @returns 解析出的视觉卡片数组\n */\nfunction parseVisualCards(content) {\n    try {\n        // 匹配 <visual_cards>...</visual_cards> 标签\n        const match = content.match(/<visual_cards>\\s*([\\s\\S]*?)\\s*<\\/visual_cards>/);\n        if (!match) {\n            return [];\n        }\n        const jsonStr = match[1].trim();\n        if (!jsonStr) {\n            return [];\n        }\n        // 解析 JSON 数组\n        const cards = JSON.parse(jsonStr);\n        // 验证数据结构\n        if (!Array.isArray(cards)) {\n            console.warn('[图鉴] visual_cards 不是数组');\n            return [];\n        }\n        return cards.filter(card => card.name &&\n            card.img_code &&\n            typeof card.back_text === 'string');\n    }\n    catch (e) {\n        console.error('[图鉴] 解析 visual_cards 失败', e);\n        return [];\n    }\n}\n/**\n * 将 AI 输出的视觉卡片转换为图鉴卡片\n * @param visualCards AI 输出的视觉卡片\n * @returns 图鉴卡片数组\n */\nfunction convertToGalleryCards(visualCards) {\n    // 重置虞汐颜会话缓存\n    resetDualSoulSession();\n    const result = [];\n    for (const card of visualCards) {\n        // 使用新的 getCharacterImages 函数获取正面和背面图片\n        const images = getCharacterImages(card.name, card.img_code, card.back_img_code);\n        // 如果返回 null（虞汐颜重复），则跳过\n        if (images === null) {\n            console.info(`[图鉴] 跳过重复的 ${card.name} 卡片`);\n            continue;\n        }\n        result.push({\n            name: card.name,\n            front: images.front,\n            back: images.back,\n            backText: card.back_text || '',\n            isFlipped: false,\n            frontName: images.frontName,\n            backName: images.backName,\n        });\n    }\n    return result;\n}\nexport const useDataStore = defineStore('data', errorCatched(() => {\n    const message_id = getCurrentMessageId();\n    // 从 MVU 变量中获取 stat_data\n    const rawData = ref(null);\n    // 图鉴卡片数据\n    const galleryCards = ref([]);\n    // 卡片缓存 - 避免重复解析\n    const cardCache = new Map();\n    // 初始化数据（带重试机制）\n    const initData = (retryCount = 0) => {\n        try {\n            const variables = getVariables({ type: 'message', message_id });\n            const statData = _.get(variables, 'stat_data', null);\n            if (statData && Object.keys(statData).length > 0) {\n                // 使用 Schema.parse 来解析和验证数据\n                rawData.value = Schema.parse(statData);\n            }\n            else if (statData === null || statData === undefined) {\n                // stat_data 为 null 或 undefined，使用空对象初始化以触发所有默认值\n                const defaultData = Schema.parse({});\n                rawData.value = defaultData;\n                console.info('[踏月寻仙] 使用默认值初始化变量数据', {\n                    等级: defaultData.本尊.等级,\n                    灵根: defaultData.本尊.灵根,\n                    体质: defaultData.本尊.体质,\n                    功法: defaultData.本尊.功法,\n                });\n                toastr.info('当前楼层无数据，已使用默认值初始化', '踏月寻仙');\n                // 解析当前楼层消息中的 visual_cards\n                parseCurrentMessageCards();\n                return; // 直接返回，不再重试\n            }\n            console.info('[踏月寻仙] 成功加载变量数据', {\n                等级: rawData.value?.本尊.等级,\n                灵根: rawData.value?.本尊.灵根,\n                体质: rawData.value?.本尊.体质,\n                功法: rawData.value?.本尊.功法,\n            });\n            // 解析当前楼层消息中的 visual_cards\n            parseCurrentMessageCards();\n        }\n        catch (e) {\n            // Schema.parse 失败或其他错误\n            console.error('[踏月寻仙] 初始化数据失败', e);\n            if (retryCount < 5) {\n                // 数据还没准备好，重试（减少重试次数到5次，固定延迟200ms，总计最多等待1秒）\n                console.info(`[踏月寻仙] 数据未就绪，200ms后第${retryCount + 1}次重试`);\n                setTimeout(() => {\n                    initData(retryCount + 1);\n                }, 200); // 固定延迟200ms\n            }\n            else {\n                console.warn('[踏月寻仙] 重试次数已用完，尝试手动触发MVU解析');\n                // 尝试手动触发MVU解析当前消息\n                tryManualParseMvuMessage();\n            }\n        }\n    };\n    // 手动触发MVU解析当前消息（用于初始楼层）\n    const tryManualParseMvuMessage = async () => {\n        try {\n            // 检查MVU是否已初始化\n            await waitGlobalInitialized('Mvu');\n            // 获取当前消息内容\n            const messages = getChatMessages(message_id);\n            if (messages.length === 0) {\n                console.warn('[踏月寻仙] 无法获取当前消息内容');\n                fallbackToInheritOrDefault();\n                return;\n            }\n            const content = messages[0].message || '';\n            console.info('[踏月寻仙] 尝试手动触发MVU解析，消息长度:', content.length);\n            // 获取当前的MVU数据（可能为空）\n            const currentMvuData = Mvu.getMvuData({ type: 'message', message_id });\n            // 手动解析消息中的MVU指令\n            const newMvuData = await Mvu.parseMessage(content, currentMvuData);\n            // 将解析结果写回当前楼层\n            await Mvu.replaceMvuData(newMvuData, { type: 'message', message_id });\n            console.info('[踏月寻仙] MVU手动解析完成，重新加载数据');\n            // 延迟后重新加载数据\n            setTimeout(() => {\n                const variables = getVariables({ type: 'message', message_id });\n                const statData = _.get(variables, 'stat_data', null);\n                if (statData && Object.keys(statData).length > 0) {\n                    rawData.value = Schema.parse(statData);\n                    console.info('[踏月寻仙] ✅ 手动解析后成功加载数据');\n                    toastr.success('已成功初始化状态数据', '踏月寻仙');\n                    parseCurrentMessageCards();\n                }\n                else {\n                    console.warn('[踏月寻仙] 手动解析后仍无数据，使用备用方案');\n                    fallbackToInheritOrDefault();\n                }\n            }, 500);\n        }\n        catch (e) {\n            console.error('[踏月寻仙] 手动触发MVU解析失败', e);\n            fallbackToInheritOrDefault();\n        }\n    };\n    // 备用方案：继承或使用默认值（仅用于显示，不保存）\n    const fallbackToInheritOrDefault = () => {\n        console.warn('[踏月寻仙] 启用备用方案');\n        // 尝试从上一楼层继承数据用于显示\n        const inheritedData = tryInheritFromPreviousFloor();\n        if (inheritedData) {\n            // 成功继承数据，仅用于显示，不保存到当前楼层\n            rawData.value = inheritedData;\n            console.info('[踏月寻仙] 从上一楼层继承数据用于显示（不保存）');\n            toastr.info('正在显示上一楼层的状态数据', '踏月寻仙');\n        }\n        else {\n            // 无法继承，使用默认值\n            console.warn('[踏月寻仙] 无法继承数据，使用默认值');\n            rawData.value = Schema.parse({});\n            toastr.info('使用默认状态数据', '踏月寻仙');\n        }\n        // 解析当前楼层消息中的 visual_cards\n        parseCurrentMessageCards();\n    };\n    // 尝试从上一楼层继承数据\n    const tryInheritFromPreviousFloor = () => {\n        try {\n            // 从当前楼层往前查找最近的有效数据\n            // 获取所有聊天消息（从第0楼到最后一楼）\n            const chatMessages = getChatMessages('0-{{lastMessageId}}');\n            const currentIndex = chatMessages.findIndex(msg => msg.message_id === message_id);\n            if (currentIndex === -1) {\n                console.warn('[踏月寻仙] 无法找到当前楼层索引');\n                return null;\n            }\n            // 从当前楼层往前遍历，查找最近的有效 stat_data\n            for (let i = currentIndex - 1; i >= 0; i--) {\n                const prevMessageId = chatMessages[i].message_id;\n                const prevVariables = getVariables({ type: 'message', message_id: prevMessageId });\n                const prevStatData = _.get(prevVariables, 'stat_data', null);\n                if (prevStatData) {\n                    // 找到有效数据，解析并返回\n                    const parsedData = Schema.parse(prevStatData);\n                    console.info(`[踏月寻仙] 从第 ${prevMessageId} 楼继承数据`);\n                    return parsedData;\n                }\n            }\n            console.warn('[踏月寻仙] 前面的楼层都没有有效数据');\n            return null;\n        }\n        catch (e) {\n            console.error('[踏月寻仙] 继承数据时出错', e);\n            return null;\n        }\n    };\n    // 解析当前楼层消息中的 visual_cards\n    const parseCurrentMessageCards = () => {\n        try {\n            // 获取当前消息内容\n            const messages = getChatMessages(message_id);\n            if (messages.length > 0) {\n                const content = messages[0].message || '';\n                // 检查缓存\n                const cacheKey = `${message_id}_${content.length}`;\n                if (cardCache.has(cacheKey)) {\n                    galleryCards.value = cardCache.get(cacheKey);\n                    console.info('[图鉴] 使用缓存的角色卡片');\n                    return;\n                }\n                const visualCards = parseVisualCards(content);\n                if (visualCards.length > 0) {\n                    const cards = convertToGalleryCards(visualCards);\n                    galleryCards.value = cards;\n                    // 缓存结果\n                    cardCache.set(cacheKey, cards);\n                    // 预加载图片\n                    preloadImages(cards);\n                    console.info('[图鉴] 解析到角色卡片', cards.length, '张');\n                }\n                else {\n                    galleryCards.value = [];\n                }\n            }\n        }\n        catch (e) {\n            console.error('[图鉴] 解析消息卡片失败', e);\n            toastr.warning(`解析角色卡片失败: ${e instanceof Error ? e.message : '未知错误'}`, '图鉴');\n        }\n    };\n    // 预加载图片\n    const preloadImages = (cards) => {\n        cards.forEach(card => {\n            // 预加载正面图片\n            const frontImg = new Image();\n            frontImg.src = card.front;\n            // 预加载背面图片\n            const backImg = new Image();\n            backImg.src = card.back;\n        });\n        console.info('[图鉴] 开始预加载', cards.length * 2, '张图片');\n    };\n    // 翻转卡片\n    const toggleCardFlip = (index) => {\n        if (galleryCards.value[index]) {\n            galleryCards.value[index].isFlipped = !galleryCards.value[index].isFlipped;\n        }\n    };\n    // 等待MVU框架初始化后再加载数据\n    waitGlobalInitialized('Mvu').then(() => {\n        console.info('[踏月寻仙] MVU 框架已初始化，开始加载数据');\n        // 立即开始初始化，不再额外延迟\n        initData();\n    }).catch(() => {\n        console.warn('[踏月寻仙] MVU 框架未加载，直接初始化');\n        initData();\n    });\n    // 监听消息更新事件，实时刷新数据\n    eventOn(tavern_events.MESSAGE_UPDATED, (id) => {\n        if (id === message_id) {\n            console.info('[踏月寻仙] 检测到消息更新，重新加载数据');\n            setTimeout(() => initData(), 200);\n        }\n    });\n    // 监听消息删除事件（重新roll时会触发）\n    eventOn(tavern_events.MESSAGE_DELETED, (id) => {\n        console.info('[踏月寻仙] 检测到消息删除（可能是重新roll），准备重新初始化');\n    });\n    // 监听消息接收事件（新消息生成完成）\n    eventOn(tavern_events.MESSAGE_RECEIVED, (id) => {\n        if (id === message_id) {\n            console.info('[踏月寻仙] 检测到新消息接收，重新加载数据');\n            setTimeout(() => initData(), 500);\n        }\n    });\n    // 监听 MVU 变量更新事件\n    waitGlobalInitialized('Mvu').then(() => {\n        console.info('[踏月寻仙] 开始监听 MVU 变量更新事件');\n        // 监听 MVU 变量更新结束事件\n        // 注意：VARIABLE_UPDATE_ENDED 事件只有两个参数\n        eventOn(Mvu.events.VARIABLE_UPDATE_ENDED, (new_variables, old_variables) => {\n            try {\n                const statData = _.get(new_variables, 'stat_data', null);\n                console.info('[踏月寻仙] MVU 变量更新事件触发', {\n                    has_stat_data: statData !== null && Object.keys(statData).length > 0,\n                    new_stat_data: statData\n                });\n                // 更新当前楼层的数据\n                if (statData && Object.keys(statData).length > 0) {\n                    // 强制更新：先清空再设置，确保Vue检测到变化\n                    rawData.value = null;\n                    nextTick(() => {\n                        const parsedData = Schema.parse(statData);\n                        rawData.value = parsedData;\n                        console.info('[踏月寻仙] ✅ MVU 变量已强制更新', {\n                            等级: parsedData.本尊.等级,\n                            灵根: parsedData.本尊.灵根,\n                            体质: parsedData.本尊.体质,\n                            功法: parsedData.本尊.功法,\n                            本命兵器: parsedData.本尊.本命兵器,\n                            灵石: parsedData.本尊.灵石\n                        });\n                    });\n                }\n                else {\n                    console.warn('[踏月寻仙] stat_data 为空，跳过更新');\n                }\n            }\n            catch (e) {\n                console.error('[踏月寻仙] 处理 MVU 变量更新失败', e);\n            }\n        });\n    }).catch(e => {\n        console.warn('[踏月寻仙] MVU 框架未加载，将仅显示静态数据', e);\n    });\n    // 计算属性：安全获取各部分数据\n    const 世界时钟 = computed(() => rawData.value?.世界时钟 ?? { 纪元: '末法时代', 年份: 1 });\n    const 世界地图 = computed(() => rawData.value?.世界地图 ?? {});\n    const 世界图志 = computed(() => rawData.value?.世界图志 ?? {});\n    const 本尊 = computed(() => rawData.value?.本尊 ?? Schema.parse({}).本尊);\n    const 红颜 = computed(() => rawData.value?.红颜 ?? {});\n    const NPC图鉴 = computed(() => rawData.value?.NPC图鉴 ?? {});\n    // 是否有数据\n    const hasData = computed(() => rawData.value !== null);\n    // 是否有图鉴卡片\n    const hasGalleryCards = computed(() => galleryCards.value.length > 0);\n    return {\n        rawData,\n        世界时钟,\n        世界地图,\n        世界图志,\n        本尊,\n        红颜,\n        NPC图鉴,\n        hasData,\n        refresh: initData,\n        // 图鉴相关\n        galleryCards,\n        hasGalleryCards,\n        toggleCardFlip,\n        parseCurrentMessageCards,\n    };\n}));\n// ============================================================================\n// 主题管理 Store (Theme Management Store)\n// ============================================================================\nexport const useThemeStore = defineStore('theme', () => {\n    // 从消息楼层变量中读取用户选择的主题ID\n    const currentThemeId = ref('default');\n    // 当前主题对象\n    const currentTheme = computed(() => {\n        return getThemeById(currentThemeId.value) || getDefaultTheme();\n    });\n    // 所有可用主题列表\n    const availableThemes = computed(() => themes);\n    // 初始化主题 - 从消息楼层变量读取\n    const initTheme = () => {\n        try {\n            const message_id = getCurrentMessageId();\n            const variables = getVariables({ type: 'message', message_id });\n            const savedThemeId = _.get(variables, 'ui_theme_id', 'default');\n            if (typeof savedThemeId === 'string' && getThemeById(savedThemeId)) {\n                currentThemeId.value = savedThemeId;\n                console.info('[主题] 加载已保存的主题:', savedThemeId);\n            }\n            else {\n                currentThemeId.value = 'default';\n                console.info('[主题] 使用默认主题');\n            }\n        }\n        catch (e) {\n            console.warn('[主题] 加载主题失败，使用默认主题', e);\n            currentThemeId.value = 'default';\n        }\n    };\n    // 切换主题\n    const setTheme = (themeId) => {\n        if (getThemeById(themeId)) {\n            currentThemeId.value = themeId;\n            // 保存到消息楼层变量\n            try {\n                const message_id = getCurrentMessageId();\n                updateVariablesWith(vars => {\n                    _.set(vars, 'ui_theme_id', themeId);\n                    return vars;\n                }, { type: 'message', message_id });\n                console.info('[主题] 主题已切换并保存:', themeId);\n                toastr.success(`已切换至「${currentTheme.value.name}」主题`, '踏月寻仙');\n            }\n            catch (e) {\n                console.error('[主题] 保存主题失败', e);\n                toastr.warning('主题切换成功，但保存失败', '踏月寻仙');\n            }\n        }\n        else {\n            console.warn('[主题] 无效的主题ID:', themeId);\n        }\n    };\n    // 初始化\n    initTheme();\n    return {\n        currentThemeId,\n        currentTheme,\n        availableThemes,\n        setTheme,\n    };\n});\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"header\" };\nconst _hoisted_2 = { class: \"header-left\" };\nconst _hoisted_3 = [\"title\"];\nconst _hoisted_4 = { class: \"world-time\" };\nconst _hoisted_5 = { class: \"theme-selector-header\" };\nconst _hoisted_6 = { class: \"theme-list\" };\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = { class: \"theme-info\" };\nconst _hoisted_9 = { class: \"theme-name\" };\nconst _hoisted_10 = { class: \"theme-desc\" };\nconst _hoisted_11 = {\n    key: 0,\n    class: \"fa-solid fa-check theme-check\"\n};\nconst _hoisted_12 = { class: \"tab-nav\" };\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = { class: \"content\" };\nconst _hoisted_15 = {\n    key: 0,\n    class: \"panel cultivation-panel\"\n};\nconst _hoisted_16 = { class: \"identity-section\" };\nconst _hoisted_17 = { class: \"identity-name\" };\nconst _hoisted_18 = { class: \"identity-info\" };\nconst _hoisted_19 = { class: \"realm-section\" };\nconst _hoisted_20 = { class: \"realm-status\" };\nconst _hoisted_21 = { class: \"progress-section\" };\nconst _hoisted_22 = { class: \"progress-label\" };\nconst _hoisted_23 = { class: \"progress-bar\" };\nconst _hoisted_24 = { class: \"progress-percent\" };\nconst _hoisted_25 = { class: \"stats-grid\" };\nconst _hoisted_26 = { class: \"stat-item\" };\nconst _hoisted_27 = { class: \"stat-item\" };\nconst _hoisted_28 = { class: \"stat-value\" };\nconst _hoisted_29 = { class: \"stat-item\" };\nconst _hoisted_30 = { class: \"stat-value\" };\nconst _hoisted_31 = { class: \"stat-item\" };\nconst _hoisted_32 = { class: \"stat-value\" };\nconst _hoisted_33 = { class: \"stat-item\" };\nconst _hoisted_34 = { class: \"stat-value gold\" };\nconst _hoisted_35 = { class: \"stat-item\" };\nconst _hoisted_36 = { class: \"stat-value\" };\nconst _hoisted_37 = { class: \"panel skills-panel\" };\nconst _hoisted_38 = { class: \"skills-list\" };\nconst _hoisted_39 = { class: \"skill-name\" };\nconst _hoisted_40 = { class: \"skill-desc\" };\nconst _hoisted_41 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_42 = { class: \"panel inventory-panel\" };\nconst _hoisted_43 = { class: \"inventory-section\" };\nconst _hoisted_44 = { class: \"items-grid\" };\nconst _hoisted_45 = { class: \"item-name\" };\nconst _hoisted_46 = { class: \"item-rank\" };\nconst _hoisted_47 = { class: \"item-desc\" };\nconst _hoisted_48 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_49 = { class: \"inventory-section\" };\nconst _hoisted_50 = { class: \"items-grid\" };\nconst _hoisted_51 = { class: \"item-header\" };\nconst _hoisted_52 = { class: \"item-name\" };\nconst _hoisted_53 = { class: \"item-count\" };\nconst _hoisted_54 = { class: \"item-rank\" };\nconst _hoisted_55 = { class: \"item-desc\" };\nconst _hoisted_56 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_57 = { class: \"panel companions-panel\" };\nconst _hoisted_58 = { class: \"companions-list\" };\nconst _hoisted_59 = { class: \"companion-header\" };\nconst _hoisted_60 = { class: \"companion-name\" };\nconst _hoisted_61 = { class: \"companion-relation\" };\nconst _hoisted_62 = { class: \"relation-value\" };\nconst _hoisted_63 = { class: \"companion-favor\" };\nconst _hoisted_64 = { class: \"favor-bar\" };\nconst _hoisted_65 = { class: \"favor-value\" };\nconst _hoisted_66 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_67 = { class: \"panel map-panel\" };\nconst _hoisted_68 = { class: \"current-location\" };\nconst _hoisted_69 = { class: \"location-name\" };\nconst _hoisted_70 = { class: \"location-layer\" };\nconst _hoisted_71 = { class: \"location-desc\" };\nconst _hoisted_72 = { class: \"connections\" };\nconst _hoisted_73 = { class: \"connections-list\" };\nconst _hoisted_74 = {\n    key: 0,\n    class: \"empty-hint\",\n    style: { \"padding\": \"10px\" }\n};\nconst _hoisted_75 = { class: \"panel gallery-panel\" };\nconst _hoisted_76 = {\n    key: 0,\n    class: \"gallery-container\"\n};\nconst _hoisted_77 = [\"onClick\"];\nconst _hoisted_78 = { class: \"card-inner\" };\nconst _hoisted_79 = { class: \"card-face card-front\" };\nconst _hoisted_80 = [\"src\", \"alt\"];\nconst _hoisted_81 = { class: \"card-name-bar\" };\nconst _hoisted_82 = { class: \"card-face card-back\" };\nconst _hoisted_83 = { class: \"back-content\" };\nconst _hoisted_84 = [\"src\", \"alt\"];\nconst _hoisted_85 = { class: \"back-info-panel\" };\nconst _hoisted_86 = { class: \"back-name\" };\nconst _hoisted_87 = { class: \"back-text\" };\nconst _hoisted_88 = {\n    key: 1,\n    class: \"empty-hint\"\n};\nconst _hoisted_89 = { class: \"footer\" };\nconst _hoisted_90 = { class: \"footer-item\" };\nconst _hoisted_91 = { class: \"footer-item\" };\nimport { getDangerColor, getRealmColor, getRootColor } from './schema';\nimport { useDataStore, useThemeStore } from './store';\n\nimport { ref, computed } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'app',\n    setup(__props) {\n        const store = useDataStore();\n        const themeStore = useThemeStore();\n        // 标签页配置\n        const tabs = [\n            { id: 'cultivation', label: '修炼', icon: 'fa-solid fa-yin-yang' },\n            { id: 'skills', label: '神通', icon: 'fa-solid fa-hand-sparkles' },\n            { id: 'inventory', label: '储物', icon: 'fa-solid fa-box-open' },\n            { id: 'companions', label: '红颜', icon: 'fa-solid fa-heart' },\n            { id: 'map', label: '行踪', icon: 'fa-solid fa-map' },\n            { id: 'gallery', label: '图鉴', icon: 'fa-solid fa-images' },\n        ];\n        const activeTab = ref('gallery'); // 初始显示图鉴\n        const isCollapsed = ref(false);\n        const showThemeSelector = ref(false);\n        // 切换折叠状态\n        const toggleCollapse = () => {\n            isCollapsed.value = !isCollapsed.value;\n        };\n        // 切换主题选择器\n        const toggleThemeSelector = () => {\n            showThemeSelector.value = !showThemeSelector.value;\n        };\n        // 选择主题\n        const selectTheme = (themeId) => {\n            themeStore.setTheme(themeId);\n            showThemeSelector.value = false;\n        };\n        // 应用主题的CSS变量\n        const themeStyles = computed(() => {\n            const theme = themeStore.currentTheme;\n            return {\n                '--bg-primary': theme.colors.bgPrimary,\n                '--bg-secondary': theme.colors.bgSecondary,\n                '--border-color': theme.colors.border,\n                '--border-active': theme.colors.borderActive,\n                '--text-primary': theme.colors.textPrimary,\n                '--text-secondary': theme.colors.textSecondary,\n                '--text-accent': theme.colors.textAccent,\n                '--accent-color': theme.colors.accent,\n                '--accent-glow': theme.colors.accentGlow,\n                '--button-bg': theme.colors.buttonBg,\n                '--button-hover': theme.colors.buttonHover,\n                '--button-active': theme.colors.buttonActive,\n                '--progress-bg': theme.colors.progressBg,\n                '--header-bg': theme.colors.headerBg,\n                '--tab-bg': theme.colors.tabBg,\n                '--tab-active': theme.colors.tabActive,\n                '--footer-bg': theme.colors.footerBg,\n                '--pattern-overlay': theme.patterns.overlay || 'none',\n            };\n        });\n        // 计算属性\n        const realmColor = computed(() => getRealmColor(store.本尊.等级));\n        const rootColor = computed(() => getRootColor(store.本尊.灵根));\n        const dangerColor = computed(() => getDangerColor(store.本尊.行踪.危险度 ?? 10));\n        const locationColor = computed(() => {\n            const layer = store.本尊.行踪.所属层级;\n            if (layer === '天层')\n                return '#88ddff';\n            if (layer === '下层')\n                return '#ff4444';\n            return '#44aa44';\n        });\n        // 获取区域颜色\n        const getRegionColor = (region) => {\n            const map = store.世界地图;\n            const info = map[region];\n            if (!info)\n                return '#888888';\n            return getDangerColor(info.danger);\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"cultivation-status\", { collapsed: _unref(isCollapsed) }]),\n                style: _normalizeStyle(_unref(themeStyles))\n            }, [\n                _createCommentVNode(\" 背景图案层 \"),\n                _cache[24] || (_cache[24] = _createElementVNode(\"div\", { class: \"pattern-overlay\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\" 仙鹤装饰 - 顶部中央 \"),\n                _cache[25] || (_cache[25] = _createElementVNode(\"div\", { class: \"crane-decoration\" }, [\n                    _createElementVNode(\"img\", {\n                        src: \"https://pub-4d14ab94aa29488b977bc5be9f2a06ef.r2.dev/picgo/仙鹤.png\",\n                        alt: \"仙鹤\"\n                    })\n                ], -1 /* CACHED */)),\n                _createCommentVNode(\" 顶部：折叠按钮 + 世界时钟与位置 \"),\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"button\", {\n                            class: \"collapse-btn\",\n                            onClick: toggleCollapse,\n                            title: _unref(isCollapsed) ? '展开状态栏' : '收起状态栏'\n                        }, [\n                            _createElementVNode(\"i\", {\n                                class: _normalizeClass(_unref(isCollapsed) ? 'fa-solid fa-chevron-down' : 'fa-solid fa-chevron-up')\n                            }, null, 2 /* CLASS */)\n                        ], 8 /* PROPS */, _hoisted_3),\n                        _createElementVNode(\"button\", {\n                            class: \"theme-btn\",\n                            onClick: toggleThemeSelector,\n                            title: \"切换主题\"\n                        }, [...(_cache[3] || (_cache[3] = [\n                                _createElementVNode(\"i\", { class: \"fa-solid fa-palette\" }, null, -1 /* CACHED */)\n                            ]))])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _cache[4] || (_cache[4] = _createElementVNode(\"i\", { class: \"fa-solid fa-moon\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).世界时钟.纪元) + \" · 第\" + _toDisplayString(_unref(store).世界时钟.年份) + \"年\", 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", {\n                        class: \"location\",\n                        style: _normalizeStyle({ color: _unref(locationColor) })\n                    }, [\n                        _cache[5] || (_cache[5] = _createElementVNode(\"i\", { class: \"fa-solid fa-location-dot\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.行踪.当前区域), 1 /* TEXT */),\n                        _createElementVNode(\"span\", {\n                            class: \"danger-badge\",\n                            style: _normalizeStyle({ backgroundColor: _unref(dangerColor) })\n                        }, \" 危险度 \" + _toDisplayString(_unref(store).本尊.行踪.危险度 ?? 10), 5 /* TEXT, STYLE */)\n                    ], 4 /* STYLE */)\n                ]),\n                _createCommentVNode(\" 主题选择器弹窗 \"),\n                _createVNode(_Transition, { name: \"theme-selector-fade\" }, {\n                    default: _withCtx(() => [\n                        (_unref(showThemeSelector))\n                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                key: 0,\n                                class: \"theme-selector-overlay\",\n                                onClick: _cache[2] || (_cache[2] = ($event) => (showThemeSelector.value = false))\n                            }, [\n                                _createElementVNode(\"div\", {\n                                    class: \"theme-selector\",\n                                    onClick: _cache[1] || (_cache[1] = _withModifiers(() => { }, [\"stop\"]))\n                                }, [\n                                    _createElementVNode(\"div\", _hoisted_5, [\n                                        _cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, [\n                                            _createElementVNode(\"i\", { class: \"fa-solid fa-palette\" }),\n                                            _createTextVNode(\" 选择主题\")\n                                        ], -1 /* CACHED */)),\n                                        _createElementVNode(\"button\", {\n                                            class: \"close-btn\",\n                                            onClick: _cache[0] || (_cache[0] = ($event) => (showThemeSelector.value = false))\n                                        }, [...(_cache[6] || (_cache[6] = [\n                                                _createElementVNode(\"i\", { class: \"fa-solid fa-times\" }, null, -1 /* CACHED */)\n                                            ]))])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_6, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(themeStore).availableThemes, (theme) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: theme.id,\n                                                class: _normalizeClass([\"theme-item\", { active: theme.id === _unref(themeStore).currentThemeId }]),\n                                                onClick: ($event) => (selectTheme(theme.id))\n                                            }, [\n                                                _createElementVNode(\"div\", {\n                                                    class: \"theme-preview\",\n                                                    style: _normalizeStyle({ background: theme.colors.bgPrimary })\n                                                }, [\n                                                    _createElementVNode(\"div\", {\n                                                        class: \"theme-preview-border\",\n                                                        style: _normalizeStyle({ borderColor: theme.colors.border })\n                                                    }, null, 4 /* STYLE */)\n                                                ], 4 /* STYLE */),\n                                                _createElementVNode(\"div\", _hoisted_8, [\n                                                    _createElementVNode(\"div\", _hoisted_9, _toDisplayString(theme.name), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_10, _toDisplayString(theme.description), 1 /* TEXT */)\n                                                ]),\n                                                (theme.id === _unref(themeStore).currentThemeId)\n                                                    ? (_openBlock(), _createElementBlock(\"i\", _hoisted_11))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ], 10 /* CLASS, PROPS */, _hoisted_7));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ])\n                                ])\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 1 /* STABLE */\n                }),\n                _createCommentVNode(\" 主体：标签页导航 \"),\n                _createElementVNode(\"div\", _hoisted_12, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n                        return _createElementVNode(\"button\", {\n                            key: tab.id,\n                            class: _normalizeClass(['tab-btn', { active: _unref(activeTab) === tab.id }]),\n                            onClick: ($event) => (activeTab.value = tab.id)\n                        }, [\n                            _createElementVNode(\"i\", {\n                                class: _normalizeClass(tab.icon)\n                            }, null, 2 /* CLASS */),\n                            _createTextVNode(\" \" + _toDisplayString(tab.label), 1 /* TEXT */)\n                        ], 10 /* CLASS, PROPS */, _hoisted_13);\n                    }), 64 /* STABLE_FRAGMENT */))\n                ]),\n                _createCommentVNode(\" 内容区域 \"),\n                _createElementVNode(\"div\", _hoisted_14, [\n                    _createCommentVNode(\" 修炼面板 \"),\n                    (_unref(activeTab) === 'cultivation')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                            _createElementVNode(\"div\", _hoisted_16, [\n                                _createElementVNode(\"div\", _hoisted_17, _toDisplayString(_unref(store).本尊.身份.姓名), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_18, [\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.身份.宗门), 1 /* TEXT */),\n                                    _cache[8] || (_cache[8] = _createElementVNode(\"span\", { class: \"divider\" }, \"·\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.身份.出身), 1 /* TEXT */)\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_19, [\n                                _createElementVNode(\"div\", {\n                                    class: \"realm-title\",\n                                    style: _normalizeStyle({ color: _unref(realmColor) })\n                                }, [\n                                    _cache[9] || (_cache[9] = _createElementVNode(\"i\", { class: \"fa-solid fa-yin-yang\" }, null, -1 /* CACHED */)),\n                                    _createTextVNode(\" \" + _toDisplayString(_unref(store).本尊.境界描述), 1 /* TEXT */)\n                                ], 4 /* STYLE */),\n                                _createElementVNode(\"div\", _hoisted_20, _toDisplayString(_unref(store).本尊.状态), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_21, [\n                                _createElementVNode(\"div\", _hoisted_22, [\n                                    _cache[10] || (_cache[10] = _createElementVNode(\"span\", null, \"修为进度\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.修为) + \" / \" + _toDisplayString(_unref(store).本尊.突破阈值), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_23, [\n                                    _createElementVNode(\"div\", {\n                                        class: \"progress-fill\",\n                                        style: _normalizeStyle({ width: _unref(store).本尊.进度, backgroundColor: _unref(realmColor) })\n                                    }, null, 4 /* STYLE */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_24, _toDisplayString(_unref(store).本尊.进度), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_25, [\n                                _createElementVNode(\"div\", _hoisted_26, [\n                                    _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"灵根\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", {\n                                        class: \"stat-value\",\n                                        style: _normalizeStyle({ color: _unref(rootColor) })\n                                    }, _toDisplayString(_unref(store).本尊.灵根), 5 /* TEXT, STYLE */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_27, [\n                                    _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"体质\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_28, _toDisplayString(_unref(store).本尊.体质), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_29, [\n                                    _cache[13] || (_cache[13] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"功法\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_30, _toDisplayString(_unref(store).本尊.功法), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_31, [\n                                    _cache[14] || (_cache[14] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"本命兵器\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_32, _toDisplayString(_unref(store).本尊.本命兵器), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_33, [\n                                    _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"灵石\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_34, _toDisplayString(_unref(store).本尊.灵石), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_35, [\n                                    _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"寿元\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_36, _toDisplayString(_unref(store).本尊.寿元状态), 1 /* TEXT */)\n                                ])\n                            ])\n                        ]))\n                        : (_unref(activeTab) === 'skills')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                _createCommentVNode(\" 神通面板 \"),\n                                _createElementVNode(\"div\", _hoisted_37, [\n                                    _createElementVNode(\"div\", _hoisted_38, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.神通列表, (desc, name) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: name,\n                                                class: \"skill-item\"\n                                            }, [\n                                                _createElementVNode(\"div\", _hoisted_39, _toDisplayString(name), 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_40, _toDisplayString(desc), 1 /* TEXT */)\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */)),\n                                        (!_unref(store).本尊.神通列表 || Object.keys(_unref(store).本尊.神通列表).length === 0)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_41, \" 尚未领悟任何神通 \"))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ])\n                                ])\n                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                            : (_unref(activeTab) === 'inventory')\n                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                    _createCommentVNode(\" 储物面板 \"),\n                                    _createElementVNode(\"div\", _hoisted_42, [\n                                        _createElementVNode(\"div\", _hoisted_43, [\n                                            _cache[17] || (_cache[17] = _createElementVNode(\"div\", { class: \"section-title\" }, [\n                                                _createElementVNode(\"i\", { class: \"fa-solid fa-gem\" }),\n                                                _createTextVNode(\" 法宝 \")\n                                            ], -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_44, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.法宝, (item, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: key,\n                                                        class: \"item-card treasure\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_45, _toDisplayString(item.名称), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_46, _toDisplayString(item.品阶), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_47, _toDisplayString(item.描述), 1 /* TEXT */)\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).本尊.法宝).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, \"空空如也\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_49, [\n                                            _cache[18] || (_cache[18] = _createElementVNode(\"div\", { class: \"section-title\" }, [\n                                                _createElementVNode(\"i\", { class: \"fa-solid fa-box-open\" }),\n                                                _createTextVNode(\" 储物戒 \")\n                                            ], -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_50, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.背包, (item, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: key,\n                                                        class: \"item-card\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_51, [\n                                                            _createElementVNode(\"span\", _hoisted_52, _toDisplayString(item.名称), 1 /* TEXT */),\n                                                            _createElementVNode(\"span\", _hoisted_53, \"×\" + _toDisplayString(item.数量), 1 /* TEXT */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_54, _toDisplayString(item.品阶), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_55, _toDisplayString(item.描述), 1 /* TEXT */)\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).本尊.背包).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_56, \"空空如也\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ])\n                                    ])\n                                ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                : (_unref(activeTab) === 'companions')\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                                        _createCommentVNode(\" 红颜面板 \"),\n                                        _createElementVNode(\"div\", _hoisted_57, [\n                                            _createElementVNode(\"div\", _hoisted_58, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).红颜, (companion, name) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: name,\n                                                        class: \"companion-card\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_59, [\n                                                            _createElementVNode(\"span\", _hoisted_60, _toDisplayString(name), 1 /* TEXT */),\n                                                            _createElementVNode(\"span\", {\n                                                                class: \"companion-realm\",\n                                                                style: _normalizeStyle({ color: _unref(getRealmColor)(companion.等级) })\n                                                            }, _toDisplayString(companion.境界描述), 5 /* TEXT, STYLE */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_61, [\n                                                            _cache[19] || (_cache[19] = _createElementVNode(\"span\", { class: \"relation-label\" }, \"关系:\", -1 /* CACHED */)),\n                                                            _createElementVNode(\"span\", _hoisted_62, _toDisplayString(companion.关系), 1 /* TEXT */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_63, [\n                                                            _cache[20] || (_cache[20] = _createElementVNode(\"div\", { class: \"favor-label\" }, \"好感度\", -1 /* CACHED */)),\n                                                            _createElementVNode(\"div\", _hoisted_64, [\n                                                                _createElementVNode(\"div\", {\n                                                                    class: \"favor-fill\",\n                                                                    style: _normalizeStyle({\n                                                                        width: `${Math.abs(companion.好感度)}%`,\n                                                                        backgroundColor: companion.好感度 >= 0 ? '#ff6b9d' : '#6b7fff',\n                                                                    })\n                                                                }, null, 4 /* STYLE */)\n                                                            ]),\n                                                            _createElementVNode(\"div\", _hoisted_65, _toDisplayString(companion.好感度), 1 /* TEXT */)\n                                                        ])\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).红颜).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_66, \"孑然一身，尚无红颜知己\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ])\n                                    ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                    : (_unref(activeTab) === 'map')\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 4 }, [\n                                            _createCommentVNode(\" 地图面板 \"),\n                                            _createElementVNode(\"div\", _hoisted_67, [\n                                                _createElementVNode(\"div\", _hoisted_68, [\n                                                    _createElementVNode(\"div\", _hoisted_69, _toDisplayString(_unref(store).本尊.行踪.当前区域), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_70, _toDisplayString(_unref(store).本尊.行踪.所属层级), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_71, _toDisplayString(_unref(store).本尊.行踪.环境描述), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_72, [\n                                                    _cache[21] || (_cache[21] = _createElementVNode(\"div\", { class: \"connections-title\" }, \"可通往：\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"div\", _hoisted_73, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.行踪.可用通道, (conn) => {\n                                                            return (_openBlock(), _createElementBlock(\"span\", {\n                                                                key: conn,\n                                                                class: \"connection-item\",\n                                                                style: _normalizeStyle({ borderColor: getRegionColor(conn) })\n                                                            }, _toDisplayString(conn), 5 /* TEXT, STYLE */));\n                                                        }), 128 /* KEYED_FRAGMENT */)),\n                                                        (!_unref(store).本尊.行踪.可用通道 || _unref(store).本尊.行踪.可用通道.length === 0)\n                                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_74, \" 尚未探明通道 \"))\n                                                            : _createCommentVNode(\"v-if\", true)\n                                                    ])\n                                                ])\n                                            ])\n                                        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                        : (_unref(activeTab) === 'gallery')\n                                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 5 }, [\n                                                _createCommentVNode(\" 图鉴面板 - 按比例展示卡片 \"),\n                                                _createElementVNode(\"div\", _hoisted_75, [\n                                                    (_unref(store).hasGalleryCards)\n                                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_76, [\n                                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).galleryCards, (card, index) => {\n                                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                                    key: index,\n                                                                    class: _normalizeClass([\"gallery-card\", { flipped: card.isFlipped }]),\n                                                                    onClick: ($event) => (_unref(store).toggleCardFlip(index))\n                                                                }, [\n                                                                    _createElementVNode(\"div\", _hoisted_78, [\n                                                                        _createCommentVNode(\" 正面 \"),\n                                                                        _createElementVNode(\"div\", _hoisted_79, [\n                                                                            _createElementVNode(\"img\", {\n                                                                                src: card.front,\n                                                                                alt: card.frontName || card.name\n                                                                            }, null, 8 /* PROPS */, _hoisted_80),\n                                                                            _createElementVNode(\"div\", _hoisted_81, _toDisplayString(card.frontName || card.name), 1 /* TEXT */)\n                                                                        ]),\n                                                                        _createCommentVNode(\" 背面 \"),\n                                                                        _createElementVNode(\"div\", _hoisted_82, [\n                                                                            _createElementVNode(\"div\", _hoisted_83, [\n                                                                                _createElementVNode(\"img\", {\n                                                                                    src: card.back,\n                                                                                    alt: card.backName || card.name,\n                                                                                    class: \"back-image\"\n                                                                                }, null, 8 /* PROPS */, _hoisted_84),\n                                                                                _createElementVNode(\"div\", _hoisted_85, [\n                                                                                    _createElementVNode(\"div\", _hoisted_86, _toDisplayString(card.backName || card.name), 1 /* TEXT */),\n                                                                                    _createElementVNode(\"div\", _hoisted_87, \"「\" + _toDisplayString(card.backText) + \"」\", 1 /* TEXT */)\n                                                                                ])\n                                                                            ])\n                                                                        ])\n                                                                    ])\n                                                                ], 10 /* CLASS, PROPS */, _hoisted_77));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                        ]))\n                                                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_88, \" 当前场景暂无角色卡片 \"))\n                                                ])\n                                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                            : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createCommentVNode(\" 底部：快捷信息 \"),\n                _createElementVNode(\"div\", _hoisted_89, [\n                    _createElementVNode(\"div\", _hoisted_90, [\n                        _cache[22] || (_cache[22] = _createElementVNode(\"i\", { class: \"fa-solid fa-coins\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.灵石) + \" 灵石\", 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_91, [\n                        _cache[23] || (_cache[23] = _createElementVNode(\"i\", { class: \"fa-solid fa-heart\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.寿元状态), 1 /* TEXT */)\n                    ])\n                ])\n            ], 6 /* CLASS, STYLE */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./app.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./app.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=7c4d25d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c4d25d8\"]])\n\nexport default __exports__","import { createPinia } from 'pinia';\nimport { createApp } from 'vue';\nimport App from './app.vue';\n\n$(() => {\n  const pinia = createPinia();\n  const app = createApp(App);\n\n  app.use(pinia);\n  app.mount('#app');\n\n  console.info('[踏月寻仙] 状态栏界面已加载');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","z","REALM_NAMES","REALM_STAGES","REALM_THRESHOLDS","REALM_LIFESPANS","ItemSchema","object","string","prefault","coerce","number","transform","v","Math","max","FactionSchema","describe","enum","TechniqueSchema","TreasureSchema","LocationSchema","_","clamp","array","SpiritRootSchema","PhysiqueSchema","Schema","record","layer","danger","desc","connections","boolean","optional","data","pickBy","level","majorIdx","floor","toFixed","CONFIG","effect","visual","nature","color","getRealmColor","getDangerColor","CHARACTER_ASSETS","normal","front","back","shy","smile","angry","cry","surprise","CHARACTER_IMAGE_POOLS","DEFAULT_EXPRESSION","DEFAULT_PLACEHOLDER","cachedDualSoul","dualSoulSessionUsed","getRandomImage","characterName","type","pool","console","warn","images","length","random","getDualSoulImage","url","soulName","info","soul","randomIndex","normalizeExpressionImages","config","frontResult","backResult","frontName","backName","getCharacterImages","frontImgCode","backImgCode","character","normalized","patterns","cloudImage","cloudsMulti","cloudsWithStars","stars","texture","landscape","lotus","themes","id","name","description","colors","bgPrimary","bgSecondary","border","borderActive","textPrimary","textSecondary","textAccent","accent","accentGlow","buttonBg","buttonHover","buttonActive","progressBg","headerBg","tabBg","tabActive","footerBg","overlay","getThemeById","find","t","convertToGalleryCards","visualCards","result","card","img_code","back_img_code","push","backText","back_text","isFlipped","useDataStore","errorCatched","message_id","getCurrentMessageId","rawData","ref","galleryCards","cardCache","Map","initData","retryCount","variables","getVariables","statData","keys","value","parse","defaultData","toastr","parseCurrentMessageCards","e","error","setTimeout","tryManualParseMvuMessage","async","waitGlobalInitialized","messages","getChatMessages","fallbackToInheritOrDefault","content","message","currentMvuData","Mvu","getMvuData","newMvuData","parseMessage","replaceMvuData","success","inheritedData","tryInheritFromPreviousFloor","chatMessages","currentIndex","findIndex","msg","i","prevMessageId","prevVariables","prevStatData","parsedData","cacheKey","has","match","jsonStr","trim","cards","JSON","Array","isArray","filter","parseVisualCards","set","preloadImages","warning","Error","forEach","Image","src","then","catch","eventOn","tavern_events","MESSAGE_UPDATED","MESSAGE_DELETED","MESSAGE_RECEIVED","events","VARIABLE_UPDATE_ENDED","new_variables","old_variables","has_stat_data","new_stat_data","nextTick","computed","hasData","hasGalleryCards","refresh","toggleCardFlip","index","useThemeStore","currentThemeId","currentTheme","availableThemes","savedThemeId","initTheme","setTheme","themeId","updateVariablesWith","vars","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","style","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","__name","setup","__props","store","themeStore","tabs","label","icon","activeTab","isCollapsed","showThemeSelector","toggleCollapse","toggleThemeSelector","themeStyles","theme","realmColor","rootColor","root","elem","entries","includes","getRootColor","dangerColor","locationColor","getRegionColor","region","_ctx","_cache","collapsed","alt","onClick","title","backgroundColor","default","$event","active","background","borderColor","tab","width","item","companion","abs","conn","flipped","$","pinia","app","createApp","use","mount"],"ignoreList":[],"sourceRoot":""}